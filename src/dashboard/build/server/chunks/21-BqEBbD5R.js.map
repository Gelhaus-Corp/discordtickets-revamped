{"version":3,"file":"21-BqEBbD5R.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/settings/_guild_/feedback/_page.js","../../../.svelte-kit/adapter-node/nodes/21.js"],"sourcesContent":["import \"@sveltejs/kit\";\nasync function load({ fetch, params }) {\n  const fetchOptions = { credentials: \"include\" };\n  try {\n    const [feedbackRes, analyticsRes, categoriesRes] = await Promise.all([\n      fetch(`/api/admin/guilds/${params.guild}/feedback?limit=100`, fetchOptions),\n      fetch(`/api/admin/guilds/${params.guild}/analytics`, fetchOptions),\n      fetch(`/api/admin/guilds/${params.guild}/categories`, fetchOptions)\n    ]);\n    const feedbackData = feedbackRes.ok ? await feedbackRes.json() : { feedback: [] };\n    const analytics = analyticsRes.ok ? await analyticsRes.json() : null;\n    const categories = categoriesRes.ok ? await categoriesRes.json() : [];\n    const feedback = feedbackData.feedback || [];\n    const stats = {\n      total: feedbackData.totalCount || feedback.length,\n      avgRating: feedbackData.avgRating || (feedback.length > 0 ? (feedback.reduce((sum, f) => sum + (f.rating || 0), 0) / feedback.length).toFixed(2) : 0),\n      byRating: feedbackData.ratingCounts || {\n        5: feedback.filter((f) => f.rating === 5).length,\n        4: feedback.filter((f) => f.rating === 4).length,\n        3: feedback.filter((f) => f.rating === 3).length,\n        2: feedback.filter((f) => f.rating === 2).length,\n        1: feedback.filter((f) => f.rating === 1).length\n      }\n    };\n    const feedbackByCategory = {};\n    feedback.forEach((f) => {\n      const categoryName = f.categoryName || \"Unknown\";\n      if (!feedbackByCategory[categoryName]) {\n        feedbackByCategory[categoryName] = [];\n      }\n      feedbackByCategory[categoryName].push(f);\n    });\n    return {\n      feedback,\n      stats,\n      feedbackByCategory,\n      trend: feedbackData.trend || [],\n      categories,\n      analytics\n    };\n  } catch (err) {\n    console.error(\"Failed to load feedback data:\", err);\n    return {\n      feedback: [],\n      stats: { total: 0, avgRating: 0, byRating: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 } },\n      feedbackByCategory: {},\n      trend: [],\n      categories: [],\n      analytics: null\n    };\n  }\n}\nexport {\n  load\n};\n","import * as universal from '../entries/pages/settings/_guild_/feedback/_page.js';\n\nexport const index = 21;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/settings/_guild_/feedback/_page.svelte.js')).default;\nexport { universal };\nexport const universal_id = \"src/routes/settings/[guild]/feedback/+page.js\";\nexport const imports = [\"_app/immutable/nodes/21.teAQgLcG.js\",\"_app/immutable/chunks/B17Q6ahh.js\",\"_app/immutable/chunks/Bzak7iHL.js\",\"_app/immutable/chunks/CWXCXDbJ.js\",\"_app/immutable/chunks/DIeogL5L.js\",\"_app/immutable/chunks/BTVB6o0Y.js\",\"_app/immutable/chunks/BnKh12PZ.js\",\"_app/immutable/chunks/DU73alKZ.js\",\"_app/immutable/chunks/DuqOsHh6.js\",\"_app/immutable/chunks/DNgBoiT1.js\",\"_app/immutable/chunks/C9yEqpEA.js\",\"_app/immutable/chunks/CUQ3wp6X.js\",\"_app/immutable/chunks/D8EB0mrL.js\",\"_app/immutable/chunks/DeGpVRd_.js\",\"_app/immutable/chunks/J_wX4PLQ.js\",\"_app/immutable/chunks/BR6RR1uv.js\",\"_app/immutable/chunks/BAc9Nw6w.js\",\"_app/immutable/chunks/CjzHswfe.js\",\"_app/immutable/chunks/C1PfqNCt.js\",\"_app/immutable/chunks/CYgJF_JY.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}