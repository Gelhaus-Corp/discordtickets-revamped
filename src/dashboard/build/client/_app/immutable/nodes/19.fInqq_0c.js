const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/D2-oBDD7.js","../chunks/Dp1pzeXC.js"])))=>i.map(i=>d[i]);
import{e as Fo}from"../chunks/Cxx9n8vM.js";import{_ as Lo}from"../chunks/Dp1pzeXC.js";import"../chunks/Bzak7iHL.js";import{o as Ua}from"../chunks/BgOtEVpo.js";import{m as jo,V as Xo,bE as Yo,l as Bo,p as Wt,h as ye,c as u,i as p,r as s,bJ as Ga,a as C,b as Ut,f as A,aV as Fi,t as B,g,aW as Ze,d as Fe,U as ct,s as xe,aX as Ho,j as kt,e as yi,u as ka,aO as Ca,aT as Wo}from"../chunks/w0yj2jlX.js";import{s as ce}from"../chunks/BooD_1dB.js";import{i as K}from"../chunks/DP_MZUJz.js";import{B as Uo}from"../chunks/D6OMl6Um.js";import{e as Me,i as Re}from"../chunks/CKSmJmMa.js";import{h as Oa}from"../chunks/BLCeSZTc.js";import{r as ie,b as We,s as za,a as X}from"../chunks/Do0hC5vz.js";import{s as Nt}from"../chunks/-Srq_yTr.js";import{c as Ia}from"../chunks/pWFdQPuX.js";import{s as wi}from"../chunks/t68F5GHz.js";import{b as ne,a as qt}from"../chunks/B8fiHuBK.js";import{p as Go}from"../chunks/r2wwZTEc.js";import{r as Pa}from"../chunks/BlfGCrMp.js";import{m as xi}from"../chunks/5EBxWskT.js";import{e as Aa}from"../chunks/DSwvs_u7.js";import{m as Na}from"../chunks/CQd6UhM_.js";import{b as zo}from"../chunks/BrJJN1Z4.js";import{s as Vo,a as $o}from"../chunks/D9CK0TUC.js";import{p as Qo}from"../chunks/BbLmn6CC.js";import{p as Va}from"../chunks/BeFxoXHY.js";import{R as Ie,E as Jo}from"../chunks/oOXq3wLi.js";import{m as Ko}from"../chunks/DEPaeXhG.js";import{q as V}from"../chunks/BEzlR08_.js";import{b as Zo}from"../chunks/Ccka-6AH.js";const en=Symbol("NaN");function qa(i,e,t){jo&&Xo();var a=new Uo(i),o=!Yo();Bo(()=>{var n=e();n!==n&&(n=en),o&&n!==null&&typeof n=="object"&&(n={}),a.ensure(n,t)})}async function tn({fetch:i,params:e}){var n;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50};else{const r=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),l=(n=r.headers.get("Content-Type"))==null?void 0:n.includes("json");a=l?await r.json():await r.text(),r.ok||Fo(r.status,l?JSON.stringify(a):a)}let o=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(o+=`/${e.category}`),{url:o,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const Ur=Object.freeze(Object.defineProperty({__proto__:null,load:tn},Symbol.toStringTag,{value:"Module"}));let Ct;const an=new Uint8Array(16);function on(){if(!Ct&&(Ct=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ct))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ct(an)}const le=[];for(let i=0;i<256;++i)le.push((i+256).toString(16).slice(1));function nn(i,e=0){return le[i[e+0]]+le[i[e+1]]+le[i[e+2]]+le[i[e+3]]+"-"+le[i[e+4]]+le[i[e+5]]+"-"+le[i[e+6]]+le[i[e+7]]+"-"+le[i[e+8]]+le[i[e+9]]+"-"+le[i[e+10]]+le[i[e+11]]+le[i[e+12]]+le[i[e+13]]+le[i[e+14]]+le[i[e+15]]}const rn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:rn};function ln(i,e,t){if(Ma.randomUUID&&!i)return Ma.randomUUID();i=i||{};const a=i.random||(i.rng||on)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,nn(a)}/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function sn(i,e,t){return(e=fn(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function je(){return je=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},je.apply(null,arguments)}function Ra(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function Ne(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ra(Object(t),!0).forEach(function(a){sn(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ra(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function dn(i,e){if(i==null)return{};var t,a,o=un(i,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);for(a=0;a<n.length;a++)t=n[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(o[t]=i[t])}return o}function un(i,e){if(i==null)return{};var t={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;t[a]=i[a]}return t}function cn(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function fn(i){var e=cn(i,"string");return typeof e=="symbol"?e:e+""}function Ai(i){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(i)}var pn="1.15.7";function Le(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Xe=Le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yt=Le(/Edge/i),Fa=Le(/firefox/i),ht=Le(/safari/i)&&!Le(/chrome/i)&&!Le(/android/i),Li=Le(/iP(ad|od|hone)/i),$a=Le(/chrome/i)&&Le(/android/i),Qa={capture:!1,passive:!1};function P(i,e,t){i.addEventListener(e,t,!Xe&&Qa)}function O(i,e,t){i.removeEventListener(e,t,!Xe&&Qa)}function jt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ja(i){return i.host&&i!==document&&i.host.nodeType&&i.host!==i?i.host:i.parentNode}function Pe(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&jt(i,e):jt(i,e))||a&&i===t)return i;if(i===t)break}while(i=Ja(i))}return null}var La=/\s+/g;function _e(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(La," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(La," ")}}function x(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function rt(i,e){var t="";if(typeof i=="string")t=i;else do{var a=x(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Ka(i,e,t){if(i){var a=i.getElementsByTagName(e),o=0,n=a.length;if(t)for(;o<n;o++)t(a[o],o);return a}return[]}function Ae(){var i=document.scrollingElement;return i||document.documentElement}function ae(i,e,t,a,o){if(!(!i.getBoundingClientRect&&i!==window)){var n,r,l,c,f,v,m;if(i!==window&&i.parentNode&&i!==Ae()?(n=i.getBoundingClientRect(),r=n.top,l=n.left,c=n.bottom,f=n.right,v=n.height,m=n.width):(r=0,l=0,c=window.innerHeight,f=window.innerWidth,v=window.innerHeight,m=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!Xe))do if(o&&o.getBoundingClientRect&&(x(o,"transform")!=="none"||t&&x(o,"position")!=="static")){var _=o.getBoundingClientRect();r-=_.top+parseInt(x(o,"border-top-width")),l-=_.left+parseInt(x(o,"border-left-width")),c=r+n.height,f=l+n.width;break}while(o=o.parentNode);if(a&&i!==window){var D=rt(o||i),y=D&&D.a,T=D&&D.d;D&&(r/=T,l/=y,m/=y,v/=T,c=r+v,f=l+m)}return{top:r,left:l,bottom:c,right:f,width:m,height:v}}}function ja(i,e,t){for(var a=ze(i,!0),o=ae(i)[e];a;){var n=ae(a)[t],r=void 0;if(r=o>=n,!r)return a;if(a===Ae())break;a=ze(a,!1)}return!1}function lt(i,e,t,a){for(var o=0,n=0,r=i.children;n<r.length;){if(r[n].style.display!=="none"&&r[n]!==E.ghost&&(a||r[n]!==E.dragged)&&Pe(r[n],t.draggable,i,!1)){if(o===e)return r[n];o++}n++}return null}function ji(i,e){for(var t=i.lastElementChild;t&&(t===E.ghost||x(t,"display")==="none"||e&&!jt(t,e));)t=t.previousElementSibling;return t||null}function ke(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==E.clone&&(!e||jt(i,e))&&t++;return t}function Xa(i){var e=0,t=0,a=Ae();if(i)do{var o=rt(i),n=o.a,r=o.d;e+=i.scrollLeft*n,t+=i.scrollTop*r}while(i!==a&&(i=i.parentNode));return[e,t]}function mn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function ze(i,e){if(!i||!i.getBoundingClientRect)return Ae();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=x(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ae();if(a||e)return t;a=!0}}while(t=t.parentNode);return Ae()}function hn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Ei(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var vt;function Za(i,e){return function(){if(!vt){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),vt=setTimeout(function(){vt=void 0},e)}}}function vn(){clearTimeout(vt),vt=void 0}function eo(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function to(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function io(i,e,t){var a={};return Array.from(i.children).forEach(function(o){var n,r,l,c;if(!(!Pe(o,e.draggable,i,!1)||o.animated||o===t)){var f=ae(o);a.left=Math.min((n=a.left)!==null&&n!==void 0?n:1/0,f.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,f.top),a.right=Math.max((l=a.right)!==null&&l!==void 0?l:-1/0,f.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,f.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var ge="Sortable"+new Date().getTime();function gn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(x(o,"display")==="none"||o===E.ghost)){i.push({target:o,rect:ae(o)});var n=Ne({},i[i.length-1].rect);if(o.thisAnimationDuration){var r=rt(o,!0);r&&(n.top-=r.f,n.left-=r.e)}o.fromRect=n}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(mn(i,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var n=!1,r=0;i.forEach(function(l){var c=0,f=l.target,v=f.fromRect,m=ae(f),_=f.prevFromRect,D=f.prevToRect,y=l.rect,T=rt(f,!0);T&&(m.top-=T.f,m.left-=T.e),f.toRect=m,f.thisAnimationDuration&&Ei(_,m)&&!Ei(v,m)&&(y.top-m.top)/(y.left-m.left)===(v.top-m.top)/(v.left-m.left)&&(c=_n(y,_,D,o.options)),Ei(m,v)||(f.prevFromRect=v,f.prevToRect=m,c||(c=o.options.animation),o.animate(f,y,m,c)),c&&(n=!0,r=Math.max(r,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),n?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),i=[]},animate:function(a,o,n,r){if(r){x(a,"transition",""),x(a,"transform","");var l=rt(this.el),c=l&&l.a,f=l&&l.d,v=(o.left-n.left)/(c||1),m=(o.top-n.top)/(f||1);a.animatingX=!!v,a.animatingY=!!m,x(a,"transform","translate3d("+v+"px,"+m+"px,0)"),this.forRepaintDummy=bn(a),x(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),x(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){x(a,"transition",""),x(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function bn(i){return i.offsetWidth}function _n(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var it=[],Di={initializeByDefault:!0},wt={mount:function(e){for(var t in Di)Di.hasOwnProperty(t)&&!(t in e)&&(e[t]=Di[t]);it.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),it.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var n=e+"Global";it.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](Ne({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Ne({sortable:t},a)))})},initializePlugins:function(e,t,a,o){it.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var f=new l(e,t,e.options);f.sortable=e,f.options=e.options,e[c]=f,je(a,f.defaults)}});for(var n in e.options)if(e.options.hasOwnProperty(n)){var r=this.modifyOption(e,n,e.options[n]);typeof r<"u"&&(e.options[n]=r)}},getEventProperties:function(e,t){var a={};return it.forEach(function(o){typeof o.eventProperties=="function"&&je(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return it.forEach(function(n){e[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[t]=="function"&&(o=n.optionListeners[t].call(e[n.pluginName],a))}),o}};function yn(i){var e=i.sortable,t=i.rootEl,a=i.name,o=i.targetEl,n=i.cloneEl,r=i.toEl,l=i.fromEl,c=i.oldIndex,f=i.newIndex,v=i.oldDraggableIndex,m=i.newDraggableIndex,_=i.originalEvent,D=i.putSortable,y=i.extraEventProperties;if(e=e||t&&t[ge],!!e){var T,M=e.options,$="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Xe&&!yt?T=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(a,!0,!0)),T.to=r||t,T.from=l||t,T.item=o||t,T.clone=n,T.oldIndex=c,T.newIndex=f,T.oldDraggableIndex=v,T.newDraggableIndex=m,T.originalEvent=_,T.pullMode=D?D.lastPutMode:void 0;var N=Ne(Ne({},y),wt.getEventProperties(a,e));for(var Q in N)T[Q]=N[Q];t&&t.dispatchEvent(T),M[$]&&M[$].call(e,T)}}var wn=["evt"],ve=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,n=dn(a,wn);wt.pluginEvent.bind(E)(e,t,Ne({dragEl:h,parentEl:z,ghostEl:S,rootEl:Y,nextEl:Ke,lastDownEl:Mt,cloneEl:G,cloneHidden:Ge,dragStarted:ft,putSortable:se,activeSortable:E.active,originalEvent:o,oldIndex:nt,oldDraggableIndex:gt,newIndex:we,newDraggableIndex:Ue,hideGhostForTarget:ro,unhideGhostForTarget:lo,cloneNowHidden:function(){Ge=!0},cloneNowShown:function(){Ge=!1},dispatchSortableEvent:function(l){fe({sortable:t,name:l,originalEvent:o})}},n))};function fe(i){yn(Ne({putSortable:se,cloneEl:G,targetEl:h,rootEl:Y,oldIndex:nt,oldDraggableIndex:gt,newIndex:we,newDraggableIndex:Ue},i))}var h,z,S,Y,Ke,Mt,G,Ge,nt,we,gt,Ue,Ot,se,ot=!1,Xt=!1,Yt=[],Qe,Oe,Ti,Si,Ya,Ba,ft,at,bt,_t=!1,It=!1,Rt,ue,ki=[],Ni=!1,Bt=[],Gt=typeof document<"u",Pt=Li,Ha=yt||Xe?"cssFloat":"float",xn=Gt&&!$a&&!Li&&"draggable"in document.createElement("div"),ao=(function(){if(Gt){if(Xe)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),oo=function(e,t){var a=x(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),n=lt(e,0,t),r=lt(e,1,t),l=n&&x(n),c=r&&x(r),f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ae(n).width,v=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ae(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&l.float&&l.float!=="none"){var m=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return n&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||f>=o&&a[Ha]==="none"||r&&a[Ha]==="none"&&f+v>o)?"vertical":"horizontal"},En=function(e,t,a){var o=a?e.left:e.top,n=a?e.right:e.bottom,r=a?e.width:e.height,l=a?t.left:t.top,c=a?t.right:t.bottom,f=a?t.width:t.height;return o===l||n===c||o+r/2===l+f/2},Dn=function(e,t){var a;return Yt.some(function(o){var n=o[ge].options.emptyInsertThreshold;if(!(!n||ji(o))){var r=ae(o),l=e>=r.left-n&&e<=r.right+n,c=t>=r.top-n&&t<=r.bottom+n;if(l&&c)return a=o}}),a},no=function(e){function t(n,r){return function(l,c,f,v){var m=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(n==null&&(r||m))return!0;if(n==null||n===!1)return!1;if(r&&n==="clone")return n;if(typeof n=="function")return t(n(l,c,f,v),r)(l,c,f,v);var _=(r?l:c).options.group.name;return n===!0||typeof n=="string"&&n===_||n.join&&n.indexOf(_)>-1}}var a={},o=e.group;(!o||Ai(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},ro=function(){!ao&&S&&x(S,"display","none")},lo=function(){!ao&&S&&x(S,"display","")};Gt&&!$a&&document.addEventListener("click",function(i){if(Xt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Xt=!1,!1},!0);var Je=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Dn(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[ge]._onDragOver(a)}}},Tn=function(e){h&&h.parentNode[ge]._isOutsideThisEl(e.target)};function E(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=je({},e),i[ge]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return oo(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&(!ht||Li),emptyInsertThreshold:5};wt.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);no(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:xn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(i,"pointerdown",this._onTapStart):(P(i,"mousedown",this._onTapStart),P(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(i,"dragover",this),P(i,"dragenter",this)),Yt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),je(this,gn())}E.prototype={constructor:E,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(at=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,n=o.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,v=o.filter;if(Nn(a),!h&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&ht&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Pe(c,o.draggable,a,!1),!(c&&c.animated)&&Mt!==c)){if(nt=ke(c),gt=ke(c,o.draggable),typeof v=="function"){if(v.call(this,e,c,this)){fe({sortable:t,rootEl:f,name:"filter",targetEl:c,toEl:a,fromEl:a}),ve("filter",t,{evt:e}),n&&e.preventDefault();return}}else if(v&&(v=v.split(",").some(function(m){if(m=Pe(f,m.trim(),a,!1),m)return fe({sortable:t,rootEl:m,name:"filter",targetEl:c,fromEl:a,toEl:a}),ve("filter",t,{evt:e}),!0}),v)){n&&e.preventDefault();return}o.handle&&!Pe(f,o.handle,a,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,a){var o=this,n=o.el,r=o.options,l=n.ownerDocument,c;if(a&&!h&&a.parentNode===n){var f=ae(a);if(Y=n,h=a,z=h.parentNode,Ke=h.nextSibling,Mt=a,Ot=r.group,E.dragged=h,Qe={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Ya=Qe.clientX-f.left,Ba=Qe.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",c=function(){if(ve("delayEnded",o,{evt:e}),E.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Fa&&o.nativeDraggable&&(h.draggable=!0),o._triggerDragStart(e,t),fe({sortable:o,name:"choose",originalEvent:e}),_e(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(v){Ka(h,v.trim(),Ci)}),P(l,"dragover",Je),P(l,"mousemove",Je),P(l,"touchmove",Je),r.supportPointer?(P(l,"pointerup",o._onDrop),!this.nativeDraggable&&P(l,"pointercancel",o._onDrop)):(P(l,"mouseup",o._onDrop),P(l,"touchend",o._onDrop),P(l,"touchcancel",o._onDrop)),Fa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),ve("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(yt||Xe))){if(E.eventCanceled){this._onDrop();return}r.supportPointer?(P(l,"pointerup",o._disableDelayedDrag),P(l,"pointercancel",o._disableDelayedDrag)):(P(l,"mouseup",o._disableDelayedDrag),P(l,"touchend",o._disableDelayedDrag),P(l,"touchcancel",o._disableDelayedDrag)),P(l,"mousemove",o._delayedDragTouchMoveHandler),P(l,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&P(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Ci(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._disableDelayedDrag),O(e,"touchend",this._disableDelayedDrag),O(e,"touchcancel",this._disableDelayedDrag),O(e,"pointerup",this._disableDelayedDrag),O(e,"pointercancel",this._disableDelayedDrag),O(e,"mousemove",this._delayedDragTouchMoveHandler),O(e,"touchmove",this._delayedDragTouchMoveHandler),O(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):t?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(h,"dragend",this),P(Y,"dragstart",this._onDragStart));try{document.selection?Ft(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ot=!1,Y&&h){ve("dragStarted",this,{evt:t}),this.nativeDraggable&&P(document,"dragover",Tn);var a=this.options;!e&&_e(h,a.dragClass,!1),_e(h,a.ghostClass,!0),E.active=this,e&&this._appendGhost(),fe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Oe){this._lastX=Oe.clientX,this._lastY=Oe.clientY,ro();for(var e=document.elementFromPoint(Oe.clientX,Oe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Oe.clientX,Oe.clientY),e!==t);)t=e;if(h.parentNode[ge]._isOutsideThisEl(e),t)do{if(t[ge]){var a=void 0;if(a=t[ge]._onDragOver({clientX:Oe.clientX,clientY:Oe.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=Ja(t));lo()}},_onTouchMove:function(e){if(Qe){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,n=e.touches?e.touches[0]:e,r=S&&rt(S,!0),l=S&&r&&r.a,c=S&&r&&r.d,f=Pt&&ue&&Xa(ue),v=(n.clientX-Qe.clientX+o.x)/(l||1)+(f?f[0]-ki[0]:0)/(l||1),m=(n.clientY-Qe.clientY+o.y)/(c||1)+(f?f[1]-ki[1]:0)/(c||1);if(!E.active&&!ot){if(a&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(S){r?(r.e+=v-(Ti||0),r.f+=m-(Si||0)):r={a:1,b:0,c:0,d:1,e:v,f:m};var _="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");x(S,"webkitTransform",_),x(S,"mozTransform",_),x(S,"msTransform",_),x(S,"transform",_),Ti=v,Si=m,Oe=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:Y,t=ae(h,!0,Pt,!0,e),a=this.options;if(Pt){for(ue=e;x(ue,"position")==="static"&&x(ue,"transform")==="none"&&ue!==document;)ue=ue.parentNode;ue!==document.body&&ue!==document.documentElement?(ue===document&&(ue=Ae()),t.top+=ue.scrollTop,t.left+=ue.scrollLeft):ue=Ae(),ki=Xa(ue)}S=h.cloneNode(!0),_e(S,a.ghostClass,!1),_e(S,a.fallbackClass,!0),_e(S,a.dragClass,!0),x(S,"transition",""),x(S,"transform",""),x(S,"box-sizing","border-box"),x(S,"margin",0),x(S,"top",t.top),x(S,"left",t.left),x(S,"width",t.width),x(S,"height",t.height),x(S,"opacity","0.8"),x(S,"position",Pt?"absolute":"fixed"),x(S,"zIndex","100000"),x(S,"pointerEvents","none"),E.ghost=S,e.appendChild(S),x(S,"transform-origin",Ya/parseInt(S.style.width)*100+"% "+Ba/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,n=a.options;if(ve("dragStart",this,{evt:e}),E.eventCanceled){this._onDrop();return}ve("setupClone",this),E.eventCanceled||(G=to(h),G.removeAttribute("id"),G.draggable=!1,G.style["will-change"]="",this._hideClone(),_e(G,this.options.chosenClass,!1),E.clone=G),a.cloneId=Ft(function(){ve("clone",a),!E.eventCanceled&&(a.options.removeCloneOnHide||Y.insertBefore(G,h),a._hideClone(),fe({sortable:a,name:"clone"}))}),!t&&_e(h,n.dragClass,!0),t?(Xt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(O(document,"mouseup",a._onDrop),O(document,"touchend",a._onDrop),O(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",n.setData&&n.setData.call(a,o,h)),P(document,"drop",a),x(h,"transform","translateZ(0)")),ot=!0,a._dragStartId=Ft(a._dragStarted.bind(a,t,e)),P(document,"selectstart",a),ft=!0,window.getSelection().removeAllRanges(),ht&&x(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,n,r,l=this.options,c=l.group,f=E.active,v=Ot===c,m=l.sort,_=se||f,D,y=this,T=!1;if(Ni)return;function M(Te,Ve){ve(Te,y,Ne({evt:e,isOwner:v,axis:D?"vertical":"horizontal",revert:r,dragRect:o,targetRect:n,canSort:m,fromSortable:_,target:a,completed:N,onMove:function(Be,et){return At(Y,t,h,o,Be,ae(Be),e,et)},changed:Q},Ve))}function $(){M("dragOverAnimationCapture"),y.captureAnimationState(),y!==_&&_.captureAnimationState()}function N(Te){return M("dragOverCompleted",{insertion:Te}),Te&&(v?f._hideClone():f._showClone(y),y!==_&&(_e(h,se?se.options.ghostClass:f.options.ghostClass,!1),_e(h,l.ghostClass,!0)),se!==y&&y!==E.active?se=y:y===E.active&&se&&(se=null),_===y&&(y._ignoreWhileAnimating=a),y.animateAll(function(){M("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(a===h&&!h.animated||a===t&&!a.animated)&&(at=null),!l.dragoverBubble&&!e.rootEl&&a!==document&&(h.parentNode[ge]._isOutsideThisEl(e.target),!Te&&Je(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function Q(){we=ke(h),Ue=ke(h,l.draggable),fe({sortable:y,name:"change",toEl:t,newIndex:we,newDraggableIndex:Ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Pe(a,l.draggable,t,!0),M("dragOver"),E.eventCanceled)return T;if(h.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||y._ignoreWhileAnimating===a)return N(!1);if(Xt=!1,f&&!l.disabled&&(v?m||(r=z!==Y):se===this||(this.lastPutMode=Ot.checkPull(this,f,h,e))&&c.checkPut(this,f,h,e))){if(D=this._getDirection(e,a)==="vertical",o=ae(h),M("dragOverValid"),E.eventCanceled)return T;if(r)return z=Y,$(),this._hideClone(),M("revert"),E.eventCanceled||(Ke?Y.insertBefore(h,Ke):Y.appendChild(h)),N(!0);var j=ji(t,l.draggable);if(!j||On(e,D,this)&&!j.animated){if(j===h)return N(!1);if(j&&t===e.target&&(a=j),a&&(n=ae(a)),At(Y,t,h,o,a,n,e,!!a)!==!1)return $(),j&&j.nextSibling?t.insertBefore(h,j.nextSibling):t.appendChild(h),z=t,Q(),N(!0)}else if(j&&Cn(e,D,this)){var Z=lt(t,0,l,!0);if(Z===h)return N(!1);if(a=Z,n=ae(a),At(Y,t,h,o,a,n,e,!1)!==!1)return $(),t.insertBefore(h,Z),z=t,Q(),N(!0)}else if(a.parentNode===t){n=ae(a);var H=0,J,re=h.parentNode!==t,R=!En(h.animated&&h.toRect||o,a.animated&&a.toRect||n,D),F=D?"top":"left",oe=ja(a,"top","top")||ja(h,"top","top"),k=oe?oe.scrollTop:void 0;at!==a&&(J=n[F],_t=!1,It=!R&&l.invertSwap||re),H=In(e,a,n,D,R?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,It,at===a);var W;if(H!==0){var pe=ke(h);do pe-=H,W=z.children[pe];while(W&&(x(W,"display")==="none"||W===S))}if(H===0||W===a)return N(!1);at=a,bt=H;var Ee=a.nextElementSibling,be=!1;be=H===1;var De=At(Y,t,h,o,a,n,e,be);if(De!==!1)return(De===1||De===-1)&&(be=De===1),Ni=!0,setTimeout(kn,30),$(),be&&!Ee?t.appendChild(h):a.parentNode.insertBefore(h,be?Ee:a),oe&&eo(oe,0,k-oe.scrollTop),z=h.parentNode,J!==void 0&&!It&&(Rt=Math.abs(J-ae(a)[F])),Q(),N(!0)}if(t.contains(h))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",Je),O(document,"mousemove",Je),O(document,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._onDrop),O(e,"touchend",this._onDrop),O(e,"pointerup",this._onDrop),O(e,"pointercancel",this._onDrop),O(e,"touchcancel",this._onDrop),O(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(we=ke(h),Ue=ke(h,a.draggable),ve("drop",this,{evt:e}),z=h&&h.parentNode,we=ke(h),Ue=ke(h,a.draggable),E.eventCanceled){this._nulling();return}ot=!1,It=!1,_t=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qi(this.cloneId),qi(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ht&&x(document.body,"user-select",""),x(h,"transform",""),e&&(ft&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(Y===z||se&&se.lastPutMode!=="clone")&&G&&G.parentNode&&G.parentNode.removeChild(G),h&&(this.nativeDraggable&&O(h,"dragend",this),Ci(h),h.style["will-change"]="",ft&&!ot&&_e(h,se?se.options.ghostClass:this.options.ghostClass,!1),_e(h,this.options.chosenClass,!1),fe({sortable:this,name:"unchoose",toEl:z,newIndex:null,newDraggableIndex:null,originalEvent:e}),Y!==z?(we>=0&&(fe({rootEl:z,name:"add",toEl:z,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"remove",toEl:z,originalEvent:e}),fe({rootEl:z,name:"sort",toEl:z,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"sort",toEl:z,originalEvent:e})),se&&se.save()):we!==nt&&we>=0&&(fe({sortable:this,name:"update",toEl:z,originalEvent:e}),fe({sortable:this,name:"sort",toEl:z,originalEvent:e})),E.active&&((we==null||we===-1)&&(we=nt,Ue=gt),fe({sortable:this,name:"end",toEl:z,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ve("nulling",this),Y=h=z=S=Ke=G=Mt=Ge=Qe=Oe=ft=we=Ue=nt=gt=at=bt=se=Ot=E.dragged=E.ghost=E.clone=E.active=null;var e=this.el;Bt.forEach(function(t){e.contains(t)&&(t.checked=!0)}),Bt.length=Ti=Si=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),Sn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,n=a.length,r=this.options;o<n;o++)t=a[o],Pe(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||An(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(n,r){var l=o.children[r];Pe(l,this.options.draggable,o,!1)&&(a[n]=l)},this),t&&this.captureAnimationState(),e.forEach(function(n){a[n]&&(o.removeChild(a[n]),o.appendChild(a[n]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Pe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=wt.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&no(a)},destroy:function(){ve("destroy",this);var e=this.el;e[ge]=null,O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart),O(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Yt.splice(Yt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ge){if(ve("hideClone",this),E.eventCanceled)return;x(G,"display","none"),this.options.removeCloneOnHide&&G.parentNode&&G.parentNode.removeChild(G),Ge=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ge){if(ve("showClone",this),E.eventCanceled)return;h.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(G,h):Ke?Y.insertBefore(G,Ke):Y.appendChild(G),this.options.group.revertClone&&this.animate(h,G),x(G,"display",""),Ge=!1}}};function Sn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function At(i,e,t,a,o,n,r,l){var c,f=i[ge],v=f.options.onMove,m;return window.CustomEvent&&!Xe&&!yt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=i,c.dragged=t,c.draggedRect=a,c.related=o||e,c.relatedRect=n||ae(e),c.willInsertAfter=l,c.originalEvent=r,i.dispatchEvent(c),v&&(m=v.call(f,c,r)),m}function Ci(i){i.draggable=!1}function kn(){Ni=!1}function Cn(i,e,t){var a=ae(lt(t.el,0,t.options,!0)),o=io(t.el,t.options,S),n=10;return e?i.clientX<o.left-n||i.clientY<a.top&&i.clientX<a.right:i.clientY<o.top-n||i.clientY<a.bottom&&i.clientX<a.left}function On(i,e,t){var a=ae(ji(t.el,t.options.draggable)),o=io(t.el,t.options,S),n=10;return e?i.clientX>o.right+n||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>o.bottom+n||i.clientX>a.right&&i.clientY>a.top}function In(i,e,t,a,o,n,r,l){var c=a?i.clientY:i.clientX,f=a?t.height:t.width,v=a?t.top:t.left,m=a?t.bottom:t.right,_=!1;if(!r){if(l&&Rt<f*o){if(!_t&&(bt===1?c>v+f*n/2:c<m-f*n/2)&&(_t=!0),_t)_=!0;else if(bt===1?c<v+Rt:c>m-Rt)return-bt}else if(c>v+f*(1-o)/2&&c<m-f*(1-o)/2)return Pn(e)}return _=_||r,_&&(c<v+f*n/2||c>m-f*n/2)?c>v+f/2?1:-1:0}function Pn(i){return ke(h)<ke(i)?1:-1}function An(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function Nn(i){Bt.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Bt.push(a)}}function Ft(i){return setTimeout(i,0)}function qi(i){return clearTimeout(i)}Gt&&P(document,"touchmove",function(i){(E.active||ot)&&i.cancelable&&i.preventDefault()});E.utils={on:P,off:O,css:x,find:Ka,is:function(e,t){return!!Pe(e,t,e,!1)},extend:hn,throttle:Za,closest:Pe,toggleClass:_e,clone:to,index:ke,nextTick:Ft,cancelNextTick:qi,detectDirection:oo,getChild:lt,expando:ge};E.get=function(i){return i[ge]};E.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(E.utils=Ne(Ne({},E.utils),a.utils)),wt.mount(a)})};E.create=function(i,e){return new E(i,e)};E.version=pn;var te=[],pt,Mi,Ri=!1,Oi,Ii,Ht,mt;function qn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):a.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),Wa(),Lt(),vn()},nulling:function(){Ht=Mi=pt=Ri=mt=Oi=Ii=null,te.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(n,r);if(Ht=t,a||this.options.forceAutoScrollFallback||yt||Xe||ht){Pi(t,this.options,l,a);var c=ze(l,!0);Ri&&(!mt||n!==Oi||r!==Ii)&&(mt&&Wa(),mt=setInterval(function(){var f=ze(document.elementFromPoint(n,r),!0);f!==c&&(c=f,Lt()),Pi(t,o.options,f,a)},10),Oi=n,Ii=r)}else{if(!this.options.bubbleScroll||ze(l,!0)===Ae()){Lt();return}Pi(t,this.options,ze(l,!1),!1)}}},je(i,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){te.forEach(function(i){clearInterval(i.pid)}),te=[]}function Wa(){clearInterval(mt)}var Pi=Za(function(i,e,t,a){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,n=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,c=Ae(),f=!1,v;Mi!==t&&(Mi=t,Lt(),pt=e.scroll,v=e.scrollFn,pt===!0&&(pt=ze(t,!0)));var m=0,_=pt;do{var D=_,y=ae(D),T=y.top,M=y.bottom,$=y.left,N=y.right,Q=y.width,j=y.height,Z=void 0,H=void 0,J=D.scrollWidth,re=D.scrollHeight,R=x(D),F=D.scrollLeft,oe=D.scrollTop;D===c?(Z=Q<J&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),H=j<re&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(Z=Q<J&&(R.overflowX==="auto"||R.overflowX==="scroll"),H=j<re&&(R.overflowY==="auto"||R.overflowY==="scroll"));var k=Z&&(Math.abs(N-o)<=r&&F+Q<J)-(Math.abs($-o)<=r&&!!F),W=H&&(Math.abs(M-n)<=r&&oe+j<re)-(Math.abs(T-n)<=r&&!!oe);if(!te[m])for(var pe=0;pe<=m;pe++)te[pe]||(te[pe]={});(te[m].vx!=k||te[m].vy!=W||te[m].el!==D)&&(te[m].el=D,te[m].vx=k,te[m].vy=W,clearInterval(te[m].pid),(k!=0||W!=0)&&(f=!0,te[m].pid=setInterval((function(){a&&this.layer===0&&E.active._onTouchMove(Ht);var Ee=te[this.layer].vy?te[this.layer].vy*l:0,be=te[this.layer].vx?te[this.layer].vx*l:0;typeof v=="function"&&v.call(E.dragged.parentNode[ge],be,Ee,i,Ht,te[this.layer].el)!=="continue"||eo(te[this.layer].el,be,Ee)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&_!==c&&(_=ze(_,!1)));Ri=f}},30),so=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,n=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var f=a||n;l();var v=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(v.clientX,v.clientY);c(),f&&!f.el.contains(m)&&(r("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function Xi(){}Xi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=lt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:so};je(Xi,{pluginName:"revertOnSpill"});function Yi(){}Yi.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:so};je(Yi,{pluginName:"removeOnSpill"});E.mount(new qn);E.mount(Yi,Xi);var Mn=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="1000"/></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required="" min="0" max="1000"/></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"/></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"/></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required=""><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function Rn(i,e){Wt(e,!0);let t=Va(e,"question",15);var a=Mn(),o=ye(a),n=u(o),r=p(u(n));Ie(r);var l=p(r,4);ie(l),s(n),s(o);var c=p(o,2),f=u(c),v=p(u(f),3);ie(v),s(f),s(c);var m=p(c,2),_=u(m),D=p(u(_),3);ie(D),s(_),s(m);var y=p(m,2),T=u(y),M=p(u(T),3);ie(M),s(T),s(y);var $=p(y,2),N=u($),Q=p(u(N),3);ie(Q),s(N),s($);var j=p($,2),Z=u(j),H=p(u(Z),3),J=u(H);J.value=J.__value=1;var re=p(J);re.value=re.__value=2,s(H),s(Z),s(j);var R=p(j,2),F=u(R),oe=p(u(F),3);Ga(oe),s(F),s(R),ne(l,()=>t().label,k=>t(t().label=k,!0)),ne(v,()=>t().maxLength,k=>t(t().maxLength=k,!0)),ne(D,()=>t().minLength,k=>t(t().minLength=k,!0)),ne(M,()=>t().placeholder,k=>t(t().placeholder=k,!0)),qt(Q,()=>t().required,k=>t(t().required=k,!0)),We(H,()=>t().style,k=>t(t().style=k,!0)),ne(oe,()=>t().value,k=>t(t().value=k,!0)),C(i,a),Ut()}var Fn=A("<li> </li>"),Ln=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="25"/></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required="" min="0" max="25"/></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"/></label></div></div>',1);function jn(i,e){Wt(e,!0);let t=Va(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(F){a=Math.min(25,F)}},!0);var o=Ln(),n=ye(o),r=u(n),l=p(u(r));Ie(l);var c=p(l,4);ie(c),s(r),s(n);var f=p(n,2),v=u(f),m=p(u(v),3);ie(m),s(v),s(f);var _=p(f,2),D=u(_),y=p(u(D),3);ie(y),s(D),s(_);var T=p(_,2),M=u(T),$=u(M),N=p($);Ie(N);var Q=p(N,4);s(M);var j=p(M,2),Z=u(j);Me(Z,21,()=>t().options,Re,(F,oe)=>{var k=Fn(),W=u(k,!0);s(k),B(()=>ce(W,g(oe).label)),C(F,k)}),s(Z),s(j),s(T);var H=p(T,2),J=u(H),re=u(J),R=p(u(re),3);ie(R),s(re),s(J),s(H),B(()=>ce($,`Options (${t().options.length??""}/25) `)),ne(c,()=>t().label,F=>t(t().label=F,!0)),ne(m,()=>t().maxLength,F=>t(t().maxLength=F,!0)),ne(y,()=>t().minLength,F=>t(t().minLength=F,!0)),Ze("click",Q,()=>Ko.open(OptionsModal,{id:t().id})),ne(R,()=>t().placeholder,F=>t(t().placeholder=F,!0)),C(i,o),Ut()}Fi(["click"]);var Xn=A('<i class="fa-solid fa-spinner animate-spin"></i>'),Yn=A('<i class="fa-solid fa-xmark"></i>'),Bn=A('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required=""><option class="p-1" default="" disabled="">Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled="" title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),Hn=A('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),Wn=A('<div class="list-group flex flex-col gap-2"></div>');function Un(i,e){Wt(e,!0);const t=()=>$o(Qo,"$page",a),[a,o]=Vo();let n=Fe(ct({})),r=Fe(null),l=Fe(void 0);Ua(()=>{E.create(g(l),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>V.questions.sort((m,_)=>m.order-_.order),set:v=>{v.toArray().forEach((_,D)=>V.questions.find(y=>y.id===_).order=D)}}})});const c=async v=>{if(v._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;g(n)[v.id]=!0;const D=`/api/admin/guilds/${t().params.guild}/categories/${t().params.category}/questions/${v.id}`,y=await fetch(D,{credentials:"include",method:"DELETE"});if(g(n)[v.id]=!1,!y.ok){const T=await y.json();console.log(T);return}}const m=V.questions.findIndex(_=>v.id===_.id);V.questions.splice(m,1),xe(n,!1)};var f=Wn();Me(f,21,()=>V.questions,Re,(v,m,_)=>{var D=Hn(),y=u(D),T=u(y),M=p(u(T),2),$=u(M),N=p($),Q=u(N);{var j=k=>{var W=Xn();C(k,W)},Z=k=>{var W=Yn();C(k,W)};K(Q,k=>{g(n)[g(m).id]?k(j):k(Z,!1)})}s(N);var H=p(N,2),J=u(H),re=u(J);s(J);var R=p(J,2);s(H),s(M),s(T);var F=p(T,2);{var oe=k=>{var W=Bn(),pe=u(W),Ee=u(pe),be=u(Ee),De=p(u(be));Ie(De);var Te=p(De,4),Ve=u(Te);Ve.value=(Ve.__value=null)??"";var Ye=p(Ve);Ye.value=Ye.__value="TEXT";var Be=p(Ye);Be.value=Be.__value="MENU",s(Te),s(be),s(Ee);var et=p(Ee,2);{var st=Ce=>{Rn(Ce,{get question(){return V.questions[_]},set question($e){V.questions[_]=$e}})},xt=Ce=>{jn(Ce,{get question(){return V.questions[_]},set question($e){V.questions[_]=$e}})};K(et,Ce=>{g(m).type==="TEXT"?Ce(st):g(m).type==="MENU"&&Ce(xt,1)})}s(pe),s(W),Ze("change",Te,()=>{g(m).type==="TEXT"?g(m).maxLength=1e3:g(m).type==="MENU"&&(g(m).maxLength=1)}),We(Te,()=>g(m).type,Ce=>g(m).type=Ce),C(k,W)};K(F,k=>{g(r)===g(m).id&&k(oe)})}s(y),s(D),B(()=>{za(D,"data-id",g(m).id),ce($,`${g(m).label??""} `),N.disabled=g(n)[g(m).id],ce(re,`Click to ${g(r)===g(m).id?"collapse":"expand"}`),Nt(R,1,`fa-solid ${g(r)===g(m).id?"fa-angle-up":"fa-angle-down"} self-end text-xl`)}),Ze("click",N,()=>c(g(m))),Ze("click",H,()=>xe(r,g(r)===g(m).id?null:g(m).id,!0)),C(v,D)}),s(f),zo(f,v=>xe(l,v),()=>g(l)),C(i,f),Ut(),o()}Fi(["click","change"]);var Gn=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),zn=A("<option>Create a new category</option> <hr/>",1),Vn=A('<option class="p-1"> </option>'),$n=A("<!><!>",1),Qn=A("<!> <discord-mention> </discord-mention>",3),Jn=A("<!> , <br/>",1),Kn=A("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),Zn=A("<discord-embed-footer> </discord-embed-footer>",2),er=A("<discord-button> Edit</discord-button>",2),tr=A("<discord-button> Claim</discord-button>",2),ir=A("<discord-button> Close</discord-button>",2),ar=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),or=A('<option class="m-1 rounded p-1"> </option>'),nr=A('<option class="p-1"> </option>'),rr=A('<option class="m-1 rounded p-1"> </option>'),lr=A('<option class="m-1 rounded p-1"> </option>'),sr=A('<option class="p-1"> </option>'),dr=A('<option class="p-1">None</option><hr/><!>',1),ur=A(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><!></select></label></div>`),cr=A('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),fr=A('<i class="fa-solid fa-spinner animate-spin"></i>'),pr=A('<i class="fa-solid fa-trash"></i>'),mr=A('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),hr=A('<i class="fa-solid fa-spinner animate-spin"></i>'),vr=A('<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"/></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"/></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"/></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Discord category <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which category channel should ticket channels be created under?"></i> <select class="input form-multiselect" required=""><!></select></label></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required=""/></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"/></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"/></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"/></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required="" rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"/></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple="" required="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"/></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>',1);function Gr(i,e){Wt(e,!0);let t=Fe(!1);Zo(d=>{g(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&d.cancel()}),Ua(async()=>{const{applyPolyfills:d,defineCustomElements:b}=await Lo(async()=>{const{applyPolyfills:w,defineCustomElements:I}=await import("../chunks/D2-oBDD7.js").then(q=>q.i);return{applyPolyfills:w,defineCustomElements:I}},__vite__mapDeps([0,1]),import.meta.url);d().then(()=>{b()}),window.addEventListener("beforeunload",w=>{g(t)&&(w.preventDefault(),w.returnValue="")})});let a=e.data,o=ct(a.category),n=Fe(ct(a.channels)),r=Fe(ct(a.roles)),l=ct(a.url);const c=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"];V.questions=o.questions,xe(n,g(n).filter(d=>d.type===4),!0),xe(r,g(r).filter(d=>d.name!=="@everyone").sort((d,b)=>b.rawPosition-d.rawPosition),!0),g(r).forEach(d=>{d._hexColor=d.color>0?`#${d.color.toString(16).padStart(6,"0")}`:null,d._style=d._hexColor?`color: ${d._hexColor}`:""}),o.cooldown=o.cooldown?xi(o.cooldown):"";let f=Fe(null),v=Fe(!1),m=Fe(!1);const _=async()=>{try{xe(v,!0);const d={...o};if(o.discordCategory==="new"&&(d.discordCategory=null),d.cooldown=o.cooldown?xi(o.cooldown):null,d.name.length>30)throw new Error(`The name is too long (${d.name.length}>30).`);if(d.description.length>100)throw new Error(`The description is too long (${d.description.length}>100).`);d.questions=V.questions.map(I=>{if(I.type==="TEXT"){if(I.value.length>0&&I.value.length<I.minLength)throw`The value of the "${I.label}" question is shorter than the minimum length.`;if(I.value.length>I.maxLength)throw`The value of the "${I.label}" question is longer than the maximum length.`}return delete I._real,I}),d.questions.find(I=>I.id===d.customTopic)===void 0&&(d.customTopic=null);const b=await fetch(l,{method:o.id?"PATCH":"POST",body:JSON.stringify(d),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),w=await b.json();if(b.ok)xe(t,!1),window.location="./";else throw w}catch(d){xe(v,!1),xe(f,d,!0),window.scroll({top:0,behavior:"smooth"})}},D=async()=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;xe(m,!0);const b=await fetch(l,{method:"DELETE",credentials:"include"}),w=await b.json();if(b.ok)window.location="./";else throw w}catch(d){xe(m,!1),xe(f,d,!0),window.scroll({top:0,behavior:"smooth"})}},y=d=>g(r).find(b=>b.id===d);Pa(()=>{o.customTopic=V.questions.find(d=>d.id===o.customTopic)?o.customTopic:null}),Pa(()=>{o.requireTopic=V.questions.length>0?!1:o.requireTopic});var T=vr(),M=p(ye(T),4),$=u(M);s(M);var N=p(M,2),Q=u(N);{var j=d=>{Jo(d,{get error(){return g(f)}})};K(Q,d=>{g(f)&&d(j)})}var Z=p(Q,2),H=ka(()=>Go(()=>_())),J=u(Z),re=u(J),R=u(re),F=u(R),oe=p(u(F));Ie(oe);var k=p(oe,4);ie(k),s(F),s(R);var W=p(R,2),pe=u(W),Ee=p(u(pe));{var be=d=>{Ie(d)};K(Ee,d=>{o.id&&d(be)})}var De=p(Ee,4);ie(De),za(De,"placeholder","ticket-{num}"),s(pe);var Te=p(pe,2);{var Ve=d=>{var b=Gn(),w=p(ye(b),2),I=p(u(w),2),q=u(I);Oa(q,()=>Na.parse(o.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,Ca("user").username).replace(/{+\s?(user)?name\s?}+/gi,Ca("user").username)),s(I),s(w),C(d,b)};K(Te,d=>{o.channelName&&d(Ve)})}s(W);var Ye=p(W,2),Be=u(Ye),et=p(u(Be),3);ie(et),s(Be),s(Ye);var st=p(Ye,2),xt=u(st),Ce=p(u(xt),3);ie(Ce),s(xt),s(st);var $e=p(st,2),Bi=u($e),Hi=p(u(Bi));Ie(Hi);var Wi=p(Hi,4);ie(Wi),s(Bi),s($e);var zt=p($e,2),Ui=u(zt),Gi=p(u(Ui));Ie(Gi);var Vt=p(Gi,4);Ia(Vt,()=>{var d=u(Vt),b=$n(),w=ye(b);{var I=ee=>{var de=zn(),me=ye(de);me.value=me.__value="new",kt(2),C(ee,de)};K(w,ee=>{(!o.discordCategory||o.discordCategory==="new")&&ee(I)})}var q=p(w);Me(q,17,()=>g(n),Re,(ee,de)=>{var me=Vn(),tt=u(me,!0);s(me);var Se={};B(()=>{ce(tt,g(de).name),Se!==(Se=g(de).id)&&(me.value=(me.__value=g(de).id)??"")}),C(ee,me)}),C(d,b)}),s(Ui),s(zt);var $t=p(zt,2),zi=u($t),Vi=p(u(zi));Ie(Vi);var Qt=p(Vi,4),uo=u(Qt,!0);s(Qt);var $i=p(Qt,2);ie($i),s(zi),s($t);var Jt=p($t,2),Qi=u(Jt),Ji=p(u(Qi),3);ie(Ji),s(Qi),s(Jt);var Kt=p(Jt,2),Ki=u(Kt),Zi=p(u(Ki),3);ie(Zi),s(Ki),s(Kt);var Zt=p(Kt,2),ea=u(Zt),ta=p(u(ea),3);ie(ta),s(ea),s(Zt);var ei=p(Zt,2),ti=u(ei),ia=p(u(ti));Ie(ia);var aa=p(ia,4);Ga(aa),s(ti);var co=p(ti,2);qa(co,()=>o.pingRoles,d=>{var b=yi(),w=ye(b);qa(w,()=>o.requireTopic,I=>{var q=yi(),ee=ye(q);{var de=me=>{var tt=ar(),Se=p(ye(tt),2);X(Se,"no-background",!0),B(()=>X(Se,"light-theme",e.data.theme!=="dark")),Nt(Se,1,"bloc w-full border-0");var he=u(Se);B(()=>X(he,"author",e.data.client.username)),B(()=>X(he,"avatar",e.data.client.avatar)),X(he,"bot",!0),B(()=>X(he,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),Nt(he,1,"py-2"),X(he,"highlight",!0);var Et=u(he);{var Dt=U=>{var L=Jn(),ut=ye(L);Me(ut,17,()=>o.pingRoles,Re,(Io,Po,Ao)=>{const bi=ka(()=>y(g(Po)));var Ea=yi(),No=ye(Ea);{var qo=_i=>{var Da=Qn(),Ta=ye(Da);{var Mo=qe=>{var Sa=Wo();Sa.nodeValue=" ",C(qe,Sa)};K(Ta,qe=>{Ao>0&&qe(Mo)})}var St=p(Ta,2);B(()=>{var qe;return X(St,"color",(qe=g(bi))==null?void 0:qe._hexColor)}),X(St,"type","role");var Ro=u(St,!0);s(St),B(()=>{var qe;return ce(Ro,(qe=g(bi))==null?void 0:qe.name)}),C(_i,Da)};K(No,_i=>{g(bi)&&_i(qo)})}C(Io,Ea)}),kt(2),C(U,L)};K(Et,U=>{var L;((L=o.pingRoles)==null?void 0:L.length)>0&&U(Dt)})}var Tt=p(Et,2);X(Tt,"highlight",!0);var wo=u(Tt,!0);s(Tt);var He=p(Tt,2);X(He,"slot","embeds"),B(()=>X(He,"color",e.data.settings.primaryColour)),B(()=>X(He,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`)),B(()=>X(He,"author-name",e.data.user.username)),B(()=>X(He,"image",o.image));var dt=u(He);X(dt,"slot","description"),Nt(dt,1,"break-words prose prose-slate prose-sm dark:prose-invert prose-a:text-blurple");var xo=u(dt);Oa(xo,()=>Na.parse(o.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),s(dt);var _a=p(dt,2);{var Eo=U=>{var L=Kn();X(L,"slot","fields");var ut=u(L);X(ut,"field-title","Topic"),s(L),C(U,L)};K(_a,U=>{o.requireTopic&&U(Eo)})}var Do=p(_a,2);{var To=U=>{var L=Zn();X(L,"slot","footer"),B(()=>X(L,"footer-image",e.data.client.avatar));var ut=u(L,!0);s(L),B(()=>ce(ut,e.data.settings.footer)),C(U,L)};K(Do,U=>{e.data.settings.footer&&U(To)})}s(He);var gi=p(He,2);X(gi,"slot","components");var ya=u(gi),wa=u(ya);{var So=U=>{var L=er();X(L,"type","secondary"),C(U,L)};K(wa,U=>{(o.requireTopic||V.questions.length>0)&&U(So)})}var xa=p(wa,2);{var ko=U=>{var L=tr();X(L,"type","secondary"),C(U,L)};K(xa,U=>{o.claiming&&e.data.settings.claimButton&&U(ko)})}var Co=p(xa,2);{var Oo=U=>{var L=ir();X(L,"type","destructive"),C(U,L)};K(Co,U=>{e.data.settings.closeButton&&U(Oo)})}s(ya),s(gi),s(he),s(Se),B(()=>ce(wo,e.data.user.username)),C(me,tt)};K(ee,me=>{o.openingMessage&&me(de)})}C(I,q)}),C(d,b)}),s(ei);var ii=p(ei,2),oa=u(ii),ai=p(u(oa),3);Me(ai,21,()=>g(r),Re,(d,b)=>{var w=or(),I=u(w);s(w);var q={};B(()=>{wi(w,g(b)._style),ce(I,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`),q!==(q=g(b).id)&&(w.value=(w.__value=g(b).id)??"")}),C(d,w)}),s(ai),s(oa),s(ii);var oi=p(ii,2),na=u(oi),ni=p(u(na),3),ri=u(ni);ri.value=(ri.__value=null)??"";var fo=p(ri);Me(fo,17,()=>c,Re,(d,b)=>{var w=nr(),I=u(w,!0);s(w);var q={};B(ee=>{ce(I,g(b)),q!==(q=ee)&&(w.value=(w.__value=ee)??"")},[()=>xi(g(b))/1e3]),C(d,w)}),s(ni),s(na),s(oi);var li=p(oi,2),ra=u(li),si=p(u(ra),3);Me(si,21,()=>g(r),Re,(d,b)=>{var w=rr(),I=u(w);s(w);var q={};B(()=>{wi(w,g(b)._style),ce(I,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`),q!==(q=g(b).id)&&(w.value=(w.__value=g(b).id)??"")}),C(d,w)}),s(si),s(ra),s(li);var di=p(li,2),la=u(di),ui=p(u(la),3);ie(ui),s(la),s(di);var ci=p(di,2),sa=u(ci),da=p(u(sa));Ie(da);var fi=p(da,4);Me(fi,21,()=>g(r),Re,(d,b)=>{var w=lr(),I=u(w);s(w);var q={};B(()=>{wi(w,g(b)._style),ce(I,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`),q!==(q=g(b).id)&&(w.value=(w.__value=g(b).id)??"")}),C(d,w)}),s(fi),s(sa),s(ci);var ua=p(ci,2),ca=u(ua),fa=p(u(ca),3);ie(fa),s(ca),s(ua),s(re);var pa=p(re,2),pi=u(pa),ma=u(pi),mi=u(ma),ha=p(u(mi),2),po=u(ha);s(ha),s(mi);var va=p(mi,2);{var mo=d=>{var b=ur(),w=u(b),I=p(u(w),3);Ia(I,()=>{var q=u(I),ee=dr(),de=ye(ee);de.value=(de.__value=null)??"";var me=p(de,2);Me(me,17,()=>V.questions,Re,(tt,Se)=>{var he=sr(),Et=u(he,!0);s(he);var Dt={};B(()=>{ce(Et,g(Se).label),Dt!==(Dt=g(Se).id)&&(he.value=(he.__value=g(Se).id)??"")}),C(tt,he)}),C(q,ee)}),s(w),s(b),We(I,()=>o.customTopic,q=>o.customTopic=q),C(d,b)};K(va,d=>{V.questions.length>0&&d(mo)})}var hi=p(va,2),ho=u(hi);Un(ho,{}),s(hi);var vo=p(hi,2);{var go=d=>{var b=cr(),w=u(b);s(b),Ze("click",w,()=>{V.questions.push({id:ln(),label:`Question ${V.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:V.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})}),C(d,b)};K(vo,d=>{V.questions.length<5&&d(go)})}s(ma),s(pi);var ga=p(pi,2),ba=u(ga);{var bo=d=>{var b=mr(),w=u(b);{var I=ee=>{var de=fr();C(ee,de)},q=ee=>{var de=pr();C(ee,de)};K(w,ee=>{g(m)?ee(I):ee(q,!1)})}kt(),s(b),B(()=>b.disabled=g(m)),Ze("click",b,D),C(d,b)};K(ba,d=>{o.id&&d(bo)})}var vi=p(ba,2),_o=u(vi);{var yo=d=>{var b=hr();C(d,b)};K(_o,d=>{g(v)&&d(yo)})}kt(),s(vi),s(ga),s(pa),s(J),s(Z),s(N),B((d,b)=>{ce($,`${d??""}
	${(o.name||"New category")??""}`),De.required=!!o.id,ce(uo,b),ui.disabled=V.questions.length>0,ce(po,`${V.questions.length??""}/5`),vi.disabled=g(v)},[()=>Aa.get(o.emoji)??"",()=>Aa.get(o.emoji)??""]),Ho("submit",Z,function(...d){var b;(b=g(H))==null||b.apply(this,d)}),Ze("change",Z,()=>xe(t,!0)),ne(k,()=>o.name,d=>o.name=d),ne(De,()=>o.channelName,d=>o.channelName=d),qt(et,()=>o.claiming,d=>o.claiming=d),ne(Ce,()=>o.cooldown,d=>o.cooldown=d),ne(Wi,()=>o.description,d=>o.description=d),We(Vt,()=>o.discordCategory,d=>o.discordCategory=d),ne($i,()=>o.emoji,d=>o.emoji=d),qt(Ji,()=>o.enableFeedback,d=>o.enableFeedback=d),ne(Zi,()=>o.image,d=>o.image=d),ne(ta,()=>o.memberLimit,d=>o.memberLimit=d),ne(aa,()=>o.openingMessage,d=>o.openingMessage=d),We(ai,()=>o.pingRoles,d=>o.pingRoles=d),We(ni,()=>o.ratelimit,d=>o.ratelimit=d),We(si,()=>o.requiredRoles,d=>o.requiredRoles=d),qt(ui,()=>o.requireTopic,d=>o.requireTopic=d),We(fi,()=>o.staffRoles,d=>o.staffRoles=d),ne(fa,()=>o.totalLimit,d=>o.totalLimit=d),C(i,T),Ut()}Fi(["change","click"]);export{Gr as component,Ur as universal};
