const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/D2-oBDD7.js","../chunks/Dp1pzeXC.js"])))=>i.map(i=>d[i]);
import{e as Ko}from"../chunks/Cxx9n8vM.js";import{_ as Jo}from"../chunks/Dp1pzeXC.js";import"../chunks/Bzak7iHL.js";import{o as oo}from"../chunks/nwo5WiIq.js";import{m as Zo,V as en,bF as tn,l as an,p as Wt,h as ge,c as u,i as c,r as s,bK as no,a as k,b as Gt,f as A,aV as zi,t as M,g as v,aW as tt,d as We,U as rt,s as Te,aY as on,j as kt,e as Ct,u as Si,au as Ha,aT as ki}from"../chunks/_fu6EM7d.js";import{s as re}from"../chunks/DbFbsu9R.js";import{i as z}from"../chunks/BkvMZOlF.js";import{B as nn}from"../chunks/Caq5s-y_.js";import{e as Ie,i as Ae}from"../chunks/CdfWQzPM.js";import{h as Ua}from"../chunks/BHIk14_I.js";import{r as ie,b as Me,s as Yi,a as Y}from"../chunks/BZKIRd09.js";import{s as qt}from"../chunks/B_DfNNzh.js";import{c as Ci}from"../chunks/CSeQqRbU.js";import{s as Oi}from"../chunks/CG3JaKlL.js";import{b as ue,a as Mt}from"../chunks/DD97wVFk.js";import{p as rn}from"../chunks/r2wwZTEc.js";import{r as Wa}from"../chunks/BSe2IdtJ.js";import{m as Ii}from"../chunks/5EBxWskT.js";import{e as Ai}from"../chunks/DSwvs_u7.js";import{m as Ga}from"../chunks/B0NBGGFk.js";import{b as ln}from"../chunks/ByBQdF1a.js";import{s as sn,a as dn}from"../chunks/CzA9-LZ0.js";import{p as un}from"../chunks/DixFDlud.js";import{p as ro}from"../chunks/BALO3cCj.js";import{R as Pe,E as cn}from"../chunks/DZ1Z5aX_.js";import{m as fn}from"../chunks/B-HGQZHm.js";import{q as K}from"../chunks/DJA2_7p-.js";import{b as pn}from"../chunks/Br_etFZ6.js";const mn=Symbol("NaN");function za(i,e,t){Zo&&en();var a=new nn(i),o=!tn();an(()=>{var n=e();n!==n&&(n=mn),o&&n!==null&&typeof n=="object"&&(n={}),a.ensure(n,t)})}async function hn({fetch:i,params:e}){var n;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50,channelMode:"CHANNEL",backupCategoryId:null};else{const r=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),d=(n=r.headers.get("Content-Type"))==null?void 0:n.includes("json");a=d?await r.json():await r.text(),r.ok||Ko(r.status,d?JSON.stringify(a):a)}let o=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(o+=`/${e.category}`),{url:o,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),categories:await(await i(`/api/admin/guilds/${e.guild}/categories`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const ll=Object.freeze(Object.defineProperty({__proto__:null,load:hn},Symbol.toStringTag,{value:"Module"}));let Ot;const vn=new Uint8Array(16);function gn(){if(!Ot&&(Ot=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ot))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ot(vn)}const ce=[];for(let i=0;i<256;++i)ce.push((i+256).toString(16).slice(1));function bn(i,e=0){return ce[i[e+0]]+ce[i[e+1]]+ce[i[e+2]]+ce[i[e+3]]+"-"+ce[i[e+4]]+ce[i[e+5]]+"-"+ce[i[e+6]]+ce[i[e+7]]+"-"+ce[i[e+8]]+ce[i[e+9]]+"-"+ce[i[e+10]]+ce[i[e+11]]+ce[i[e+12]]+ce[i[e+13]]+ce[i[e+14]]+ce[i[e+15]]}const _n=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Va={randomUUID:_n};function yn(i,e,t){if(Va.randomUUID&&!i)return Va.randomUUID();i=i||{};const a=i.random||(i.rng||gn)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,bn(a)}/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xn(i,e,t){return(e=Tn(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ye(){return Ye=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},Ye.apply(null,arguments)}function $a(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function Fe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$a(Object(t),!0).forEach(function(a){xn(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):$a(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function wn(i,e){if(i==null)return{};var t,a,o=En(i,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);for(a=0;a<n.length;a++)t=n[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(o[t]=i[t])}return o}function En(i,e){if(i==null)return{};var t={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;t[a]=i[a]}return t}function Dn(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Tn(i){var e=Dn(i,"string");return typeof e=="symbol"?e:e+""}function Bi(i){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(i)}var Sn="1.15.7";function Xe(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Be=Xe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Et=Xe(/Edge/i),Qa=Xe(/firefox/i),bt=Xe(/safari/i)&&!Xe(/chrome/i)&&!Xe(/android/i),Vi=Xe(/iP(ad|od|hone)/i),lo=Xe(/chrome/i)&&Xe(/android/i),so={capture:!1,passive:!1};function P(i,e,t){i.addEventListener(e,t,!Be&&so)}function I(i,e,t){i.removeEventListener(e,t,!Be&&so)}function Xt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function uo(i){return i.host&&i!==document&&i.host.nodeType&&i.host!==i?i.host:i.parentNode}function Ne(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Xt(i,e):Xt(i,e))||a&&i===t)return i;if(i===t)break}while(i=uo(i))}return null}var Ka=/\s+/g;function we(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(Ka," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(Ka," ")}}function E(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function dt(i,e){var t="";if(typeof i=="string")t=i;else do{var a=E(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function co(i,e,t){if(i){var a=i.getElementsByTagName(e),o=0,n=a.length;if(t)for(;o<n;o++)t(a[o],o);return a}return[]}function Re(){var i=document.scrollingElement;return i||document.documentElement}function ae(i,e,t,a,o){if(!(!i.getBoundingClientRect&&i!==window)){var n,r,d,f,p,g,m;if(i!==window&&i.parentNode&&i!==Re()?(n=i.getBoundingClientRect(),r=n.top,d=n.left,f=n.bottom,p=n.right,g=n.height,m=n.width):(r=0,d=0,f=window.innerHeight,p=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!Be))do if(o&&o.getBoundingClientRect&&(E(o,"transform")!=="none"||t&&E(o,"position")!=="static")){var y=o.getBoundingClientRect();r-=y.top+parseInt(E(o,"border-top-width")),d-=y.left+parseInt(E(o,"border-left-width")),f=r+n.height,p=d+n.width;break}while(o=o.parentNode);if(a&&i!==window){var w=dt(o||i),x=w&&w.a,T=w&&w.d;w&&(r/=T,d/=x,m/=x,g/=T,f=r+g,p=d+m)}return{top:r,left:d,bottom:f,right:p,width:m,height:g}}}function Ja(i,e,t){for(var a=ze(i,!0),o=ae(i)[e];a;){var n=ae(a)[t],r=void 0;if(r=o>=n,!r)return a;if(a===Re())break;a=ze(a,!1)}return!1}function ut(i,e,t,a){for(var o=0,n=0,r=i.children;n<r.length;){if(r[n].style.display!=="none"&&r[n]!==D.ghost&&(a||r[n]!==D.dragged)&&Ne(r[n],t.draggable,i,!1)){if(o===e)return r[n];o++}n++}return null}function $i(i,e){for(var t=i.lastElementChild;t&&(t===D.ghost||E(t,"display")==="none"||e&&!Xt(t,e));)t=t.previousElementSibling;return t||null}function Se(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==D.clone&&(!e||Xt(i,e))&&t++;return t}function Za(i){var e=0,t=0,a=Re();if(i)do{var o=dt(i),n=o.a,r=o.d;e+=i.scrollLeft*n,t+=i.scrollTop*r}while(i!==a&&(i=i.parentNode));return[e,t]}function kn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function ze(i,e){if(!i||!i.getBoundingClientRect)return Re();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=E(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Re();if(a||e)return t;a=!0}}while(t=t.parentNode);return Re()}function Cn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Pi(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var _t;function fo(i,e){return function(){if(!_t){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),_t=setTimeout(function(){_t=void 0},e)}}}function On(){clearTimeout(_t),_t=void 0}function po(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function mo(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function ho(i,e,t){var a={};return Array.from(i.children).forEach(function(o){var n,r,d,f;if(!(!Ne(o,e.draggable,i,!1)||o.animated||o===t)){var p=ae(o);a.left=Math.min((n=a.left)!==null&&n!==void 0?n:1/0,p.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,p.top),a.right=Math.max((d=a.right)!==null&&d!==void 0?d:-1/0,p.right),a.bottom=Math.max((f=a.bottom)!==null&&f!==void 0?f:-1/0,p.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var _e="Sortable"+new Date().getTime();function In(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(E(o,"display")==="none"||o===D.ghost)){i.push({target:o,rect:ae(o)});var n=Fe({},i[i.length-1].rect);if(o.thisAnimationDuration){var r=dt(o,!0);r&&(n.top-=r.f,n.left-=r.e)}o.fromRect=n}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(kn(i,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var n=!1,r=0;i.forEach(function(d){var f=0,p=d.target,g=p.fromRect,m=ae(p),y=p.prevFromRect,w=p.prevToRect,x=d.rect,T=dt(p,!0);T&&(m.top-=T.f,m.left-=T.e),p.toRect=m,p.thisAnimationDuration&&Pi(y,m)&&!Pi(g,m)&&(x.top-m.top)/(x.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(f=Pn(x,y,w,o.options)),Pi(m,g)||(p.prevFromRect=g,p.prevToRect=m,f||(f=o.options.animation),o.animate(p,x,m,f)),f&&(n=!0,r=Math.max(r,f),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},f),p.thisAnimationDuration=f)}),clearTimeout(e),n?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),i=[]},animate:function(a,o,n,r){if(r){E(a,"transition",""),E(a,"transform","");var d=dt(this.el),f=d&&d.a,p=d&&d.d,g=(o.left-n.left)/(f||1),m=(o.top-n.top)/(p||1);a.animatingX=!!g,a.animatingY=!!m,E(a,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=An(a),E(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){E(a,"transition",""),E(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function An(i){return i.offsetWidth}function Pn(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var ot=[],Ni={initializeByDefault:!0},Dt={mount:function(e){for(var t in Ni)Ni.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ni[t]);ot.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ot.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var n=e+"Global";ot.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](Fe({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Fe({sortable:t},a)))})},initializePlugins:function(e,t,a,o){ot.forEach(function(d){var f=d.pluginName;if(!(!e.options[f]&&!d.initializeByDefault)){var p=new d(e,t,e.options);p.sortable=e,p.options=e.options,e[f]=p,Ye(a,p.defaults)}});for(var n in e.options)if(e.options.hasOwnProperty(n)){var r=this.modifyOption(e,n,e.options[n]);typeof r<"u"&&(e.options[n]=r)}},getEventProperties:function(e,t){var a={};return ot.forEach(function(o){typeof o.eventProperties=="function"&&Ye(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return ot.forEach(function(n){e[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[t]=="function"&&(o=n.optionListeners[t].call(e[n.pluginName],a))}),o}};function Nn(i){var e=i.sortable,t=i.rootEl,a=i.name,o=i.targetEl,n=i.cloneEl,r=i.toEl,d=i.fromEl,f=i.oldIndex,p=i.newIndex,g=i.oldDraggableIndex,m=i.newDraggableIndex,y=i.originalEvent,w=i.putSortable,x=i.extraEventProperties;if(e=e||t&&t[_e],!!e){var T,H=e.options,J="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Be&&!Et?T=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(a,!0,!0)),T.to=r||t,T.from=d||t,T.item=o||t,T.clone=n,T.oldIndex=f,T.newIndex=p,T.oldDraggableIndex=g,T.newDraggableIndex=m,T.originalEvent=y,T.pullMode=w?w.lastPutMode:void 0;var q=Fe(Fe({},x),Dt.getEventProperties(a,e));for(var V in q)T[V]=q[V];t&&t.dispatchEvent(T),H[J]&&H[J].call(e,T)}}var qn=["evt"],be=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,n=wn(a,qn);Dt.pluginEvent.bind(D)(e,t,Fe({dragEl:h,parentEl:Q,ghostEl:S,rootEl:B,nextEl:et,lastDownEl:Rt,cloneEl:G,cloneHidden:Ge,dragStarted:ht,putSortable:fe,activeSortable:D.active,originalEvent:o,oldIndex:st,oldDraggableIndex:yt,newIndex:Ee,newDraggableIndex:Ue,hideGhostForTarget:_o,unhideGhostForTarget:yo,cloneNowHidden:function(){Ge=!0},cloneNowShown:function(){Ge=!1},dispatchSortableEvent:function(d){ve({sortable:t,name:d,originalEvent:o})}},n))};function ve(i){Nn(Fe({putSortable:fe,cloneEl:G,targetEl:h,rootEl:B,oldIndex:st,oldDraggableIndex:yt,newIndex:Ee,newDraggableIndex:Ue},i))}var h,Q,S,B,et,Rt,G,Ge,st,Ee,yt,Ue,It,fe,lt=!1,Yt=!1,Bt=[],Je,Oe,qi,Mi,eo,to,ht,nt,xt,wt=!1,At=!1,Ft,me,Ri=[],Hi=!1,Ht=[],zt=typeof document<"u",Pt=Vi,io=Et||Be?"cssFloat":"float",Mn=zt&&!lo&&!Vi&&"draggable"in document.createElement("div"),vo=(function(){if(zt){if(Be)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),go=function(e,t){var a=E(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),n=ut(e,0,t),r=ut(e,1,t),d=n&&E(n),f=r&&E(r),p=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+ae(n).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+ae(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&d.float&&d.float!=="none"){var m=d.float==="left"?"left":"right";return r&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return n&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||p>=o&&a[io]==="none"||r&&a[io]==="none"&&p+g>o)?"vertical":"horizontal"},Rn=function(e,t,a){var o=a?e.left:e.top,n=a?e.right:e.bottom,r=a?e.width:e.height,d=a?t.left:t.top,f=a?t.right:t.bottom,p=a?t.width:t.height;return o===d||n===f||o+r/2===d+p/2},Fn=function(e,t){var a;return Bt.some(function(o){var n=o[_e].options.emptyInsertThreshold;if(!(!n||$i(o))){var r=ae(o),d=e>=r.left-n&&e<=r.right+n,f=t>=r.top-n&&t<=r.bottom+n;if(d&&f)return a=o}}),a},bo=function(e){function t(n,r){return function(d,f,p,g){var m=d.options.group.name&&f.options.group.name&&d.options.group.name===f.options.group.name;if(n==null&&(r||m))return!0;if(n==null||n===!1)return!1;if(r&&n==="clone")return n;if(typeof n=="function")return t(n(d,f,p,g),r)(d,f,p,g);var y=(r?d:f).options.group.name;return n===!0||typeof n=="string"&&n===y||n.join&&n.indexOf(y)>-1}}var a={},o=e.group;(!o||Bi(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},_o=function(){!vo&&S&&E(S,"display","none")},yo=function(){!vo&&S&&E(S,"display","")};zt&&!lo&&document.addEventListener("click",function(i){if(Yt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Yt=!1,!1},!0);var Ze=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Fn(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[_e]._onDragOver(a)}}},Ln=function(e){h&&h.parentNode[_e]._isOutsideThisEl(e.target)};function D(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=Ye({},e),i[_e]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return go(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,d){r.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&(!bt||Vi),emptyInsertThreshold:5};Dt.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);bo(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Mn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(i,"pointerdown",this._onTapStart):(P(i,"mousedown",this._onTapStart),P(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(i,"dragover",this),P(i,"dragenter",this)),Bt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ye(this,In())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(nt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,n=o.preventOnFilter,r=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,f=(d||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,g=o.filter;if(Gn(a),!h&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&bt&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Ne(f,o.draggable,a,!1),!(f&&f.animated)&&Rt!==f)){if(st=Se(f),yt=Se(f,o.draggable),typeof g=="function"){if(g.call(this,e,f,this)){ve({sortable:t,rootEl:p,name:"filter",targetEl:f,toEl:a,fromEl:a}),be("filter",t,{evt:e}),n&&e.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=Ne(p,m.trim(),a,!1),m)return ve({sortable:t,rootEl:m,name:"filter",targetEl:f,fromEl:a,toEl:a}),be("filter",t,{evt:e}),!0}),g)){n&&e.preventDefault();return}o.handle&&!Ne(p,o.handle,a,!1)||this._prepareDragStart(e,d,f)}}},_prepareDragStart:function(e,t,a){var o=this,n=o.el,r=o.options,d=n.ownerDocument,f;if(a&&!h&&a.parentNode===n){var p=ae(a);if(B=n,h=a,Q=h.parentNode,et=h.nextSibling,Rt=a,It=r.group,D.dragged=h,Je={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},eo=Je.clientX-p.left,to=Je.clientY-p.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",f=function(){if(be("delayEnded",o,{evt:e}),D.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Qa&&o.nativeDraggable&&(h.draggable=!0),o._triggerDragStart(e,t),ve({sortable:o,name:"choose",originalEvent:e}),we(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(g){co(h,g.trim(),Fi)}),P(d,"dragover",Ze),P(d,"mousemove",Ze),P(d,"touchmove",Ze),r.supportPointer?(P(d,"pointerup",o._onDrop),!this.nativeDraggable&&P(d,"pointercancel",o._onDrop)):(P(d,"mouseup",o._onDrop),P(d,"touchend",o._onDrop),P(d,"touchcancel",o._onDrop)),Qa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),be("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Et||Be))){if(D.eventCanceled){this._onDrop();return}r.supportPointer?(P(d,"pointerup",o._disableDelayedDrag),P(d,"pointercancel",o._disableDelayedDrag)):(P(d,"mouseup",o._disableDelayedDrag),P(d,"touchend",o._disableDelayedDrag),P(d,"touchcancel",o._disableDelayedDrag)),P(d,"mousemove",o._delayedDragTouchMoveHandler),P(d,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&P(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(f,r.delay)}else f()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Fi(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"pointerup",this._disableDelayedDrag),I(e,"pointercancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):t?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(h,"dragend",this),P(B,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(lt=!1,B&&h){be("dragStarted",this,{evt:t}),this.nativeDraggable&&P(document,"dragover",Ln);var a=this.options;!e&&we(h,a.dragClass,!1),we(h,a.ghostClass,!0),D.active=this,e&&this._appendGhost(),ve({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Oe){this._lastX=Oe.clientX,this._lastY=Oe.clientY,_o();for(var e=document.elementFromPoint(Oe.clientX,Oe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Oe.clientX,Oe.clientY),e!==t);)t=e;if(h.parentNode[_e]._isOutsideThisEl(e),t)do{if(t[_e]){var a=void 0;if(a=t[_e]._onDragOver({clientX:Oe.clientX,clientY:Oe.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=uo(t));yo()}},_onTouchMove:function(e){if(Je){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,n=e.touches?e.touches[0]:e,r=S&&dt(S,!0),d=S&&r&&r.a,f=S&&r&&r.d,p=Pt&&me&&Za(me),g=(n.clientX-Je.clientX+o.x)/(d||1)+(p?p[0]-Ri[0]:0)/(d||1),m=(n.clientY-Je.clientY+o.y)/(f||1)+(p?p[1]-Ri[1]:0)/(f||1);if(!D.active&&!lt){if(a&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(S){r?(r.e+=g-(qi||0),r.f+=m-(Mi||0)):r={a:1,b:0,c:0,d:1,e:g,f:m};var y="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");E(S,"webkitTransform",y),E(S,"mozTransform",y),E(S,"msTransform",y),E(S,"transform",y),qi=g,Mi=m,Oe=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:B,t=ae(h,!0,Pt,!0,e),a=this.options;if(Pt){for(me=e;E(me,"position")==="static"&&E(me,"transform")==="none"&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=Re()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=Re(),Ri=Za(me)}S=h.cloneNode(!0),we(S,a.ghostClass,!1),we(S,a.fallbackClass,!0),we(S,a.dragClass,!0),E(S,"transition",""),E(S,"transform",""),E(S,"box-sizing","border-box"),E(S,"margin",0),E(S,"top",t.top),E(S,"left",t.left),E(S,"width",t.width),E(S,"height",t.height),E(S,"opacity","0.8"),E(S,"position",Pt?"absolute":"fixed"),E(S,"zIndex","100000"),E(S,"pointerEvents","none"),D.ghost=S,e.appendChild(S),E(S,"transform-origin",eo/parseInt(S.style.width)*100+"% "+to/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,n=a.options;if(be("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}be("setupClone",this),D.eventCanceled||(G=mo(h),G.removeAttribute("id"),G.draggable=!1,G.style["will-change"]="",this._hideClone(),we(G,this.options.chosenClass,!1),D.clone=G),a.cloneId=Lt(function(){be("clone",a),!D.eventCanceled&&(a.options.removeCloneOnHide||B.insertBefore(G,h),a._hideClone(),ve({sortable:a,name:"clone"}))}),!t&&we(h,n.dragClass,!0),t?(Yt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(I(document,"mouseup",a._onDrop),I(document,"touchend",a._onDrop),I(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",n.setData&&n.setData.call(a,o,h)),P(document,"drop",a),E(h,"transform","translateZ(0)")),lt=!0,a._dragStartId=Lt(a._dragStarted.bind(a,t,e)),P(document,"selectstart",a),ht=!0,window.getSelection().removeAllRanges(),bt&&E(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,n,r,d=this.options,f=d.group,p=D.active,g=It===f,m=d.sort,y=fe||p,w,x=this,T=!1;if(Hi)return;function H(xe,Ve){be(xe,x,Fe({evt:e,isOwner:g,axis:w?"vertical":"horizontal",revert:r,dragRect:o,targetRect:n,canSort:m,fromSortable:y,target:a,completed:q,onMove:function($e,ct){return Nt(B,t,h,o,$e,ae($e),e,ct)},changed:V},Ve))}function J(){H("dragOverAnimationCapture"),x.captureAnimationState(),x!==y&&y.captureAnimationState()}function q(xe){return H("dragOverCompleted",{insertion:xe}),xe&&(g?p._hideClone():p._showClone(x),x!==y&&(we(h,fe?fe.options.ghostClass:p.options.ghostClass,!1),we(h,d.ghostClass,!0)),fe!==x&&x!==D.active?fe=x:x===D.active&&fe&&(fe=null),y===x&&(x._ignoreWhileAnimating=a),x.animateAll(function(){H("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===h&&!h.animated||a===t&&!a.animated)&&(nt=null),!d.dragoverBubble&&!e.rootEl&&a!==document&&(h.parentNode[_e]._isOutsideThisEl(e.target),!xe&&Ze(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function V(){Ee=Se(h),Ue=Se(h,d.draggable),ve({sortable:x,name:"change",toEl:t,newIndex:Ee,newDraggableIndex:Ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Ne(a,d.draggable,t,!0),H("dragOver"),D.eventCanceled)return T;if(h.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||x._ignoreWhileAnimating===a)return q(!1);if(Yt=!1,p&&!d.disabled&&(g?m||(r=Q!==B):fe===this||(this.lastPutMode=It.checkPull(this,p,h,e))&&f.checkPut(this,p,h,e))){if(w=this._getDirection(e,a)==="vertical",o=ae(h),H("dragOverValid"),D.eventCanceled)return T;if(r)return Q=B,J(),this._hideClone(),H("revert"),D.eventCanceled||(et?B.insertBefore(h,et):B.appendChild(h)),q(!0);var j=$i(t,d.draggable);if(!j||Bn(e,w,this)&&!j.animated){if(j===h)return q(!1);if(j&&t===e.target&&(a=j),a&&(n=ae(a)),Nt(B,t,h,o,a,n,e,!!a)!==!1)return J(),j&&j.nextSibling?t.insertBefore(h,j.nextSibling):t.appendChild(h),Q=t,V(),q(!0)}else if(j&&Yn(e,w,this)){var le=ut(t,0,d,!0);if(le===h)return q(!1);if(a=le,n=ae(a),Nt(B,t,h,o,a,n,e,!1)!==!1)return J(),t.insertBefore(h,le),Q=t,V(),q(!0)}else if(a.parentNode===t){n=ae(a);var X=0,Z,se=h.parentNode!==t,U=!Rn(h.animated&&h.toRect||o,a.animated&&a.toRect||n,w),F=w?"top":"left",oe=Ja(a,"top","top")||Ja(h,"top","top"),O=oe?oe.scrollTop:void 0;nt!==a&&(Z=n[F],wt=!1,At=!U&&d.invertSwap||se),X=Hn(e,a,n,w,U?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,At,nt===a);var $;if(X!==0){var ye=Se(h);do ye-=X,$=Q.children[ye];while($&&(E($,"display")==="none"||$===S))}if(X===0||$===a)return q(!1);nt=a,xt=X;var De=a.nextElementSibling,he=!1;he=X===1;var ke=Nt(B,t,h,o,a,n,e,he);if(ke!==!1)return(ke===1||ke===-1)&&(he=ke===1),Hi=!0,setTimeout(Xn,30),J(),he&&!De?t.appendChild(h):a.parentNode.insertBefore(h,he?De:a),oe&&po(oe,0,O-oe.scrollTop),Q=h.parentNode,Z!==void 0&&!At&&(Ft=Math.abs(Z-ae(a)[F])),V(),q(!0)}if(t.contains(h))return q(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Ze),I(document,"mousemove",Ze),I(document,"touchmove",Ze)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"pointercancel",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(Ee=Se(h),Ue=Se(h,a.draggable),be("drop",this,{evt:e}),Q=h&&h.parentNode,Ee=Se(h),Ue=Se(h,a.draggable),D.eventCanceled){this._nulling();return}lt=!1,At=!1,wt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ui(this.cloneId),Ui(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),bt&&E(document.body,"user-select",""),E(h,"transform",""),e&&(ht&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(B===Q||fe&&fe.lastPutMode!=="clone")&&G&&G.parentNode&&G.parentNode.removeChild(G),h&&(this.nativeDraggable&&I(h,"dragend",this),Fi(h),h.style["will-change"]="",ht&&!lt&&we(h,fe?fe.options.ghostClass:this.options.ghostClass,!1),we(h,this.options.chosenClass,!1),ve({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),B!==Q?(Ee>=0&&(ve({rootEl:Q,name:"add",toEl:Q,fromEl:B,originalEvent:e}),ve({sortable:this,name:"remove",toEl:Q,originalEvent:e}),ve({rootEl:Q,name:"sort",toEl:Q,fromEl:B,originalEvent:e}),ve({sortable:this,name:"sort",toEl:Q,originalEvent:e})),fe&&fe.save()):Ee!==st&&Ee>=0&&(ve({sortable:this,name:"update",toEl:Q,originalEvent:e}),ve({sortable:this,name:"sort",toEl:Q,originalEvent:e})),D.active&&((Ee==null||Ee===-1)&&(Ee=st,Ue=yt),ve({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){be("nulling",this),B=h=Q=S=et=G=Rt=Ge=Je=Oe=ht=Ee=Ue=st=yt=nt=xt=fe=It=D.dragged=D.ghost=D.clone=D.active=null;var e=this.el;Ht.forEach(function(t){e.contains(t)&&(t.checked=!0)}),Ht.length=qi=Mi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),jn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,n=a.length,r=this.options;o<n;o++)t=a[o],Ne(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Wn(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(n,r){var d=o.children[r];Ne(d,this.options.draggable,o,!1)&&(a[n]=d)},this),t&&this.captureAnimationState(),e.forEach(function(n){a[n]&&(o.removeChild(a[n]),o.appendChild(a[n]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ne(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=Dt.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&bo(a)},destroy:function(){be("destroy",this);var e=this.el;e[_e]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bt.splice(Bt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ge){if(be("hideClone",this),D.eventCanceled)return;E(G,"display","none"),this.options.removeCloneOnHide&&G.parentNode&&G.parentNode.removeChild(G),Ge=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ge){if(be("showClone",this),D.eventCanceled)return;h.parentNode==B&&!this.options.group.revertClone?B.insertBefore(G,h):et?B.insertBefore(G,et):B.appendChild(G),this.options.group.revertClone&&this.animate(h,G),E(G,"display",""),Ge=!1}}};function jn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Nt(i,e,t,a,o,n,r,d){var f,p=i[_e],g=p.options.onMove,m;return window.CustomEvent&&!Be&&!Et?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=e,f.from=i,f.dragged=t,f.draggedRect=a,f.related=o||e,f.relatedRect=n||ae(e),f.willInsertAfter=d,f.originalEvent=r,i.dispatchEvent(f),g&&(m=g.call(p,f,r)),m}function Fi(i){i.draggable=!1}function Xn(){Hi=!1}function Yn(i,e,t){var a=ae(ut(t.el,0,t.options,!0)),o=ho(t.el,t.options,S),n=10;return e?i.clientX<o.left-n||i.clientY<a.top&&i.clientX<a.right:i.clientY<o.top-n||i.clientY<a.bottom&&i.clientX<a.left}function Bn(i,e,t){var a=ae($i(t.el,t.options.draggable)),o=ho(t.el,t.options,S),n=10;return e?i.clientX>o.right+n||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>o.bottom+n||i.clientX>a.right&&i.clientY>a.top}function Hn(i,e,t,a,o,n,r,d){var f=a?i.clientY:i.clientX,p=a?t.height:t.width,g=a?t.top:t.left,m=a?t.bottom:t.right,y=!1;if(!r){if(d&&Ft<p*o){if(!wt&&(xt===1?f>g+p*n/2:f<m-p*n/2)&&(wt=!0),wt)y=!0;else if(xt===1?f<g+Ft:f>m-Ft)return-xt}else if(f>g+p*(1-o)/2&&f<m-p*(1-o)/2)return Un(e)}return y=y||r,y&&(f<g+p*n/2||f>m-p*n/2)?f>g+p/2?1:-1:0}function Un(i){return Se(h)<Se(i)?1:-1}function Wn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function Gn(i){Ht.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Ht.push(a)}}function Lt(i){return setTimeout(i,0)}function Ui(i){return clearTimeout(i)}zt&&P(document,"touchmove",function(i){(D.active||lt)&&i.cancelable&&i.preventDefault()});D.utils={on:P,off:I,css:E,find:co,is:function(e,t){return!!Ne(e,t,e,!1)},extend:Cn,throttle:fo,closest:Ne,toggleClass:we,clone:mo,index:Se,nextTick:Lt,cancelNextTick:Ui,detectDirection:go,getChild:ut,expando:_e};D.get=function(i){return i[_e]};D.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(D.utils=Fe(Fe({},D.utils),a.utils)),Dt.mount(a)})};D.create=function(i,e){return new D(i,e)};D.version=Sn;var te=[],vt,Wi,Gi=!1,Li,ji,Ut,gt;function zn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):a.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),ao(),jt(),On()},nulling:function(){Ut=Wi=vt=Gi=gt=Li=ji=null,te.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,d=document.elementFromPoint(n,r);if(Ut=t,a||this.options.forceAutoScrollFallback||Et||Be||bt){Xi(t,this.options,d,a);var f=ze(d,!0);Gi&&(!gt||n!==Li||r!==ji)&&(gt&&ao(),gt=setInterval(function(){var p=ze(document.elementFromPoint(n,r),!0);p!==f&&(f=p,jt()),Xi(t,o.options,p,a)},10),Li=n,ji=r)}else{if(!this.options.bubbleScroll||ze(d,!0)===Re()){jt();return}Xi(t,this.options,ze(d,!1),!1)}}},Ye(i,{pluginName:"scroll",initializeByDefault:!0})}function jt(){te.forEach(function(i){clearInterval(i.pid)}),te=[]}function ao(){clearInterval(gt)}var Xi=fo(function(i,e,t,a){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,n=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,d=e.scrollSpeed,f=Re(),p=!1,g;Wi!==t&&(Wi=t,jt(),vt=e.scroll,g=e.scrollFn,vt===!0&&(vt=ze(t,!0)));var m=0,y=vt;do{var w=y,x=ae(w),T=x.top,H=x.bottom,J=x.left,q=x.right,V=x.width,j=x.height,le=void 0,X=void 0,Z=w.scrollWidth,se=w.scrollHeight,U=E(w),F=w.scrollLeft,oe=w.scrollTop;w===f?(le=V<Z&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),X=j<se&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(le=V<Z&&(U.overflowX==="auto"||U.overflowX==="scroll"),X=j<se&&(U.overflowY==="auto"||U.overflowY==="scroll"));var O=le&&(Math.abs(q-o)<=r&&F+V<Z)-(Math.abs(J-o)<=r&&!!F),$=X&&(Math.abs(H-n)<=r&&oe+j<se)-(Math.abs(T-n)<=r&&!!oe);if(!te[m])for(var ye=0;ye<=m;ye++)te[ye]||(te[ye]={});(te[m].vx!=O||te[m].vy!=$||te[m].el!==w)&&(te[m].el=w,te[m].vx=O,te[m].vy=$,clearInterval(te[m].pid),(O!=0||$!=0)&&(p=!0,te[m].pid=setInterval((function(){a&&this.layer===0&&D.active._onTouchMove(Ut);var De=te[this.layer].vy?te[this.layer].vy*d:0,he=te[this.layer].vx?te[this.layer].vx*d:0;typeof g=="function"&&g.call(D.dragged.parentNode[_e],he,De,i,Ut,te[this.layer].el)!=="continue"||po(te[this.layer].el,he,De)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&y!==f&&(y=ze(y,!1)));Gi=p}},30),xo=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,n=e.activeSortable,r=e.dispatchSortableEvent,d=e.hideGhostForTarget,f=e.unhideGhostForTarget;if(t){var p=a||n;d();var g=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(g.clientX,g.clientY);f(),p&&!p.el.contains(m)&&(r("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function Qi(){}Qi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=ut(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:xo};Ye(Qi,{pluginName:"revertOnSpill"});function Ki(){}Ki.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:xo};Ye(Ki,{pluginName:"removeOnSpill"});D.mount(new zn);D.mount(Ki,Qi);var Vn=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="1000"/></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required="" min="0" max="1000"/></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"/></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"/></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required=""><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function $n(i,e){Wt(e,!0);let t=ro(e,"question",15);var a=Vn(),o=ge(a),n=u(o),r=c(u(n));Pe(r);var d=c(r,4);ie(d),s(n),s(o);var f=c(o,2),p=u(f),g=c(u(p),3);ie(g),s(p),s(f);var m=c(f,2),y=u(m),w=c(u(y),3);ie(w),s(y),s(m);var x=c(m,2),T=u(x),H=c(u(T),3);ie(H),s(T),s(x);var J=c(x,2),q=u(J),V=c(u(q),3);ie(V),s(q),s(J);var j=c(J,2),le=u(j),X=c(u(le),3),Z=u(X);Z.value=Z.__value=1;var se=c(Z);se.value=se.__value=2,s(X),s(le),s(j);var U=c(j,2),F=u(U),oe=c(u(F),3);no(oe),s(F),s(U),ue(d,()=>t().label,O=>t(t().label=O,!0)),ue(g,()=>t().maxLength,O=>t(t().maxLength=O,!0)),ue(w,()=>t().minLength,O=>t(t().minLength=O,!0)),ue(H,()=>t().placeholder,O=>t(t().placeholder=O,!0)),Mt(V,()=>t().required,O=>t(t().required=O,!0)),Me(X,()=>t().style,O=>t(t().style=O,!0)),ue(oe,()=>t().value,O=>t(t().value=O,!0)),k(i,a),Gt()}var Qn=A("<li> </li>"),Kn=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="25"/></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required="" min="0" max="25"/></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"/></label></div></div>',1);function Jn(i,e){Wt(e,!0);let t=ro(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(F){a=Math.min(25,F)}},!0);var o=Kn(),n=ge(o),r=u(n),d=c(u(r));Pe(d);var f=c(d,4);ie(f),s(r),s(n);var p=c(n,2),g=u(p),m=c(u(g),3);ie(m),s(g),s(p);var y=c(p,2),w=u(y),x=c(u(w),3);ie(x),s(w),s(y);var T=c(y,2),H=u(T),J=u(H),q=c(J);Pe(q);var V=c(q,4);s(H);var j=c(H,2),le=u(j);Ie(le,21,()=>t().options,Ae,(F,oe)=>{var O=Qn(),$=u(O,!0);s(O),M(()=>re($,v(oe).label)),k(F,O)}),s(le),s(j),s(T);var X=c(T,2),Z=u(X),se=u(Z),U=c(u(se),3);ie(U),s(se),s(Z),s(X),M(()=>re(J,`Options (${t().options.length??""}/25) `)),ue(f,()=>t().label,F=>t(t().label=F,!0)),ue(m,()=>t().maxLength,F=>t(t().maxLength=F,!0)),ue(x,()=>t().minLength,F=>t(t().minLength=F,!0)),tt("click",V,()=>fn.open(OptionsModal,{id:t().id})),ue(U,()=>t().placeholder,F=>t(t().placeholder=F,!0)),k(i,o),Gt()}zi(["click"]);var Zn=A('<i class="fa-solid fa-spinner animate-spin"></i>'),er=A('<i class="fa-solid fa-xmark"></i>'),tr=A('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required=""><option class="p-1" default="" disabled="">Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled="" title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),ir=A('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),ar=A('<div class="list-group flex flex-col gap-2"></div>');function or(i,e){Wt(e,!0);const t=()=>dn(un,"$page",a),[a,o]=sn();let n=We(rt({})),r=We(null),d=We(void 0);oo(()=>{D.create(v(d),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>K.questions.sort((m,y)=>m.order-y.order),set:g=>{g.toArray().forEach((y,w)=>K.questions.find(x=>x.id===y).order=w)}}})});const f=async g=>{if(g._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;v(n)[g.id]=!0;const w=`/api/admin/guilds/${t().params.guild}/categories/${t().params.category}/questions/${g.id}`,x=await fetch(w,{credentials:"include",method:"DELETE"});if(v(n)[g.id]=!1,!x.ok){const T=await x.json();console.log(T);return}}const m=K.questions.findIndex(y=>g.id===y.id);K.questions.splice(m,1),Te(n,!1)};var p=ar();Ie(p,21,()=>K.questions,Ae,(g,m,y)=>{var w=ir(),x=u(w),T=u(x),H=c(u(T),2),J=u(H),q=c(J),V=u(q);{var j=O=>{var $=Zn();k(O,$)},le=O=>{var $=er();k(O,$)};z(V,O=>{v(n)[v(m).id]?O(j):O(le,!1)})}s(q);var X=c(q,2),Z=u(X),se=u(Z);s(Z);var U=c(Z,2);s(X),s(H),s(T);var F=c(T,2);{var oe=O=>{var $=tr(),ye=u($),De=u(ye),he=u(De),ke=c(u(he));Pe(ke);var xe=c(ke,4),Ve=u(xe);Ve.value=(Ve.__value=null)??"";var Le=c(Ve);Le.value=Le.__value="TEXT";var $e=c(Le);$e.value=$e.__value="MENU",s(xe),s(he),s(De);var ct=c(De,2);{var ft=Ce=>{$n(Ce,{get question(){return K.questions[y]},set question(Qe){K.questions[y]=Qe}})},Tt=Ce=>{Jn(Ce,{get question(){return K.questions[y]},set question(Qe){K.questions[y]=Qe}})};z(ct,Ce=>{v(m).type==="TEXT"?Ce(ft):v(m).type==="MENU"&&Ce(Tt,1)})}s(ye),s($),tt("change",xe,()=>{v(m).type==="TEXT"?v(m).maxLength=1e3:v(m).type==="MENU"&&(v(m).maxLength=1)}),Me(xe,()=>v(m).type,Ce=>v(m).type=Ce),k(O,$)};z(F,O=>{v(r)===v(m).id&&O(oe)})}s(x),s(w),M(()=>{Yi(w,"data-id",v(m).id),re(J,`${v(m).label??""} `),q.disabled=v(n)[v(m).id],re(se,`Click to ${v(r)===v(m).id?"collapse":"expand"}`),qt(U,1,`fa-solid ${v(r)===v(m).id?"fa-angle-up":"fa-angle-down"} self-end text-xl`)}),tt("click",q,()=>f(v(m))),tt("click",X,()=>Te(r,v(r)===v(m).id?null:v(m).id,!0)),k(g,w)}),s(p),ln(p,g=>Te(d,g),()=>v(d)),k(i,p),Gt(),o()}zi(["click","change"]);var nr=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),rr=A("<option> </option> <hr/>",1),lr=A('<option class="p-1"> </option>'),sr=A("<!><!>",1),dr=A('<option class="p-1"> </option>'),ur=A('<option class="p-1"> </option>'),cr=A('<option class="p-1">None</option><hr/><!>',1),fr=A("<!> <discord-mention> </discord-mention>",3),pr=A("<!> , <br/>",1),mr=A("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),hr=A("<discord-embed-footer> </discord-embed-footer>",2),vr=A("<discord-button> Edit</discord-button>",2),gr=A("<discord-button> Claim</discord-button>",2),br=A("<discord-button> Close</discord-button>",2),_r=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),yr=A('<option class="m-1 rounded p-1"> </option>'),xr=A('<option class="p-1"> </option>'),wr=A('<option class="m-1 rounded p-1"> </option>'),Er=A('<option class="m-1 rounded p-1"> </option>'),Dr=A('<option class="p-1"> </option>'),Tr=A('<option class="p-1">None</option><hr/><!>',1),Sr=A(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><!></select></label></div>`),kr=A('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),Cr=A('<i class="fa-solid fa-spinner animate-spin"></i>'),Or=A('<i class="fa-solid fa-trash"></i>'),Ir=A('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),Ar=A('<i class="fa-solid fa-spinner animate-spin"></i>'),Pr=A('<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"/></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"/></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"/></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium"><!> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400"></i> <select class="input form-multiselect" required=""><!></select></label></div> <div><label class="font-medium">Channel Mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How should ticket channels be created?"></i> <select class="input form-multiselect"></select></label></div> <div><label class="font-medium">Backup Category <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Alternative category to use when primary is full"></i> <select class="input form-multiselect"><!></select></label></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required=""/></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"/></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"/></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"/></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required="" rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"/></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple="" required="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"/></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>',1);function sl(i,e){Wt(e,!0);let t=We(!1);pn(l=>{v(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&l.cancel()}),oo(async()=>{const{applyPolyfills:l,defineCustomElements:b}=await Jo(async()=>{const{applyPolyfills:_,defineCustomElements:C}=await import("../chunks/D2-oBDD7.js").then(N=>N.i);return{applyPolyfills:_,defineCustomElements:C}},__vite__mapDeps([0,1]),import.meta.url);l().then(()=>{b()}),window.addEventListener("beforeunload",_=>{v(t)&&(_.preventDefault(),_.returnValue="")})});let a=e.data,o=rt(a.category),n=rt(a.channels),r=We(rt(a.roles)),d=rt(a.categories),f=rt(a.url);const p=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"],g=[{value:"CHANNEL",label:"Channel (Default)"},{value:"THREAD",label:"Thread (in category channel)"},{value:"FORUM",label:"Forum Channel"}];K.questions=o.questions;let m=Si(()=>o.channelMode==="FORUM"?n.filter(l=>l.type===15):n.filter(l=>l.type===4));Te(r,v(r).filter(l=>l.name!=="@everyone").sort((l,b)=>b.rawPosition-l.rawPosition),!0),v(r).forEach(l=>{l._hexColor=l.color>0?`#${l.color.toString(16).padStart(6,"0")}`:null,l._style=l._hexColor?`color: ${l._hexColor}`:""}),o.cooldown=o.cooldown?Ii(o.cooldown):"";let y=We(null),w=We(!1),x=We(!1);const T=async()=>{try{Te(w,!0);const l={...o};if(o.discordCategory==="new"&&(l.discordCategory=null),l.cooldown=o.cooldown?Ii(o.cooldown):null,l.name.length>30)throw new Error(`The name is too long (${l.name.length}>30).`);if(l.description.length>100)throw new Error(`The description is too long (${l.description.length}>100).`);l.questions=K.questions.map(C=>{if(C.type==="TEXT"){if(C.value.length>0&&C.value.length<C.minLength)throw`The value of the "${C.label}" question is shorter than the minimum length.`;if(C.value.length>C.maxLength)throw`The value of the "${C.label}" question is longer than the maximum length.`}return delete C._real,C}),l.questions.find(C=>C.id===l.customTopic)===void 0&&(l.customTopic=null);const b=await fetch(f,{method:o.id?"PATCH":"POST",body:JSON.stringify(l),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),_=await b.json();if(b.ok)Te(t,!1),window.location="./";else throw _}catch(l){Te(w,!1),Te(y,l,!0),window.scroll({top:0,behavior:"smooth"})}},H=async()=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;Te(x,!0);const b=await fetch(f,{method:"DELETE",credentials:"include"}),_=await b.json();if(b.ok)window.location="./";else throw _}catch(l){Te(x,!1),Te(y,l,!0),window.scroll({top:0,behavior:"smooth"})}},J=l=>v(r).find(b=>b.id===l);Wa(()=>{o.customTopic=K.questions.find(l=>l.id===o.customTopic)?o.customTopic:null}),Wa(()=>{o.requireTopic=K.questions.length>0?!1:o.requireTopic});var q=Pr(),V=c(ge(q),4),j=u(V);s(V);var le=c(V,2),X=u(le);{var Z=l=>{cn(l,{get error(){return v(y)}})};z(X,l=>{v(y)&&l(Z)})}var se=c(X,2),U=Si(()=>rn(()=>T())),F=u(se),oe=u(F),O=u(oe),$=u(O),ye=c(u($));Pe(ye);var De=c(ye,4);ie(De),s($),s(O);var he=c(O,2),ke=u(he),xe=c(u(ke));{var Ve=l=>{Pe(l)};z(xe,l=>{o.id&&l(Ve)})}var Le=c(xe,4);ie(Le),Yi(Le,"placeholder","ticket-{num}"),s(ke);var $e=c(ke,2);{var ct=l=>{var b=nr(),_=c(ge(b),2),C=c(u(_),2),N=u(C);Ua(N,()=>Ga.parse(o.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,Ha("user").username).replace(/{+\s?(user)?name\s?}+/gi,Ha("user").username)),s(C),s(_),k(l,b)};z($e,l=>{o.channelName&&l(ct)})}s(he);var ft=c(he,2),Tt=u(ft),Ce=c(u(Tt),3);ie(Ce),s(Tt),s(ft);var Qe=c(ft,2),Ji=u(Qe),Zi=c(u(Ji),3);ie(Zi),s(Ji),s(Qe);var Vt=c(Qe,2),ea=u(Vt),ta=c(u(ea));Pe(ta);var ia=c(ta,4);ie(ia),s(ea),s(Vt);var $t=c(Vt,2),aa=u($t),oa=u(aa);{var wo=l=>{var b=ki("Discord forum channel");k(l,b)},Eo=l=>{var b=ki("Discord category");k(l,b)};z(oa,l=>{o.channelMode==="FORUM"?l(wo):l(Eo,!1)})}var na=c(oa,2);Pe(na);var ra=c(na,2),Qt=c(ra,2);Ci(Qt,()=>{var l=u(Qt),b=sr(),_=ge(b);{var C=R=>{var ne=rr(),de=ge(ne),qe=u(de);s(de),de.value=de.__value="new",kt(2),M(()=>re(qe,`Create a new ${o.channelMode==="FORUM"?"forum":"category"}`)),k(R,ne)};z(_,R=>{(!o.discordCategory||o.discordCategory==="new")&&R(C)})}var N=c(_);Ie(N,17,()=>v(m),Ae,(R,ne)=>{var de=lr(),qe=u(de,!0);s(de);var pe={};M(()=>{re(qe,v(ne).name),pe!==(pe=v(ne).id)&&(de.value=(de.__value=v(ne).id)??"")}),k(R,de)}),k(l,b)}),s(aa),s($t);var Kt=c($t,2),la=u(Kt),Jt=c(u(la),3);Ie(Jt,21,()=>g,Ae,(l,b)=>{var _=dr(),C=u(_,!0);s(_);var N={};M(()=>{re(C,v(b).label),N!==(N=v(b).value)&&(_.value=(_.__value=v(b).value)??"")}),k(l,_)}),s(Jt),s(la),s(Kt);var Zt=c(Kt,2),sa=u(Zt),ei=c(u(sa),3);Ci(ei,()=>{var l=u(ei),b=cr(),_=ge(b);_.value=(_.__value=null)??"";var C=c(_,2);Ie(C,17,()=>d,Ae,(N,R)=>{var ne=Ct(),de=ge(ne);{var qe=pe=>{var ee=ur(),it=u(ee);s(ee);var Ke={};M(at=>{re(it,`${at??""} ${v(R).name??""}`),Ke!==(Ke=v(R).id)&&(ee.value=(ee.__value=v(R).id)??"")},[()=>Ai.get(v(R).emoji)??""]),k(pe,ee)};z(de,pe=>{v(R).id!==o.id&&pe(qe)})}k(N,ne)}),k(l,b)}),s(sa),s(Zt);var ti=c(Zt,2),da=u(ti),ua=c(u(da));Pe(ua);var ii=c(ua,4),Do=u(ii,!0);s(ii);var ca=c(ii,2);ie(ca),s(da),s(ti);var ai=c(ti,2),fa=u(ai),pa=c(u(fa),3);ie(pa),s(fa),s(ai);var oi=c(ai,2),ma=u(oi),ha=c(u(ma),3);ie(ha),s(ma),s(oi);var ni=c(oi,2),va=u(ni),ga=c(u(va),3);ie(ga),s(va),s(ni);var ri=c(ni,2),li=u(ri),ba=c(u(li));Pe(ba);var _a=c(ba,4);no(_a),s(li);var To=c(li,2);za(To,()=>o.pingRoles,l=>{var b=Ct(),_=ge(b);za(_,()=>o.requireTopic,C=>{var N=Ct(),R=ge(N);{var ne=de=>{var qe=_r(),pe=c(ge(qe),2);Y(pe,"no-background",!0),M(()=>Y(pe,"light-theme",e.data.theme!=="dark")),qt(pe,1,"bloc w-full border-0");var ee=u(pe);M(()=>Y(ee,"author",e.data.client.username)),M(()=>Y(ee,"avatar",e.data.client.avatar)),Y(ee,"bot",!0),M(()=>Y(ee,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),qt(ee,1,"py-2"),Y(ee,"highlight",!0);var it=u(ee);{var Ke=W=>{var L=pr(),mt=ge(L);Ie(mt,17,()=>o.pingRoles,Ae,(Uo,Wo,Go)=>{const Di=Si(()=>J(v(Wo)));var ja=Ct(),zo=ge(ja);{var Vo=Ti=>{var Xa=fr(),Ya=ge(Xa);{var $o=je=>{var Ba=ki();Ba.nodeValue=" ",k(je,Ba)};z(Ya,je=>{Go>0&&je($o)})}var St=c(Ya,2);M(()=>{var je;return Y(St,"color",(je=v(Di))==null?void 0:je._hexColor)}),Y(St,"type","role");var Qo=u(St,!0);s(St),M(()=>{var je;return re(Qo,(je=v(Di))==null?void 0:je.name)}),k(Ti,Xa)};z(zo,Ti=>{v(Di)&&Ti(Vo)})}k(Uo,ja)}),kt(2),k(W,L)};z(it,W=>{var L;((L=o.pingRoles)==null?void 0:L.length)>0&&W(Ke)})}var at=c(it,2);Y(at,"highlight",!0);var Mo=u(at,!0);s(at);var He=c(at,2);Y(He,"slot","embeds"),M(()=>Y(He,"color",e.data.settings.primaryColour)),M(()=>Y(He,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`)),M(()=>Y(He,"author-name",e.data.user.username)),M(()=>Y(He,"image",o.image));var pt=u(He);Y(pt,"slot","description"),qt(pt,1,"break-words prose prose-slate prose-sm dark:prose-invert prose-a:text-blurple");var Ro=u(pt);Ua(Ro,()=>Ga.parse(o.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),s(pt);var Ma=c(pt,2);{var Fo=W=>{var L=mr();Y(L,"slot","fields");var mt=u(L);Y(mt,"field-title","Topic"),s(L),k(W,L)};z(Ma,W=>{o.requireTopic&&W(Fo)})}var Lo=c(Ma,2);{var jo=W=>{var L=hr();Y(L,"slot","footer"),M(()=>Y(L,"footer-image",e.data.client.avatar));var mt=u(L,!0);s(L),M(()=>re(mt,e.data.settings.footer)),k(W,L)};z(Lo,W=>{e.data.settings.footer&&W(jo)})}s(He);var Ei=c(He,2);Y(Ei,"slot","components");var Ra=u(Ei),Fa=u(Ra);{var Xo=W=>{var L=vr();Y(L,"type","secondary"),k(W,L)};z(Fa,W=>{(o.requireTopic||K.questions.length>0)&&W(Xo)})}var La=c(Fa,2);{var Yo=W=>{var L=gr();Y(L,"type","secondary"),k(W,L)};z(La,W=>{o.claiming&&e.data.settings.claimButton&&W(Yo)})}var Bo=c(La,2);{var Ho=W=>{var L=br();Y(L,"type","destructive"),k(W,L)};z(Bo,W=>{e.data.settings.closeButton&&W(Ho)})}s(Ra),s(Ei),s(ee),s(pe),M(()=>re(Mo,e.data.user.username)),k(de,qe)};z(R,de=>{o.openingMessage&&de(ne)})}k(C,N)}),k(l,b)}),s(ri);var si=c(ri,2),ya=u(si),di=c(u(ya),3);Ie(di,21,()=>v(r),Ae,(l,b)=>{var _=yr(),C=u(_);s(_);var N={};M(()=>{Oi(_,v(b)._style),re(C,`${(v(b).unicodeEmoji||"")??""}
									${v(b).name??""}`),N!==(N=v(b).id)&&(_.value=(_.__value=v(b).id)??"")}),k(l,_)}),s(di),s(ya),s(si);var ui=c(si,2),xa=u(ui),ci=c(u(xa),3),fi=u(ci);fi.value=(fi.__value=null)??"";var So=c(fi);Ie(So,17,()=>p,Ae,(l,b)=>{var _=xr(),C=u(_,!0);s(_);var N={};M(R=>{re(C,v(b)),N!==(N=R)&&(_.value=(_.__value=R)??"")},[()=>Ii(v(b))/1e3]),k(l,_)}),s(ci),s(xa),s(ui);var pi=c(ui,2),wa=u(pi),mi=c(u(wa),3);Ie(mi,21,()=>v(r),Ae,(l,b)=>{var _=wr(),C=u(_);s(_);var N={};M(()=>{Oi(_,v(b)._style),re(C,`${(v(b).unicodeEmoji||"")??""}
									${v(b).name??""}`),N!==(N=v(b).id)&&(_.value=(_.__value=v(b).id)??"")}),k(l,_)}),s(mi),s(wa),s(pi);var hi=c(pi,2),Ea=u(hi),vi=c(u(Ea),3);ie(vi),s(Ea),s(hi);var gi=c(hi,2),Da=u(gi),Ta=c(u(Da));Pe(Ta);var bi=c(Ta,4);Ie(bi,21,()=>v(r),Ae,(l,b)=>{var _=Er(),C=u(_);s(_);var N={};M(()=>{Oi(_,v(b)._style),re(C,`${(v(b).unicodeEmoji||"")??""}
									${v(b).name??""}`),N!==(N=v(b).id)&&(_.value=(_.__value=v(b).id)??"")}),k(l,_)}),s(bi),s(Da),s(gi);var Sa=c(gi,2),ka=u(Sa),Ca=c(u(ka),3);ie(Ca),s(ka),s(Sa),s(oe);var Oa=c(oe,2),_i=u(Oa),Ia=u(_i),yi=u(Ia),Aa=c(u(yi),2),ko=u(Aa);s(Aa),s(yi);var Pa=c(yi,2);{var Co=l=>{var b=Sr(),_=u(b),C=c(u(_),3);Ci(C,()=>{var N=u(C),R=Tr(),ne=ge(R);ne.value=(ne.__value=null)??"";var de=c(ne,2);Ie(de,17,()=>K.questions,Ae,(qe,pe)=>{var ee=Dr(),it=u(ee,!0);s(ee);var Ke={};M(()=>{re(it,v(pe).label),Ke!==(Ke=v(pe).id)&&(ee.value=(ee.__value=v(pe).id)??"")}),k(qe,ee)}),k(N,R)}),s(_),s(b),Me(C,()=>o.customTopic,N=>o.customTopic=N),k(l,b)};z(Pa,l=>{K.questions.length>0&&l(Co)})}var xi=c(Pa,2),Oo=u(xi);or(Oo,{}),s(xi);var Io=c(xi,2);{var Ao=l=>{var b=kr(),_=u(b);s(b),tt("click",_,()=>{K.questions.push({id:yn(),label:`Question ${K.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:K.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})}),k(l,b)};z(Io,l=>{K.questions.length<5&&l(Ao)})}s(Ia),s(_i);var Na=c(_i,2),qa=u(Na);{var Po=l=>{var b=Ir(),_=u(b);{var C=R=>{var ne=Cr();k(R,ne)},N=R=>{var ne=Or();k(R,ne)};z(_,R=>{v(x)?R(C):R(N,!1)})}kt(),s(b),M(()=>b.disabled=v(x)),tt("click",b,H),k(l,b)};z(qa,l=>{o.id&&l(Po)})}var wi=c(qa,2),No=u(wi);{var qo=l=>{var b=Ar();k(l,b)};z(No,l=>{v(w)&&l(qo)})}kt(),s(wi),s(Na),s(Oa),s(F),s(se),s(le),M((l,b)=>{re(j,`${l??""}
	${(o.name||"New category")??""}`),Le.required=!!o.id,Yi(ra,"title",o.channelMode==="FORUM"?"Which forum channel should tickets be created in?":"Which category channel should ticket channels be created under?"),re(Do,b),vi.disabled=K.questions.length>0,re(ko,`${K.questions.length??""}/5`),wi.disabled=v(w)},[()=>Ai.get(o.emoji)??"",()=>Ai.get(o.emoji)??""]),on("submit",se,function(...l){var b;(b=v(U))==null||b.apply(this,l)}),tt("change",se,()=>Te(t,!0)),ue(De,()=>o.name,l=>o.name=l),ue(Le,()=>o.channelName,l=>o.channelName=l),Mt(Ce,()=>o.claiming,l=>o.claiming=l),ue(Zi,()=>o.cooldown,l=>o.cooldown=l),ue(ia,()=>o.description,l=>o.description=l),Me(Qt,()=>o.discordCategory,l=>o.discordCategory=l),Me(Jt,()=>o.channelMode,l=>o.channelMode=l),Me(ei,()=>o.backupCategoryId,l=>o.backupCategoryId=l),ue(ca,()=>o.emoji,l=>o.emoji=l),Mt(pa,()=>o.enableFeedback,l=>o.enableFeedback=l),ue(ha,()=>o.image,l=>o.image=l),ue(ga,()=>o.memberLimit,l=>o.memberLimit=l),ue(_a,()=>o.openingMessage,l=>o.openingMessage=l),Me(di,()=>o.pingRoles,l=>o.pingRoles=l),Me(ci,()=>o.ratelimit,l=>o.ratelimit=l),Me(mi,()=>o.requiredRoles,l=>o.requiredRoles=l),Mt(vi,()=>o.requireTopic,l=>o.requireTopic=l),Me(bi,()=>o.staffRoles,l=>o.staffRoles=l),ue(Ca,()=>o.totalLimit,l=>o.totalLimit=l),k(i,q),Gt()}zi(["change","click"]);export{sl as component,ll as universal};
