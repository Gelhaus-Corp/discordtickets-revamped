const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/D2-oBDD7.js","../chunks/Dp1pzeXC.js"])))=>i.map(i=>d[i]);
import{e as Uo}from"../chunks/Cxx9n8vM.js";import{_ as Go}from"../chunks/Dp1pzeXC.js";import"../chunks/Bzak7iHL.js";import{o as Za}from"../chunks/nwo5WiIq.js";import{m as zo,V as $o,bF as Vo,l as Qo,p as Ut,h as ge,c as u,i as f,r as s,bK as eo,a as k,b as Gt,f as A,aV as Wi,t as F,g as h,aW as et,d as je,U as lt,s as De,aY as Ko,j as kt,e as Ct,u as Fa,au as La,aT as Jo}from"../chunks/_fu6EM7d.js";import{s as le}from"../chunks/DbFbsu9R.js";import{i as K}from"../chunks/BkvMZOlF.js";import{B as Zo}from"../chunks/Caq5s-y_.js";import{e as Oe,i as Ie}from"../chunks/CdfWQzPM.js";import{h as ja}from"../chunks/BHIk14_I.js";import{r as ie,b as Me,s as to,a as Y}from"../chunks/BZKIRd09.js";import{s as qt}from"../chunks/B_DfNNzh.js";import{c as Si}from"../chunks/CSeQqRbU.js";import{s as ki}from"../chunks/CG3JaKlL.js";import{b as se,a as Mt}from"../chunks/DD97wVFk.js";import{p as en}from"../chunks/r2wwZTEc.js";import{r as Xa}from"../chunks/BSe2IdtJ.js";import{m as Ci}from"../chunks/5EBxWskT.js";import{e as Oi}from"../chunks/DSwvs_u7.js";import{m as Ya}from"../chunks/B0NBGGFk.js";import{b as tn}from"../chunks/ByBQdF1a.js";import{s as an,a as on}from"../chunks/CzA9-LZ0.js";import{p as nn}from"../chunks/D98LCIk8.js";import{p as io}from"../chunks/BALO3cCj.js";import{R as Ae,E as rn}from"../chunks/DZ1Z5aX_.js";import{m as ln}from"../chunks/B-HGQZHm.js";import{q as J}from"../chunks/DJA2_7p-.js";import{b as sn}from"../chunks/Drnsocvb.js";const dn=Symbol("NaN");function Ba(i,e,t){zo&&$o();var a=new Zo(i),o=!Vo();Qo(()=>{var n=e();n!==n&&(n=dn),o&&n!==null&&typeof n=="object"&&(n={}),a.ensure(n,t)})}async function un({fetch:i,params:e}){var n;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50,channelMode:"CHANNEL",backupCategoryId:null};else{const r=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),d=(n=r.headers.get("Content-Type"))==null?void 0:n.includes("json");a=d?await r.json():await r.text(),r.ok||Uo(r.status,d?JSON.stringify(a):a)}let o=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(o+=`/${e.category}`),{url:o,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),categories:await(await i(`/api/admin/guilds/${e.guild}/categories`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const il=Object.freeze(Object.defineProperty({__proto__:null,load:un},Symbol.toStringTag,{value:"Module"}));let Ot;const cn=new Uint8Array(16);function fn(){if(!Ot&&(Ot=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ot))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ot(cn)}const de=[];for(let i=0;i<256;++i)de.push((i+256).toString(16).slice(1));function pn(i,e=0){return de[i[e+0]]+de[i[e+1]]+de[i[e+2]]+de[i[e+3]]+"-"+de[i[e+4]]+de[i[e+5]]+"-"+de[i[e+6]]+de[i[e+7]]+"-"+de[i[e+8]]+de[i[e+9]]+"-"+de[i[e+10]]+de[i[e+11]]+de[i[e+12]]+de[i[e+13]]+de[i[e+14]]+de[i[e+15]]}const mn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ha={randomUUID:mn};function vn(i,e,t){if(Ha.randomUUID&&!i)return Ha.randomUUID();i=i||{};const a=i.random||(i.rng||fn)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,pn(a)}/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function hn(i,e,t){return(e=yn(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ye(){return Ye=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},Ye.apply(null,arguments)}function Wa(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function Fe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wa(Object(t),!0).forEach(function(a){hn(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Wa(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function gn(i,e){if(i==null)return{};var t,a,o=bn(i,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);for(a=0;a<n.length;a++)t=n[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(o[t]=i[t])}return o}function bn(i,e){if(i==null)return{};var t={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;t[a]=i[a]}return t}function _n(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function yn(i){var e=_n(i,"string");return typeof e=="symbol"?e:e+""}function ji(i){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(i)}var xn="1.15.7";function Xe(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Be=Xe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wt=Xe(/Edge/i),Ua=Xe(/firefox/i),gt=Xe(/safari/i)&&!Xe(/chrome/i)&&!Xe(/android/i),Ui=Xe(/iP(ad|od|hone)/i),ao=Xe(/chrome/i)&&Xe(/android/i),oo={capture:!1,passive:!1};function P(i,e,t){i.addEventListener(e,t,!Be&&oo)}function I(i,e,t){i.removeEventListener(e,t,!Be&&oo)}function Xt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function no(i){return i.host&&i!==document&&i.host.nodeType&&i.host!==i?i.host:i.parentNode}function Pe(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Xt(i,e):Xt(i,e))||a&&i===t)return i;if(i===t)break}while(i=no(i))}return null}var Ga=/\s+/g;function we(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(Ga," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(Ga," ")}}function E(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function ut(i,e){var t="";if(typeof i=="string")t=i;else do{var a=E(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function ro(i,e,t){if(i){var a=i.getElementsByTagName(e),o=0,n=a.length;if(t)for(;o<n;o++)t(a[o],o);return a}return[]}function Re(){var i=document.scrollingElement;return i||document.documentElement}function ae(i,e,t,a,o){if(!(!i.getBoundingClientRect&&i!==window)){var n,r,d,c,p,g,m;if(i!==window&&i.parentNode&&i!==Re()?(n=i.getBoundingClientRect(),r=n.top,d=n.left,c=n.bottom,p=n.right,g=n.height,m=n.width):(r=0,d=0,c=window.innerHeight,p=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!Be))do if(o&&o.getBoundingClientRect&&(E(o,"transform")!=="none"||t&&E(o,"position")!=="static")){var y=o.getBoundingClientRect();r-=y.top+parseInt(E(o,"border-top-width")),d-=y.left+parseInt(E(o,"border-left-width")),c=r+n.height,p=d+n.width;break}while(o=o.parentNode);if(a&&i!==window){var w=ut(o||i),x=w&&w.a,T=w&&w.d;w&&(r/=T,d/=x,m/=x,g/=T,c=r+g,p=d+m)}return{top:r,left:d,bottom:c,right:p,width:m,height:g}}}function za(i,e,t){for(var a=ze(i,!0),o=ae(i)[e];a;){var n=ae(a)[t],r=void 0;if(r=o>=n,!r)return a;if(a===Re())break;a=ze(a,!1)}return!1}function ct(i,e,t,a){for(var o=0,n=0,r=i.children;n<r.length;){if(r[n].style.display!=="none"&&r[n]!==D.ghost&&(a||r[n]!==D.dragged)&&Pe(r[n],t.draggable,i,!1)){if(o===e)return r[n];o++}n++}return null}function Gi(i,e){for(var t=i.lastElementChild;t&&(t===D.ghost||E(t,"display")==="none"||e&&!Xt(t,e));)t=t.previousElementSibling;return t||null}function ke(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==D.clone&&(!e||Xt(i,e))&&t++;return t}function $a(i){var e=0,t=0,a=Re();if(i)do{var o=ut(i),n=o.a,r=o.d;e+=i.scrollLeft*n,t+=i.scrollTop*r}while(i!==a&&(i=i.parentNode));return[e,t]}function wn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function ze(i,e){if(!i||!i.getBoundingClientRect)return Re();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=E(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Re();if(a||e)return t;a=!0}}while(t=t.parentNode);return Re()}function En(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Ii(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var bt;function lo(i,e){return function(){if(!bt){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),bt=setTimeout(function(){bt=void 0},e)}}}function Dn(){clearTimeout(bt),bt=void 0}function so(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function uo(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function co(i,e,t){var a={};return Array.from(i.children).forEach(function(o){var n,r,d,c;if(!(!Pe(o,e.draggable,i,!1)||o.animated||o===t)){var p=ae(o);a.left=Math.min((n=a.left)!==null&&n!==void 0?n:1/0,p.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,p.top),a.right=Math.max((d=a.right)!==null&&d!==void 0?d:-1/0,p.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,p.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var _e="Sortable"+new Date().getTime();function Tn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(E(o,"display")==="none"||o===D.ghost)){i.push({target:o,rect:ae(o)});var n=Fe({},i[i.length-1].rect);if(o.thisAnimationDuration){var r=ut(o,!0);r&&(n.top-=r.f,n.left-=r.e)}o.fromRect=n}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(wn(i,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var n=!1,r=0;i.forEach(function(d){var c=0,p=d.target,g=p.fromRect,m=ae(p),y=p.prevFromRect,w=p.prevToRect,x=d.rect,T=ut(p,!0);T&&(m.top-=T.f,m.left-=T.e),p.toRect=m,p.thisAnimationDuration&&Ii(y,m)&&!Ii(g,m)&&(x.top-m.top)/(x.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(c=kn(x,y,w,o.options)),Ii(m,g)||(p.prevFromRect=g,p.prevToRect=m,c||(c=o.options.animation),o.animate(p,x,m,c)),c&&(n=!0,r=Math.max(r,c),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},c),p.thisAnimationDuration=c)}),clearTimeout(e),n?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),i=[]},animate:function(a,o,n,r){if(r){E(a,"transition",""),E(a,"transform","");var d=ut(this.el),c=d&&d.a,p=d&&d.d,g=(o.left-n.left)/(c||1),m=(o.top-n.top)/(p||1);a.animatingX=!!g,a.animatingY=!!m,E(a,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=Sn(a),E(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){E(a,"transition",""),E(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function Sn(i){return i.offsetWidth}function kn(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var nt=[],Ai={initializeByDefault:!0},Et={mount:function(e){for(var t in Ai)Ai.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ai[t]);nt.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),nt.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var n=e+"Global";nt.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][n]&&t[r.pluginName][n](Fe({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Fe({sortable:t},a)))})},initializePlugins:function(e,t,a,o){nt.forEach(function(d){var c=d.pluginName;if(!(!e.options[c]&&!d.initializeByDefault)){var p=new d(e,t,e.options);p.sortable=e,p.options=e.options,e[c]=p,Ye(a,p.defaults)}});for(var n in e.options)if(e.options.hasOwnProperty(n)){var r=this.modifyOption(e,n,e.options[n]);typeof r<"u"&&(e.options[n]=r)}},getEventProperties:function(e,t){var a={};return nt.forEach(function(o){typeof o.eventProperties=="function"&&Ye(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return nt.forEach(function(n){e[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[t]=="function"&&(o=n.optionListeners[t].call(e[n.pluginName],a))}),o}};function Cn(i){var e=i.sortable,t=i.rootEl,a=i.name,o=i.targetEl,n=i.cloneEl,r=i.toEl,d=i.fromEl,c=i.oldIndex,p=i.newIndex,g=i.oldDraggableIndex,m=i.newDraggableIndex,y=i.originalEvent,w=i.putSortable,x=i.extraEventProperties;if(e=e||t&&t[_e],!!e){var T,H=e.options,$="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Be&&!wt?T=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(a,!0,!0)),T.to=r||t,T.from=d||t,T.item=o||t,T.clone=n,T.oldIndex=c,T.newIndex=p,T.oldDraggableIndex=g,T.newDraggableIndex=m,T.originalEvent=y,T.pullMode=w?w.lastPutMode:void 0;var N=Fe(Fe({},x),Et.getEventProperties(a,e));for(var Z in N)T[Z]=N[Z];t&&t.dispatchEvent(T),H[$]&&H[$].call(e,T)}}var On=["evt"],be=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,n=gn(a,On);Et.pluginEvent.bind(D)(e,t,Fe({dragEl:v,parentEl:Q,ghostEl:S,rootEl:B,nextEl:Ze,lastDownEl:Rt,cloneEl:z,cloneHidden:Ge,dragStarted:mt,putSortable:ue,activeSortable:D.active,originalEvent:o,oldIndex:dt,oldDraggableIndex:_t,newIndex:Ee,newDraggableIndex:Ue,hideGhostForTarget:vo,unhideGhostForTarget:ho,cloneNowHidden:function(){Ge=!0},cloneNowShown:function(){Ge=!1},dispatchSortableEvent:function(d){he({sortable:t,name:d,originalEvent:o})}},n))};function he(i){Cn(Fe({putSortable:ue,cloneEl:z,targetEl:v,rootEl:B,oldIndex:dt,oldDraggableIndex:_t,newIndex:Ee,newDraggableIndex:Ue},i))}var v,Q,S,B,Ze,Rt,z,Ge,dt,Ee,_t,Ue,It,ue,st=!1,Yt=!1,Bt=[],Ke,Ce,Pi,Ni,Va,Qa,mt,rt,yt,xt=!1,At=!1,Ft,pe,qi=[],Xi=!1,Ht=[],zt=typeof document<"u",Pt=Ui,Ka=wt||Be?"cssFloat":"float",In=zt&&!ao&&!Ui&&"draggable"in document.createElement("div"),fo=(function(){if(zt){if(Be)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),po=function(e,t){var a=E(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),n=ct(e,0,t),r=ct(e,1,t),d=n&&E(n),c=r&&E(r),p=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+ae(n).width,g=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ae(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&d.float&&d.float!=="none"){var m=d.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return n&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||p>=o&&a[Ka]==="none"||r&&a[Ka]==="none"&&p+g>o)?"vertical":"horizontal"},An=function(e,t,a){var o=a?e.left:e.top,n=a?e.right:e.bottom,r=a?e.width:e.height,d=a?t.left:t.top,c=a?t.right:t.bottom,p=a?t.width:t.height;return o===d||n===c||o+r/2===d+p/2},Pn=function(e,t){var a;return Bt.some(function(o){var n=o[_e].options.emptyInsertThreshold;if(!(!n||Gi(o))){var r=ae(o),d=e>=r.left-n&&e<=r.right+n,c=t>=r.top-n&&t<=r.bottom+n;if(d&&c)return a=o}}),a},mo=function(e){function t(n,r){return function(d,c,p,g){var m=d.options.group.name&&c.options.group.name&&d.options.group.name===c.options.group.name;if(n==null&&(r||m))return!0;if(n==null||n===!1)return!1;if(r&&n==="clone")return n;if(typeof n=="function")return t(n(d,c,p,g),r)(d,c,p,g);var y=(r?d:c).options.group.name;return n===!0||typeof n=="string"&&n===y||n.join&&n.indexOf(y)>-1}}var a={},o=e.group;(!o||ji(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},vo=function(){!fo&&S&&E(S,"display","none")},ho=function(){!fo&&S&&E(S,"display","")};zt&&!ao&&document.addEventListener("click",function(i){if(Yt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Yt=!1,!1},!0);var Je=function(e){if(v){e=e.touches?e.touches[0]:e;var t=Pn(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[_e]._onDragOver(a)}}},Nn=function(e){v&&v.parentNode[_e]._isOutsideThisEl(e.target)};function D(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=Ye({},e),i[_e]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return po(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,d){r.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&(!gt||Ui),emptyInsertThreshold:5};Et.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);mo(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:In,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(i,"pointerdown",this._onTapStart):(P(i,"mousedown",this._onTapStart),P(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(i,"dragover",this),P(i,"dragenter",this)),Bt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ye(this,Tn())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(rt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,v):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,n=o.preventOnFilter,r=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(d||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,g=o.filter;if(Yn(a),!v&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&gt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Pe(c,o.draggable,a,!1),!(c&&c.animated)&&Rt!==c)){if(dt=ke(c),_t=ke(c,o.draggable),typeof g=="function"){if(g.call(this,e,c,this)){he({sortable:t,rootEl:p,name:"filter",targetEl:c,toEl:a,fromEl:a}),be("filter",t,{evt:e}),n&&e.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=Pe(p,m.trim(),a,!1),m)return he({sortable:t,rootEl:m,name:"filter",targetEl:c,fromEl:a,toEl:a}),be("filter",t,{evt:e}),!0}),g)){n&&e.preventDefault();return}o.handle&&!Pe(p,o.handle,a,!1)||this._prepareDragStart(e,d,c)}}},_prepareDragStart:function(e,t,a){var o=this,n=o.el,r=o.options,d=n.ownerDocument,c;if(a&&!v&&a.parentNode===n){var p=ae(a);if(B=n,v=a,Q=v.parentNode,Ze=v.nextSibling,Rt=a,It=r.group,D.dragged=v,Ke={target:v,clientX:(t||e).clientX,clientY:(t||e).clientY},Va=Ke.clientX-p.left,Qa=Ke.clientY-p.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,v.style["will-change"]="all",c=function(){if(be("delayEnded",o,{evt:e}),D.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Ua&&o.nativeDraggable&&(v.draggable=!0),o._triggerDragStart(e,t),he({sortable:o,name:"choose",originalEvent:e}),we(v,r.chosenClass,!0)},r.ignore.split(",").forEach(function(g){ro(v,g.trim(),Mi)}),P(d,"dragover",Je),P(d,"mousemove",Je),P(d,"touchmove",Je),r.supportPointer?(P(d,"pointerup",o._onDrop),!this.nativeDraggable&&P(d,"pointercancel",o._onDrop)):(P(d,"mouseup",o._onDrop),P(d,"touchend",o._onDrop),P(d,"touchcancel",o._onDrop)),Ua&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),be("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(wt||Be))){if(D.eventCanceled){this._onDrop();return}r.supportPointer?(P(d,"pointerup",o._disableDelayedDrag),P(d,"pointercancel",o._disableDelayedDrag)):(P(d,"mouseup",o._disableDelayedDrag),P(d,"touchend",o._disableDelayedDrag),P(d,"touchcancel",o._disableDelayedDrag)),P(d,"mousemove",o._delayedDragTouchMoveHandler),P(d,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&P(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&Mi(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"pointerup",this._disableDelayedDrag),I(e,"pointercancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):t?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(v,"dragend",this),P(B,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(st=!1,B&&v){be("dragStarted",this,{evt:t}),this.nativeDraggable&&P(document,"dragover",Nn);var a=this.options;!e&&we(v,a.dragClass,!1),we(v,a.ghostClass,!0),D.active=this,e&&this._appendGhost(),he({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ce){this._lastX=Ce.clientX,this._lastY=Ce.clientY,vo();for(var e=document.elementFromPoint(Ce.clientX,Ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ce.clientX,Ce.clientY),e!==t);)t=e;if(v.parentNode[_e]._isOutsideThisEl(e),t)do{if(t[_e]){var a=void 0;if(a=t[_e]._onDragOver({clientX:Ce.clientX,clientY:Ce.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=no(t));ho()}},_onTouchMove:function(e){if(Ke){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,n=e.touches?e.touches[0]:e,r=S&&ut(S,!0),d=S&&r&&r.a,c=S&&r&&r.d,p=Pt&&pe&&$a(pe),g=(n.clientX-Ke.clientX+o.x)/(d||1)+(p?p[0]-qi[0]:0)/(d||1),m=(n.clientY-Ke.clientY+o.y)/(c||1)+(p?p[1]-qi[1]:0)/(c||1);if(!D.active&&!st){if(a&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(S){r?(r.e+=g-(Pi||0),r.f+=m-(Ni||0)):r={a:1,b:0,c:0,d:1,e:g,f:m};var y="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");E(S,"webkitTransform",y),E(S,"mozTransform",y),E(S,"msTransform",y),E(S,"transform",y),Pi=g,Ni=m,Ce=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:B,t=ae(v,!0,Pt,!0,e),a=this.options;if(Pt){for(pe=e;E(pe,"position")==="static"&&E(pe,"transform")==="none"&&pe!==document;)pe=pe.parentNode;pe!==document.body&&pe!==document.documentElement?(pe===document&&(pe=Re()),t.top+=pe.scrollTop,t.left+=pe.scrollLeft):pe=Re(),qi=$a(pe)}S=v.cloneNode(!0),we(S,a.ghostClass,!1),we(S,a.fallbackClass,!0),we(S,a.dragClass,!0),E(S,"transition",""),E(S,"transform",""),E(S,"box-sizing","border-box"),E(S,"margin",0),E(S,"top",t.top),E(S,"left",t.left),E(S,"width",t.width),E(S,"height",t.height),E(S,"opacity","0.8"),E(S,"position",Pt?"absolute":"fixed"),E(S,"zIndex","100000"),E(S,"pointerEvents","none"),D.ghost=S,e.appendChild(S),E(S,"transform-origin",Va/parseInt(S.style.width)*100+"% "+Qa/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,n=a.options;if(be("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}be("setupClone",this),D.eventCanceled||(z=uo(v),z.removeAttribute("id"),z.draggable=!1,z.style["will-change"]="",this._hideClone(),we(z,this.options.chosenClass,!1),D.clone=z),a.cloneId=Lt(function(){be("clone",a),!D.eventCanceled&&(a.options.removeCloneOnHide||B.insertBefore(z,v),a._hideClone(),he({sortable:a,name:"clone"}))}),!t&&we(v,n.dragClass,!0),t?(Yt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(I(document,"mouseup",a._onDrop),I(document,"touchend",a._onDrop),I(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",n.setData&&n.setData.call(a,o,v)),P(document,"drop",a),E(v,"transform","translateZ(0)")),st=!0,a._dragStartId=Lt(a._dragStarted.bind(a,t,e)),P(document,"selectstart",a),mt=!0,window.getSelection().removeAllRanges(),gt&&E(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,n,r,d=this.options,c=d.group,p=D.active,g=It===c,m=d.sort,y=ue||p,w,x=this,T=!1;if(Xi)return;function H(Te,qe){be(Te,x,Fe({evt:e,isOwner:g,axis:w?"vertical":"horizontal",revert:r,dragRect:o,targetRect:n,canSort:m,fromSortable:y,target:a,completed:N,onMove:function($e,Ve){return Nt(B,t,v,o,$e,ae($e),e,Ve)},changed:Z},qe))}function $(){H("dragOverAnimationCapture"),x.captureAnimationState(),x!==y&&y.captureAnimationState()}function N(Te){return H("dragOverCompleted",{insertion:Te}),Te&&(g?p._hideClone():p._showClone(x),x!==y&&(we(v,ue?ue.options.ghostClass:p.options.ghostClass,!1),we(v,d.ghostClass,!0)),ue!==x&&x!==D.active?ue=x:x===D.active&&ue&&(ue=null),y===x&&(x._ignoreWhileAnimating=a),x.animateAll(function(){H("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===v&&!v.animated||a===t&&!a.animated)&&(rt=null),!d.dragoverBubble&&!e.rootEl&&a!==document&&(v.parentNode[_e]._isOutsideThisEl(e.target),!Te&&Je(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function Z(){Ee=ke(v),Ue=ke(v,d.draggable),he({sortable:x,name:"change",toEl:t,newIndex:Ee,newDraggableIndex:Ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Pe(a,d.draggable,t,!0),H("dragOver"),D.eventCanceled)return T;if(v.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||x._ignoreWhileAnimating===a)return N(!1);if(Yt=!1,p&&!d.disabled&&(g?m||(r=Q!==B):ue===this||(this.lastPutMode=It.checkPull(this,p,v,e))&&c.checkPut(this,p,v,e))){if(w=this._getDirection(e,a)==="vertical",o=ae(v),H("dragOverValid"),D.eventCanceled)return T;if(r)return Q=B,$(),this._hideClone(),H("revert"),D.eventCanceled||(Ze?B.insertBefore(v,Ze):B.appendChild(v)),N(!0);var L=Gi(t,d.draggable);if(!L||Fn(e,w,this)&&!L.animated){if(L===v)return N(!1);if(L&&t===e.target&&(a=L),a&&(n=ae(a)),Nt(B,t,v,o,a,n,e,!!a)!==!1)return $(),L&&L.nextSibling?t.insertBefore(v,L.nextSibling):t.appendChild(v),Q=t,Z(),N(!0)}else if(L&&Rn(e,w,this)){var re=ct(t,0,d,!0);if(re===v)return N(!1);if(a=re,n=ae(a),Nt(B,t,v,o,a,n,e,!1)!==!1)return $(),t.insertBefore(v,re),Q=t,Z(),N(!0)}else if(a.parentNode===t){n=ae(a);var W=0,U,me=v.parentNode!==t,X=!An(v.animated&&v.toRect||o,a.animated&&a.toRect||n,w),M=w?"top":"left",oe=za(a,"top","top")||za(v,"top","top"),O=oe?oe.scrollTop:void 0;rt!==a&&(U=n[M],xt=!1,At=!X&&d.invertSwap||me),W=Ln(e,a,n,w,X?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,At,rt===a);var V;if(W!==0){var ye=ke(v);do ye-=W,V=Q.children[ye];while(V&&(E(V,"display")==="none"||V===S))}if(W===0||V===a)return N(!1);rt=a,yt=W;var xe=a.nextElementSibling,ve=!1;ve=W===1;var Ne=Nt(B,t,v,o,a,n,e,ve);if(Ne!==!1)return(Ne===1||Ne===-1)&&(ve=Ne===1),Xi=!0,setTimeout(Mn,30),$(),ve&&!xe?t.appendChild(v):a.parentNode.insertBefore(v,ve?xe:a),oe&&so(oe,0,O-oe.scrollTop),Q=v.parentNode,U!==void 0&&!At&&(Ft=Math.abs(U-ae(a)[M])),Z(),N(!0)}if(t.contains(v))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Je),I(document,"mousemove",Je),I(document,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"pointercancel",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(Ee=ke(v),Ue=ke(v,a.draggable),be("drop",this,{evt:e}),Q=v&&v.parentNode,Ee=ke(v),Ue=ke(v,a.draggable),D.eventCanceled){this._nulling();return}st=!1,At=!1,xt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yi(this.cloneId),Yi(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),gt&&E(document.body,"user-select",""),E(v,"transform",""),e&&(mt&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(B===Q||ue&&ue.lastPutMode!=="clone")&&z&&z.parentNode&&z.parentNode.removeChild(z),v&&(this.nativeDraggable&&I(v,"dragend",this),Mi(v),v.style["will-change"]="",mt&&!st&&we(v,ue?ue.options.ghostClass:this.options.ghostClass,!1),we(v,this.options.chosenClass,!1),he({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),B!==Q?(Ee>=0&&(he({rootEl:Q,name:"add",toEl:Q,fromEl:B,originalEvent:e}),he({sortable:this,name:"remove",toEl:Q,originalEvent:e}),he({rootEl:Q,name:"sort",toEl:Q,fromEl:B,originalEvent:e}),he({sortable:this,name:"sort",toEl:Q,originalEvent:e})),ue&&ue.save()):Ee!==dt&&Ee>=0&&(he({sortable:this,name:"update",toEl:Q,originalEvent:e}),he({sortable:this,name:"sort",toEl:Q,originalEvent:e})),D.active&&((Ee==null||Ee===-1)&&(Ee=dt,Ue=_t),he({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){be("nulling",this),B=v=Q=S=Ze=z=Rt=Ge=Ke=Ce=mt=Ee=Ue=dt=_t=rt=yt=ue=It=D.dragged=D.ghost=D.clone=D.active=null;var e=this.el;Ht.forEach(function(t){e.contains(t)&&(t.checked=!0)}),Ht.length=Pi=Ni=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":v&&(this._onDragOver(e),qn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,n=a.length,r=this.options;o<n;o++)t=a[o],Pe(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Xn(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(n,r){var d=o.children[r];Pe(d,this.options.draggable,o,!1)&&(a[n]=d)},this),t&&this.captureAnimationState(),e.forEach(function(n){a[n]&&(o.removeChild(a[n]),o.appendChild(a[n]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Pe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=Et.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&mo(a)},destroy:function(){be("destroy",this);var e=this.el;e[_e]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bt.splice(Bt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ge){if(be("hideClone",this),D.eventCanceled)return;E(z,"display","none"),this.options.removeCloneOnHide&&z.parentNode&&z.parentNode.removeChild(z),Ge=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ge){if(be("showClone",this),D.eventCanceled)return;v.parentNode==B&&!this.options.group.revertClone?B.insertBefore(z,v):Ze?B.insertBefore(z,Ze):B.appendChild(z),this.options.group.revertClone&&this.animate(v,z),E(z,"display",""),Ge=!1}}};function qn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Nt(i,e,t,a,o,n,r,d){var c,p=i[_e],g=p.options.onMove,m;return window.CustomEvent&&!Be&&!wt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=i,c.dragged=t,c.draggedRect=a,c.related=o||e,c.relatedRect=n||ae(e),c.willInsertAfter=d,c.originalEvent=r,i.dispatchEvent(c),g&&(m=g.call(p,c,r)),m}function Mi(i){i.draggable=!1}function Mn(){Xi=!1}function Rn(i,e,t){var a=ae(ct(t.el,0,t.options,!0)),o=co(t.el,t.options,S),n=10;return e?i.clientX<o.left-n||i.clientY<a.top&&i.clientX<a.right:i.clientY<o.top-n||i.clientY<a.bottom&&i.clientX<a.left}function Fn(i,e,t){var a=ae(Gi(t.el,t.options.draggable)),o=co(t.el,t.options,S),n=10;return e?i.clientX>o.right+n||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>o.bottom+n||i.clientX>a.right&&i.clientY>a.top}function Ln(i,e,t,a,o,n,r,d){var c=a?i.clientY:i.clientX,p=a?t.height:t.width,g=a?t.top:t.left,m=a?t.bottom:t.right,y=!1;if(!r){if(d&&Ft<p*o){if(!xt&&(yt===1?c>g+p*n/2:c<m-p*n/2)&&(xt=!0),xt)y=!0;else if(yt===1?c<g+Ft:c>m-Ft)return-yt}else if(c>g+p*(1-o)/2&&c<m-p*(1-o)/2)return jn(e)}return y=y||r,y&&(c<g+p*n/2||c>m-p*n/2)?c>g+p/2?1:-1:0}function jn(i){return ke(v)<ke(i)?1:-1}function Xn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function Yn(i){Ht.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Ht.push(a)}}function Lt(i){return setTimeout(i,0)}function Yi(i){return clearTimeout(i)}zt&&P(document,"touchmove",function(i){(D.active||st)&&i.cancelable&&i.preventDefault()});D.utils={on:P,off:I,css:E,find:ro,is:function(e,t){return!!Pe(e,t,e,!1)},extend:En,throttle:lo,closest:Pe,toggleClass:we,clone:uo,index:ke,nextTick:Lt,cancelNextTick:Yi,detectDirection:po,getChild:ct,expando:_e};D.get=function(i){return i[_e]};D.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(D.utils=Fe(Fe({},D.utils),a.utils)),Et.mount(a)})};D.create=function(i,e){return new D(i,e)};D.version=xn;var te=[],vt,Bi,Hi=!1,Ri,Fi,Wt,ht;function Bn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):a.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),Ja(),jt(),Dn()},nulling:function(){Wt=Bi=vt=Hi=ht=Ri=Fi=null,te.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,d=document.elementFromPoint(n,r);if(Wt=t,a||this.options.forceAutoScrollFallback||wt||Be||gt){Li(t,this.options,d,a);var c=ze(d,!0);Hi&&(!ht||n!==Ri||r!==Fi)&&(ht&&Ja(),ht=setInterval(function(){var p=ze(document.elementFromPoint(n,r),!0);p!==c&&(c=p,jt()),Li(t,o.options,p,a)},10),Ri=n,Fi=r)}else{if(!this.options.bubbleScroll||ze(d,!0)===Re()){jt();return}Li(t,this.options,ze(d,!1),!1)}}},Ye(i,{pluginName:"scroll",initializeByDefault:!0})}function jt(){te.forEach(function(i){clearInterval(i.pid)}),te=[]}function Ja(){clearInterval(ht)}var Li=lo(function(i,e,t,a){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,n=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,d=e.scrollSpeed,c=Re(),p=!1,g;Bi!==t&&(Bi=t,jt(),vt=e.scroll,g=e.scrollFn,vt===!0&&(vt=ze(t,!0)));var m=0,y=vt;do{var w=y,x=ae(w),T=x.top,H=x.bottom,$=x.left,N=x.right,Z=x.width,L=x.height,re=void 0,W=void 0,U=w.scrollWidth,me=w.scrollHeight,X=E(w),M=w.scrollLeft,oe=w.scrollTop;w===c?(re=Z<U&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),W=L<me&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(re=Z<U&&(X.overflowX==="auto"||X.overflowX==="scroll"),W=L<me&&(X.overflowY==="auto"||X.overflowY==="scroll"));var O=re&&(Math.abs(N-o)<=r&&M+Z<U)-(Math.abs($-o)<=r&&!!M),V=W&&(Math.abs(H-n)<=r&&oe+L<me)-(Math.abs(T-n)<=r&&!!oe);if(!te[m])for(var ye=0;ye<=m;ye++)te[ye]||(te[ye]={});(te[m].vx!=O||te[m].vy!=V||te[m].el!==w)&&(te[m].el=w,te[m].vx=O,te[m].vy=V,clearInterval(te[m].pid),(O!=0||V!=0)&&(p=!0,te[m].pid=setInterval((function(){a&&this.layer===0&&D.active._onTouchMove(Wt);var xe=te[this.layer].vy?te[this.layer].vy*d:0,ve=te[this.layer].vx?te[this.layer].vx*d:0;typeof g=="function"&&g.call(D.dragged.parentNode[_e],ve,xe,i,Wt,te[this.layer].el)!=="continue"||so(te[this.layer].el,ve,xe)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&y!==c&&(y=ze(y,!1)));Hi=p}},30),go=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,n=e.activeSortable,r=e.dispatchSortableEvent,d=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var p=a||n;d();var g=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(g.clientX,g.clientY);c(),p&&!p.el.contains(m)&&(r("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function zi(){}zi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=ct(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:go};Ye(zi,{pluginName:"revertOnSpill"});function $i(){}$i.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:go};Ye($i,{pluginName:"removeOnSpill"});D.mount(new Bn);D.mount($i,zi);var Hn=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="1000"/></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required="" min="0" max="1000"/></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"/></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"/></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required=""><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function Wn(i,e){Ut(e,!0);let t=io(e,"question",15);var a=Hn(),o=ge(a),n=u(o),r=f(u(n));Ae(r);var d=f(r,4);ie(d),s(n),s(o);var c=f(o,2),p=u(c),g=f(u(p),3);ie(g),s(p),s(c);var m=f(c,2),y=u(m),w=f(u(y),3);ie(w),s(y),s(m);var x=f(m,2),T=u(x),H=f(u(T),3);ie(H),s(T),s(x);var $=f(x,2),N=u($),Z=f(u(N),3);ie(Z),s(N),s($);var L=f($,2),re=u(L),W=f(u(re),3),U=u(W);U.value=U.__value=1;var me=f(U);me.value=me.__value=2,s(W),s(re),s(L);var X=f(L,2),M=u(X),oe=f(u(M),3);eo(oe),s(M),s(X),se(d,()=>t().label,O=>t(t().label=O,!0)),se(g,()=>t().maxLength,O=>t(t().maxLength=O,!0)),se(w,()=>t().minLength,O=>t(t().minLength=O,!0)),se(H,()=>t().placeholder,O=>t(t().placeholder=O,!0)),Mt(Z,()=>t().required,O=>t(t().required=O,!0)),Me(W,()=>t().style,O=>t(t().style=O,!0)),se(oe,()=>t().value,O=>t(t().value=O,!0)),k(i,a),Gt()}var Un=A("<li> </li>"),Gn=A('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="25"/></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required="" min="0" max="25"/></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"/></label></div></div>',1);function zn(i,e){Ut(e,!0);let t=io(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(M){a=Math.min(25,M)}},!0);var o=Gn(),n=ge(o),r=u(n),d=f(u(r));Ae(d);var c=f(d,4);ie(c),s(r),s(n);var p=f(n,2),g=u(p),m=f(u(g),3);ie(m),s(g),s(p);var y=f(p,2),w=u(y),x=f(u(w),3);ie(x),s(w),s(y);var T=f(y,2),H=u(T),$=u(H),N=f($);Ae(N);var Z=f(N,4);s(H);var L=f(H,2),re=u(L);Oe(re,21,()=>t().options,Ie,(M,oe)=>{var O=Un(),V=u(O,!0);s(O),F(()=>le(V,h(oe).label)),k(M,O)}),s(re),s(L),s(T);var W=f(T,2),U=u(W),me=u(U),X=f(u(me),3);ie(X),s(me),s(U),s(W),F(()=>le($,`Options (${t().options.length??""}/25) `)),se(c,()=>t().label,M=>t(t().label=M,!0)),se(m,()=>t().maxLength,M=>t(t().maxLength=M,!0)),se(x,()=>t().minLength,M=>t(t().minLength=M,!0)),et("click",Z,()=>ln.open(OptionsModal,{id:t().id})),se(X,()=>t().placeholder,M=>t(t().placeholder=M,!0)),k(i,o),Gt()}Wi(["click"]);var $n=A('<i class="fa-solid fa-spinner animate-spin"></i>'),Vn=A('<i class="fa-solid fa-xmark"></i>'),Qn=A('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required=""><option class="p-1" default="" disabled="">Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled="" title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),Kn=A('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),Jn=A('<div class="list-group flex flex-col gap-2"></div>');function Zn(i,e){Ut(e,!0);const t=()=>on(nn,"$page",a),[a,o]=an();let n=je(lt({})),r=je(null),d=je(void 0);Za(()=>{D.create(h(d),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>J.questions.sort((m,y)=>m.order-y.order),set:g=>{g.toArray().forEach((y,w)=>J.questions.find(x=>x.id===y).order=w)}}})});const c=async g=>{if(g._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;h(n)[g.id]=!0;const w=`/api/admin/guilds/${t().params.guild}/categories/${t().params.category}/questions/${g.id}`,x=await fetch(w,{credentials:"include",method:"DELETE"});if(h(n)[g.id]=!1,!x.ok){const T=await x.json();console.log(T);return}}const m=J.questions.findIndex(y=>g.id===y.id);J.questions.splice(m,1),De(n,!1)};var p=Jn();Oe(p,21,()=>J.questions,Ie,(g,m,y)=>{var w=Kn(),x=u(w),T=u(x),H=f(u(T),2),$=u(H),N=f($),Z=u(N);{var L=O=>{var V=$n();k(O,V)},re=O=>{var V=Vn();k(O,V)};K(Z,O=>{h(n)[h(m).id]?O(L):O(re,!1)})}s(N);var W=f(N,2),U=u(W),me=u(U);s(U);var X=f(U,2);s(W),s(H),s(T);var M=f(T,2);{var oe=O=>{var V=Qn(),ye=u(V),xe=u(ye),ve=u(xe),Ne=f(u(ve));Ae(Ne);var Te=f(Ne,4),qe=u(Te);qe.value=(qe.__value=null)??"";var tt=f(qe);tt.value=tt.__value="TEXT";var $e=f(tt);$e.value=$e.__value="MENU",s(Te),s(ve),s(xe);var Ve=f(xe,2);{var Dt=Se=>{Wn(Se,{get question(){return J.questions[y]},set question(it){J.questions[y]=it}})},Tt=Se=>{zn(Se,{get question(){return J.questions[y]},set question(it){J.questions[y]=it}})};K(Ve,Se=>{h(m).type==="TEXT"?Se(Dt):h(m).type==="MENU"&&Se(Tt,1)})}s(ye),s(V),et("change",Te,()=>{h(m).type==="TEXT"?h(m).maxLength=1e3:h(m).type==="MENU"&&(h(m).maxLength=1)}),Me(Te,()=>h(m).type,Se=>h(m).type=Se),k(O,V)};K(M,O=>{h(r)===h(m).id&&O(oe)})}s(x),s(w),F(()=>{to(w,"data-id",h(m).id),le($,`${h(m).label??""} `),N.disabled=h(n)[h(m).id],le(me,`Click to ${h(r)===h(m).id?"collapse":"expand"}`),qt(X,1,`fa-solid ${h(r)===h(m).id?"fa-angle-up":"fa-angle-down"} self-end text-xl`)}),et("click",N,()=>c(h(m))),et("click",W,()=>De(r,h(r)===h(m).id?null:h(m).id,!0)),k(g,w)}),s(p),tn(p,g=>De(d,g),()=>h(d)),k(i,p),Gt(),o()}Wi(["click","change"]);var er=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),tr=A("<option>Create a new category</option> <hr/>",1),ir=A('<option class="p-1"> </option>'),ar=A("<!><!>",1),or=A('<option class="p-1"> </option>'),nr=A('<option class="p-1"> </option>'),rr=A('<option class="p-1">None</option><hr/><!>',1),lr=A("<!> <discord-mention> </discord-mention>",3),sr=A("<!> , <br/>",1),dr=A("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),ur=A("<discord-embed-footer> </discord-embed-footer>",2),cr=A("<discord-button> Edit</discord-button>",2),fr=A("<discord-button> Claim</discord-button>",2),pr=A("<discord-button> Close</discord-button>",2),mr=A('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),vr=A('<option class="m-1 rounded p-1"> </option>'),hr=A('<option class="p-1"> </option>'),gr=A('<option class="m-1 rounded p-1"> </option>'),br=A('<option class="m-1 rounded p-1"> </option>'),_r=A('<option class="p-1"> </option>'),yr=A('<option class="p-1">None</option><hr/><!>',1),xr=A(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><!></select></label></div>`),wr=A('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),Er=A('<i class="fa-solid fa-spinner animate-spin"></i>'),Dr=A('<i class="fa-solid fa-trash"></i>'),Tr=A('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),Sr=A('<i class="fa-solid fa-spinner animate-spin"></i>'),kr=A('<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"/></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"/></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"/></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Discord category <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which category channel should ticket channels be created under?"></i> <select class="input form-multiselect" required=""><!></select></label></div> <div><label class="font-medium">Channel Mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How should ticket channels be created?"></i> <select class="input form-multiselect"></select></label></div> <div><label class="font-medium">Backup Category <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Alternative category to use when primary is full"></i> <select class="input form-multiselect"><!></select></label></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required=""/></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"/></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"/></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"/></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required="" rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"/></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple="" required="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"/></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>',1);function al(i,e){Ut(e,!0);let t=je(!1);sn(l=>{h(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&l.cancel()}),Za(async()=>{const{applyPolyfills:l,defineCustomElements:b}=await Go(async()=>{const{applyPolyfills:_,defineCustomElements:C}=await import("../chunks/D2-oBDD7.js").then(q=>q.i);return{applyPolyfills:_,defineCustomElements:C}},__vite__mapDeps([0,1]),import.meta.url);l().then(()=>{b()}),window.addEventListener("beforeunload",_=>{h(t)&&(_.preventDefault(),_.returnValue="")})});let a=e.data,o=lt(a.category),n=je(lt(a.channels)),r=je(lt(a.roles)),d=lt(a.categories),c=lt(a.url);const p=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"],g=[{value:"CHANNEL",label:"Channel (Default)"},{value:"THREAD",label:"Thread (in category channel)"},{value:"FORUM",label:"Forum Channel"}];J.questions=o.questions,De(n,h(n).filter(l=>l.type===4),!0),De(r,h(r).filter(l=>l.name!=="@everyone").sort((l,b)=>b.rawPosition-l.rawPosition),!0),h(r).forEach(l=>{l._hexColor=l.color>0?`#${l.color.toString(16).padStart(6,"0")}`:null,l._style=l._hexColor?`color: ${l._hexColor}`:""}),o.cooldown=o.cooldown?Ci(o.cooldown):"";let m=je(null),y=je(!1),w=je(!1);const x=async()=>{try{De(y,!0);const l={...o};if(o.discordCategory==="new"&&(l.discordCategory=null),l.cooldown=o.cooldown?Ci(o.cooldown):null,l.name.length>30)throw new Error(`The name is too long (${l.name.length}>30).`);if(l.description.length>100)throw new Error(`The description is too long (${l.description.length}>100).`);l.questions=J.questions.map(C=>{if(C.type==="TEXT"){if(C.value.length>0&&C.value.length<C.minLength)throw`The value of the "${C.label}" question is shorter than the minimum length.`;if(C.value.length>C.maxLength)throw`The value of the "${C.label}" question is longer than the maximum length.`}return delete C._real,C}),l.questions.find(C=>C.id===l.customTopic)===void 0&&(l.customTopic=null);const b=await fetch(c,{method:o.id?"PATCH":"POST",body:JSON.stringify(l),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),_=await b.json();if(b.ok)De(t,!1),window.location="./";else throw _}catch(l){De(y,!1),De(m,l,!0),window.scroll({top:0,behavior:"smooth"})}},T=async()=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;De(w,!0);const b=await fetch(c,{method:"DELETE",credentials:"include"}),_=await b.json();if(b.ok)window.location="./";else throw _}catch(l){De(w,!1),De(m,l,!0),window.scroll({top:0,behavior:"smooth"})}},H=l=>h(r).find(b=>b.id===l);Xa(()=>{o.customTopic=J.questions.find(l=>l.id===o.customTopic)?o.customTopic:null}),Xa(()=>{o.requireTopic=J.questions.length>0?!1:o.requireTopic});var $=kr(),N=f(ge($),4),Z=u(N);s(N);var L=f(N,2),re=u(L);{var W=l=>{rn(l,{get error(){return h(m)}})};K(re,l=>{h(m)&&l(W)})}var U=f(re,2),me=Fa(()=>en(()=>x())),X=u(U),M=u(X),oe=u(M),O=u(oe),V=f(u(O));Ae(V);var ye=f(V,4);ie(ye),s(O),s(oe);var xe=f(oe,2),ve=u(xe),Ne=f(u(ve));{var Te=l=>{Ae(l)};K(Ne,l=>{o.id&&l(Te)})}var qe=f(Ne,4);ie(qe),to(qe,"placeholder","ticket-{num}"),s(ve);var tt=f(ve,2);{var $e=l=>{var b=er(),_=f(ge(b),2),C=f(u(_),2),q=u(C);ja(q,()=>Ya.parse(o.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,La("user").username).replace(/{+\s?(user)?name\s?}+/gi,La("user").username)),s(C),s(_),k(l,b)};K(tt,l=>{o.channelName&&l($e)})}s(xe);var Ve=f(xe,2),Dt=u(Ve),Tt=f(u(Dt),3);ie(Tt),s(Dt),s(Ve);var Se=f(Ve,2),it=u(Se),Vi=f(u(it),3);ie(Vi),s(it),s(Se);var $t=f(Se,2),Qi=u($t),Ki=f(u(Qi));Ae(Ki);var Ji=f(Ki,4);ie(Ji),s(Qi),s($t);var Vt=f($t,2),Zi=u(Vt),ea=f(u(Zi));Ae(ea);var Qt=f(ea,4);Si(Qt,()=>{var l=u(Qt),b=ar(),_=ge(b);{var C=R=>{var ne=tr(),ce=ge(ne);ce.value=ce.__value="new",kt(2),k(R,ne)};K(_,R=>{(!o.discordCategory||o.discordCategory==="new")&&R(C)})}var q=f(_);Oe(q,17,()=>h(n),Ie,(R,ne)=>{var ce=ir(),He=u(ce,!0);s(ce);var fe={};F(()=>{le(He,h(ne).name),fe!==(fe=h(ne).id)&&(ce.value=(ce.__value=h(ne).id)??"")}),k(R,ce)}),k(l,b)}),s(Zi),s(Vt);var Kt=f(Vt,2),ta=u(Kt),Jt=f(u(ta),3);Oe(Jt,21,()=>g,Ie,(l,b)=>{var _=or(),C=u(_,!0);s(_);var q={};F(()=>{le(C,h(b).label),q!==(q=h(b).value)&&(_.value=(_.__value=h(b).value)??"")}),k(l,_)}),s(Jt),s(ta),s(Kt);var Zt=f(Kt,2),ia=u(Zt),ei=f(u(ia),3);Si(ei,()=>{var l=u(ei),b=rr(),_=ge(b);_.value=(_.__value=null)??"";var C=f(_,2);Oe(C,17,()=>d,Ie,(q,R)=>{var ne=Ct(),ce=ge(ne);{var He=fe=>{var ee=nr(),at=u(ee);s(ee);var Qe={};F(ot=>{le(at,`${ot??""} ${h(R).name??""}`),Qe!==(Qe=h(R).id)&&(ee.value=(ee.__value=h(R).id)??"")},[()=>Oi.get(h(R).emoji)??""]),k(fe,ee)};K(ce,fe=>{h(R).id!==o.id&&fe(He)})}k(q,ne)}),k(l,b)}),s(ia),s(Zt);var ti=f(Zt,2),aa=u(ti),oa=f(u(aa));Ae(oa);var ii=f(oa,4),bo=u(ii,!0);s(ii);var na=f(ii,2);ie(na),s(aa),s(ti);var ai=f(ti,2),ra=u(ai),la=f(u(ra),3);ie(la),s(ra),s(ai);var oi=f(ai,2),sa=u(oi),da=f(u(sa),3);ie(da),s(sa),s(oi);var ni=f(oi,2),ua=u(ni),ca=f(u(ua),3);ie(ca),s(ua),s(ni);var ri=f(ni,2),li=u(ri),fa=f(u(li));Ae(fa);var pa=f(fa,4);eo(pa),s(li);var _o=f(li,2);Ba(_o,()=>o.pingRoles,l=>{var b=Ct(),_=ge(b);Ba(_,()=>o.requireTopic,C=>{var q=Ct(),R=ge(q);{var ne=ce=>{var He=mr(),fe=f(ge(He),2);Y(fe,"no-background",!0),F(()=>Y(fe,"light-theme",e.data.theme!=="dark")),qt(fe,1,"bloc w-full border-0");var ee=u(fe);F(()=>Y(ee,"author",e.data.client.username)),F(()=>Y(ee,"avatar",e.data.client.avatar)),Y(ee,"bot",!0),F(()=>Y(ee,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),qt(ee,1,"py-2"),Y(ee,"highlight",!0);var at=u(ee);{var Qe=G=>{var j=sr(),pt=ge(j);Oe(pt,17,()=>o.pingRoles,Ie,(Lo,jo,Xo)=>{const Di=Fa(()=>H(h(jo)));var Na=Ct(),Yo=ge(Na);{var Bo=Ti=>{var qa=lr(),Ma=ge(qa);{var Ho=Le=>{var Ra=Jo();Ra.nodeValue=" ",k(Le,Ra)};K(Ma,Le=>{Xo>0&&Le(Ho)})}var St=f(Ma,2);F(()=>{var Le;return Y(St,"color",(Le=h(Di))==null?void 0:Le._hexColor)}),Y(St,"type","role");var Wo=u(St,!0);s(St),F(()=>{var Le;return le(Wo,(Le=h(Di))==null?void 0:Le.name)}),k(Ti,qa)};K(Yo,Ti=>{h(Di)&&Ti(Bo)})}k(Lo,Na)}),kt(2),k(G,j)};K(at,G=>{var j;((j=o.pingRoles)==null?void 0:j.length)>0&&G(Qe)})}var ot=f(at,2);Y(ot,"highlight",!0);var Oo=u(ot,!0);s(ot);var We=f(ot,2);Y(We,"slot","embeds"),F(()=>Y(We,"color",e.data.settings.primaryColour)),F(()=>Y(We,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`)),F(()=>Y(We,"author-name",e.data.user.username)),F(()=>Y(We,"image",o.image));var ft=u(We);Y(ft,"slot","description"),qt(ft,1,"break-words prose prose-slate prose-sm dark:prose-invert prose-a:text-blurple");var Io=u(ft);ja(Io,()=>Ya.parse(o.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),s(ft);var Oa=f(ft,2);{var Ao=G=>{var j=dr();Y(j,"slot","fields");var pt=u(j);Y(pt,"field-title","Topic"),s(j),k(G,j)};K(Oa,G=>{o.requireTopic&&G(Ao)})}var Po=f(Oa,2);{var No=G=>{var j=ur();Y(j,"slot","footer"),F(()=>Y(j,"footer-image",e.data.client.avatar));var pt=u(j,!0);s(j),F(()=>le(pt,e.data.settings.footer)),k(G,j)};K(Po,G=>{e.data.settings.footer&&G(No)})}s(We);var Ei=f(We,2);Y(Ei,"slot","components");var Ia=u(Ei),Aa=u(Ia);{var qo=G=>{var j=cr();Y(j,"type","secondary"),k(G,j)};K(Aa,G=>{(o.requireTopic||J.questions.length>0)&&G(qo)})}var Pa=f(Aa,2);{var Mo=G=>{var j=fr();Y(j,"type","secondary"),k(G,j)};K(Pa,G=>{o.claiming&&e.data.settings.claimButton&&G(Mo)})}var Ro=f(Pa,2);{var Fo=G=>{var j=pr();Y(j,"type","destructive"),k(G,j)};K(Ro,G=>{e.data.settings.closeButton&&G(Fo)})}s(Ia),s(Ei),s(ee),s(fe),F(()=>le(Oo,e.data.user.username)),k(ce,He)};K(R,ce=>{o.openingMessage&&ce(ne)})}k(C,q)}),k(l,b)}),s(ri);var si=f(ri,2),ma=u(si),di=f(u(ma),3);Oe(di,21,()=>h(r),Ie,(l,b)=>{var _=vr(),C=u(_);s(_);var q={};F(()=>{ki(_,h(b)._style),le(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),q!==(q=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),k(l,_)}),s(di),s(ma),s(si);var ui=f(si,2),va=u(ui),ci=f(u(va),3),fi=u(ci);fi.value=(fi.__value=null)??"";var yo=f(fi);Oe(yo,17,()=>p,Ie,(l,b)=>{var _=hr(),C=u(_,!0);s(_);var q={};F(R=>{le(C,h(b)),q!==(q=R)&&(_.value=(_.__value=R)??"")},[()=>Ci(h(b))/1e3]),k(l,_)}),s(ci),s(va),s(ui);var pi=f(ui,2),ha=u(pi),mi=f(u(ha),3);Oe(mi,21,()=>h(r),Ie,(l,b)=>{var _=gr(),C=u(_);s(_);var q={};F(()=>{ki(_,h(b)._style),le(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),q!==(q=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),k(l,_)}),s(mi),s(ha),s(pi);var vi=f(pi,2),ga=u(vi),hi=f(u(ga),3);ie(hi),s(ga),s(vi);var gi=f(vi,2),ba=u(gi),_a=f(u(ba));Ae(_a);var bi=f(_a,4);Oe(bi,21,()=>h(r),Ie,(l,b)=>{var _=br(),C=u(_);s(_);var q={};F(()=>{ki(_,h(b)._style),le(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),q!==(q=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),k(l,_)}),s(bi),s(ba),s(gi);var ya=f(gi,2),xa=u(ya),wa=f(u(xa),3);ie(wa),s(xa),s(ya),s(M);var Ea=f(M,2),_i=u(Ea),Da=u(_i),yi=u(Da),Ta=f(u(yi),2),xo=u(Ta);s(Ta),s(yi);var Sa=f(yi,2);{var wo=l=>{var b=xr(),_=u(b),C=f(u(_),3);Si(C,()=>{var q=u(C),R=yr(),ne=ge(R);ne.value=(ne.__value=null)??"";var ce=f(ne,2);Oe(ce,17,()=>J.questions,Ie,(He,fe)=>{var ee=_r(),at=u(ee,!0);s(ee);var Qe={};F(()=>{le(at,h(fe).label),Qe!==(Qe=h(fe).id)&&(ee.value=(ee.__value=h(fe).id)??"")}),k(He,ee)}),k(q,R)}),s(_),s(b),Me(C,()=>o.customTopic,q=>o.customTopic=q),k(l,b)};K(Sa,l=>{J.questions.length>0&&l(wo)})}var xi=f(Sa,2),Eo=u(xi);Zn(Eo,{}),s(xi);var Do=f(xi,2);{var To=l=>{var b=wr(),_=u(b);s(b),et("click",_,()=>{J.questions.push({id:vn(),label:`Question ${J.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:J.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})}),k(l,b)};K(Do,l=>{J.questions.length<5&&l(To)})}s(Da),s(_i);var ka=f(_i,2),Ca=u(ka);{var So=l=>{var b=Tr(),_=u(b);{var C=R=>{var ne=Er();k(R,ne)},q=R=>{var ne=Dr();k(R,ne)};K(_,R=>{h(w)?R(C):R(q,!1)})}kt(),s(b),F(()=>b.disabled=h(w)),et("click",b,T),k(l,b)};K(Ca,l=>{o.id&&l(So)})}var wi=f(Ca,2),ko=u(wi);{var Co=l=>{var b=Sr();k(l,b)};K(ko,l=>{h(y)&&l(Co)})}kt(),s(wi),s(ka),s(Ea),s(X),s(U),s(L),F((l,b)=>{le(Z,`${l??""}
	${(o.name||"New category")??""}`),qe.required=!!o.id,le(bo,b),hi.disabled=J.questions.length>0,le(xo,`${J.questions.length??""}/5`),wi.disabled=h(y)},[()=>Oi.get(o.emoji)??"",()=>Oi.get(o.emoji)??""]),Ko("submit",U,function(...l){var b;(b=h(me))==null||b.apply(this,l)}),et("change",U,()=>De(t,!0)),se(ye,()=>o.name,l=>o.name=l),se(qe,()=>o.channelName,l=>o.channelName=l),Mt(Tt,()=>o.claiming,l=>o.claiming=l),se(Vi,()=>o.cooldown,l=>o.cooldown=l),se(Ji,()=>o.description,l=>o.description=l),Me(Qt,()=>o.discordCategory,l=>o.discordCategory=l),Me(Jt,()=>o.channelMode,l=>o.channelMode=l),Me(ei,()=>o.backupCategoryId,l=>o.backupCategoryId=l),se(na,()=>o.emoji,l=>o.emoji=l),Mt(la,()=>o.enableFeedback,l=>o.enableFeedback=l),se(da,()=>o.image,l=>o.image=l),se(ca,()=>o.memberLimit,l=>o.memberLimit=l),se(pa,()=>o.openingMessage,l=>o.openingMessage=l),Me(di,()=>o.pingRoles,l=>o.pingRoles=l),Me(ci,()=>o.ratelimit,l=>o.ratelimit=l),Me(mi,()=>o.requiredRoles,l=>o.requiredRoles=l),Mt(hi,()=>o.requireTopic,l=>o.requireTopic=l),Me(bi,()=>o.staffRoles,l=>o.staffRoles=l),se(wa,()=>o.totalLimit,l=>o.totalLimit=l),k(i,$),Gt()}Wi(["change","click"]);export{al as component,il as universal};
