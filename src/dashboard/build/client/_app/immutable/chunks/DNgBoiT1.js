import{b4 as Y,aP as q,aC as B,K as m,an as Z,ao as M,ar as J,at as Q,b5 as x,b6 as ee,aq as ae,b7 as se,b8 as te,b9 as re,m as S,P as ie,ba as ue,bb as w,bc as fe,q as C,bd as K,al as $,be as le,F as ce,bf as oe,g as ne,bg as _e,bh as ve,aV as de,aU as be,bi as he,bj as ye,bk as ge,bl as Ae,bm as Se}from"./CWXCXDbJ.js";import{c as Te,s as Ne}from"./C9yEqpEA.js";import{s as ke}from"./CUQ3wp6X.js";function Ee(e,a){var s=void 0,t;Y(()=>{s!==(s=a())&&(t&&(q(t),t=null),s&&(t=B(()=>{m(()=>s(e))})))})}function P(e,a,s=!1){if(e.multiple){if(a==null)return;if(!Q(a))return x();for(var t of e.options)t.selected=a.includes(p(t));return}for(t of e.options){var i=p(t);if(ee(i,a)){t.selected=!0;return}}(!s||a!==void 0)&&(e.selectedIndex=-1)}function D(e){var a=new MutationObserver(()=>{P(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{a.disconnect()})}function Re(e,a,s=a){var t=new WeakSet,i=!0;Z(e,"change",l=>{var v=l?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(v),p);else{var b=e.querySelector(v)??e.querySelector("option:not([disabled])");d=b&&p(b)}s(d),M!==null&&t.add(M)}),m(()=>{var l=a();if(e===document.activeElement){var v=ae??M;if(t.has(v))return}if(P(e,l,i),i&&l===void 0){var d=e.querySelector(":checked");d!==null&&(l=p(d),s(l))}e.__value=l,i=!1}),D(e)}function p(e){return"__value"in e?e.__value:e.value}const E=Symbol("class"),I=Symbol("style"),F=Symbol("is custom element"),z=Symbol("is html"),Ie=w?"link":"LINK",pe=w?"input":"INPUT",Le=w?"option":"OPTION",we=w?"select":"SELECT",Oe=w?"progress":"PROGRESS";function Ce(e){if(S){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;L(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var i=e.checked;L(e,"checked",null),e.checked=i}}};e.__on_r=s,ie(s),ue()}}function Ue(e,a){var s=R(e);s.value===(s.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!==Oe)||(e.value=a??"")}function Pe(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,a,s,t){var i=R(e);S&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName===Ie)||i[a]!==(i[a]=s)&&(a==="loading"&&(e[se]=s),s==null?e.removeAttribute(a):typeof s!="string"&&U(e).includes(a)?e[a]=s:e.setAttribute(a,s))}function Ve(e,a,s){var t=le,i=ce;let l=S;S&&C(!1),K(null),$(null);try{a!=="style"&&(G.has(e.getAttribute("is")||e.nodeName)||!customElements||customElements.get(e.getAttribute("is")||e.nodeName.toLowerCase())?U(e).includes(a):s&&typeof s=="object")?e[a]=s:L(e,a,s==null?s:String(s))}finally{K(t),$(i),l&&C(!0)}}function Me(e,a,s,t,i=!1,l=!1){if(S&&i&&e.nodeName===pe){var v=e,d=v.type==="checkbox"?"defaultChecked":"defaultValue";d in s||Ce(v)}var b=R(e),h=b[F],g=!b[z];let T=S&&h;T&&C(!1);var f=a||{},N=e.nodeName===Le;for(var y in a)y in s||(s[y]=null);s.class?s.class=Te(s.class):s[E]&&(s.class=null),s[I]&&(s.style??(s.style=null));var O=U(e);for(const r in s){let u=s[r];if(N&&r==="value"&&u==null){e.value=e.__value="",f[r]=u;continue}if(r==="class"){var k=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ne(e,k,u,t,a==null?void 0:a[E],s[E]),f[r]=u,f[E]=s[E];continue}if(r==="style"){ke(e,u,a==null?void 0:a[I],s[I]),f[r]=u,f[I]=s[I];continue}var n=f[r];if(!(u===n&&!(u===void 0&&e.hasAttribute(r)))){f[r]=u;var V=r[0]+r[1];if(V!=="$$")if(V==="on"){const _={},A="$$"+r;let o=r.slice(2);var j=Se(o);if(ve(o)&&(o=o.slice(0,-7),_.capture=!0),!j&&n){if(u!=null)continue;e.removeEventListener(o,f[A],_),f[A]=null}if(j)de(o,e,u),be([o]);else if(u!=null){let W=function(X){f[r].call(this,X)};f[A]=he(o,e,W,_)}}else if(r==="style")L(e,r,u);else if(r==="autofocus")ye(e,!!u);else if(!h&&(r==="__value"||r==="value"&&u!=null))e.value=e.__value=u;else if(r==="selected"&&N)Pe(e,u);else{var c=r;g||(c=ge(c));var H=c==="defaultValue"||c==="defaultChecked";if(u==null&&!h&&!H)if(b[r]=null,c==="value"||c==="checked"){let _=e;const A=a===void 0;if(c==="value"){let o=_.defaultValue;_.removeAttribute(c),_.defaultValue=o,_.value=_.__value=A?o:null}else{let o=_.defaultChecked;_.removeAttribute(c),_.defaultChecked=o,_.checked=A?o:!1}}else e.removeAttribute(r);else H||O.includes(c)&&(h||typeof u!="string")?(e[c]=u,c in b&&(b[c]=Ae)):typeof u!="function"&&L(e,c,u)}}}return T&&C(!0),f}function je(e,a,s=[],t=[],i=[],l,v=!1,d=!1){oe(i,s,t,b=>{var h=void 0,g={},T=e.nodeName===we,f=!1;if(Y(()=>{var y=a(...b.map(ne)),O=Me(e,h,y,l,v,d);f&&T&&"value"in y&&P(e,y.value);for(let n of Object.getOwnPropertySymbols(g))y[n]||q(g[n]);for(let n of Object.getOwnPropertySymbols(y)){var k=y[n];n.description===_e&&(!h||k!==h[n])&&(g[n]&&q(g[n]),g[n]=B(()=>Ee(e,()=>k))),O[n]=k}h=O}),T){var N=e;m(()=>{P(N,h.value,!0),D(N)})}f=!0})}function R(e){return e.__attributes??(e.__attributes={[F]:e.nodeName.includes("-"),[z]:e.namespaceURI===te})}var G=new Map;function U(e){var a=e.getAttribute("is")||e.nodeName,s=G.get(a);if(s)return s;G.set(a,s=[]);for(var t,i=e,l=Element.prototype;l!==i;){t=fe(i);for(var v in t)t[v].set&&s.push(v);i=re(i)}return s}export{Ue as a,Re as b,Ve as c,je as d,Ce as r,L as s};
