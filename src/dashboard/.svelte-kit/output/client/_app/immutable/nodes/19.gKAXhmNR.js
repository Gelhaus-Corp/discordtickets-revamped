const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/D2-oBDD7.js","../chunks/Dp1pzeXC.js"])))=>i.map(i=>d[i]);
import{e as Jo}from"../chunks/Cxx9n8vM.js";import{_ as Zo}from"../chunks/Dp1pzeXC.js";import"../chunks/Bzak7iHL.js";import{o as ao}from"../chunks/nwo5WiIq.js";import{m as er,V as tr,bF as ir,l as ar,p as Wt,h as ge,c as u,i as c,r as s,bK as oo,a as T,b as Gt,f as I,aV as zi,t as M,g as h,aW as at,d as ze,U as lt,s as Se,aY as or,j as kt,e as Ct,u as Si,au as Ha,aT as ki}from"../chunks/_fu6EM7d.js";import{s as oe}from"../chunks/DbFbsu9R.js";import{i as B}from"../chunks/BkvMZOlF.js";import{B as rr}from"../chunks/Caq5s-y_.js";import{e as Ne,i as Pe}from"../chunks/CdfWQzPM.js";import{h as Ba}from"../chunks/BHIk14_I.js";import{r as te,b as Fe,s as Yi,a as Y}from"../chunks/BZKIRd09.js";import{s as qt}from"../chunks/B_DfNNzh.js";import{c as Ci}from"../chunks/CSeQqRbU.js";import{s as Oi}from"../chunks/CG3JaKlL.js";import{b as de,a as Mt}from"../chunks/DD97wVFk.js";import{p as nr}from"../chunks/r2wwZTEc.js";import{r as Ua}from"../chunks/BSe2IdtJ.js";import{m as Ii}from"../chunks/5EBxWskT.js";import{e as Ai}from"../chunks/DSwvs_u7.js";import{m as Wa}from"../chunks/B0NBGGFk.js";import{b as lr}from"../chunks/ByBQdF1a.js";import{s as sr,a as dr}from"../chunks/CzA9-LZ0.js";import{p as ur}from"../chunks/DDudHFlX.js";import{p as ro}from"../chunks/BALO3cCj.js";import{R as qe,E as cr}from"../chunks/DZ1Z5aX_.js";import{m as fr}from"../chunks/B-HGQZHm.js";import{q as K}from"../chunks/DJA2_7p-.js";import{b as pr}from"../chunks/Bhd2hp12.js";const mr=Symbol("NaN");function Ga(i,e,t){er&&tr();var a=new rr(i),o=!ir();ar(()=>{var r=e();r!==r&&(r=mr),o&&r!==null&&typeof r=="object"&&(r={}),a.ensure(r,t)})}async function vr({fetch:i,params:e}){var r;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50,channelMode:"CHANNEL",backupCategoryId:null};else{const n=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),d=(r=n.headers.get("Content-Type"))==null?void 0:r.includes("json");a=d?await n.json():await n.text(),n.ok||Jo(n.status,d?JSON.stringify(a):a)}let o=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(o+=`/${e.category}`),{url:o,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),categories:await(await i(`/api/admin/guilds/${e.guild}/categories`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const ul=Object.freeze(Object.defineProperty({__proto__:null,load:vr},Symbol.toStringTag,{value:"Module"}));let Ot;const hr=new Uint8Array(16);function gr(){if(!Ot&&(Ot=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ot))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ot(hr)}const ue=[];for(let i=0;i<256;++i)ue.push((i+256).toString(16).slice(1));function br(i,e=0){return ue[i[e+0]]+ue[i[e+1]]+ue[i[e+2]]+ue[i[e+3]]+"-"+ue[i[e+4]]+ue[i[e+5]]+"-"+ue[i[e+6]]+ue[i[e+7]]+"-"+ue[i[e+8]]+ue[i[e+9]]+"-"+ue[i[e+10]]+ue[i[e+11]]+ue[i[e+12]]+ue[i[e+13]]+ue[i[e+14]]+ue[i[e+15]]}const _r=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),za={randomUUID:_r};function yr(i,e,t){if(za.randomUUID&&!i)return za.randomUUID();i=i||{};const a=i.random||(i.rng||gr)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,br(a)}/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xr(i,e,t){return(e=Tr(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Be(){return Be=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},Be.apply(null,arguments)}function Va(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function je(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Va(Object(t),!0).forEach(function(a){xr(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Va(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function wr(i,e){if(i==null)return{};var t,a,o=Er(i,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(o[t]=i[t])}return o}function Er(i,e){if(i==null)return{};var t={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;t[a]=i[a]}return t}function Dr(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Tr(i){var e=Dr(i,"string");return typeof e=="symbol"?e:e+""}function Hi(i){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(i)}var Sr="1.15.7";function He(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Ue=He(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Et=He(/Edge/i),$a=He(/firefox/i),bt=He(/safari/i)&&!He(/chrome/i)&&!He(/android/i),Vi=He(/iP(ad|od|hone)/i),no=He(/chrome/i)&&He(/android/i),lo={capture:!1,passive:!1};function N(i,e,t){i.addEventListener(e,t,!Ue&&lo)}function A(i,e,t){i.removeEventListener(e,t,!Ue&&lo)}function Xt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function so(i){return i.host&&i!==document&&i.host.nodeType&&i.host!==i?i.host:i.parentNode}function Me(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Xt(i,e):Xt(i,e))||a&&i===t)return i;if(i===t)break}while(i=so(i))}return null}var Qa=/\s+/g;function Ee(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(Qa," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(Qa," ")}}function E(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function ut(i,e){var t="";if(typeof i=="string")t=i;else do{var a=E(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function uo(i,e,t){if(i){var a=i.getElementsByTagName(e),o=0,r=a.length;if(t)for(;o<r;o++)t(a[o],o);return a}return[]}function Le(){var i=document.scrollingElement;return i||document.documentElement}function ie(i,e,t,a,o){if(!(!i.getBoundingClientRect&&i!==window)){var r,n,d,f,p,g,m;if(i!==window&&i.parentNode&&i!==Le()?(r=i.getBoundingClientRect(),n=r.top,d=r.left,f=r.bottom,p=r.right,g=r.height,m=r.width):(n=0,d=0,f=window.innerHeight,p=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!Ue))do if(o&&o.getBoundingClientRect&&(E(o,"transform")!=="none"||t&&E(o,"position")!=="static")){var y=o.getBoundingClientRect();n-=y.top+parseInt(E(o,"border-top-width")),d-=y.left+parseInt(E(o,"border-left-width")),f=n+r.height,p=d+r.width;break}while(o=o.parentNode);if(a&&i!==window){var w=ut(o||i),x=w&&w.a,S=w&&w.d;w&&(n/=S,d/=x,m/=x,g/=S,f=n+g,p=d+m)}return{top:n,left:d,bottom:f,right:p,width:m,height:g}}}function Ka(i,e,t){for(var a=$e(i,!0),o=ie(i)[e];a;){var r=ie(a)[t],n=void 0;if(n=o>=r,!n)return a;if(a===Le())break;a=$e(a,!1)}return!1}function ct(i,e,t,a){for(var o=0,r=0,n=i.children;r<n.length;){if(n[r].style.display!=="none"&&n[r]!==D.ghost&&(a||n[r]!==D.dragged)&&Me(n[r],t.draggable,i,!1)){if(o===e)return n[r];o++}r++}return null}function $i(i,e){for(var t=i.lastElementChild;t&&(t===D.ghost||E(t,"display")==="none"||e&&!Xt(t,e));)t=t.previousElementSibling;return t||null}function ke(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==D.clone&&(!e||Xt(i,e))&&t++;return t}function Ja(i){var e=0,t=0,a=Le();if(i)do{var o=ut(i),r=o.a,n=o.d;e+=i.scrollLeft*r,t+=i.scrollTop*n}while(i!==a&&(i=i.parentNode));return[e,t]}function kr(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function $e(i,e){if(!i||!i.getBoundingClientRect)return Le();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=E(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Le();if(a||e)return t;a=!0}}while(t=t.parentNode);return Le()}function Cr(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Ni(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var _t;function co(i,e){return function(){if(!_t){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),_t=setTimeout(function(){_t=void 0},e)}}}function Or(){clearTimeout(_t),_t=void 0}function fo(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function po(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function mo(i,e,t){var a={};return Array.from(i.children).forEach(function(o){var r,n,d,f;if(!(!Me(o,e.draggable,i,!1)||o.animated||o===t)){var p=ie(o);a.left=Math.min((r=a.left)!==null&&r!==void 0?r:1/0,p.left),a.top=Math.min((n=a.top)!==null&&n!==void 0?n:1/0,p.top),a.right=Math.max((d=a.right)!==null&&d!==void 0?d:-1/0,p.right),a.bottom=Math.max((f=a.bottom)!==null&&f!==void 0?f:-1/0,p.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var ye="Sortable"+new Date().getTime();function Ir(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(E(o,"display")==="none"||o===D.ghost)){i.push({target:o,rect:ie(o)});var r=je({},i[i.length-1].rect);if(o.thisAnimationDuration){var n=ut(o,!0);n&&(r.top-=n.f,r.left-=n.e)}o.fromRect=r}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(kr(i,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var r=!1,n=0;i.forEach(function(d){var f=0,p=d.target,g=p.fromRect,m=ie(p),y=p.prevFromRect,w=p.prevToRect,x=d.rect,S=ut(p,!0);S&&(m.top-=S.f,m.left-=S.e),p.toRect=m,p.thisAnimationDuration&&Ni(y,m)&&!Ni(g,m)&&(x.top-m.top)/(x.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(f=Nr(x,y,w,o.options)),Ni(m,g)||(p.prevFromRect=g,p.prevToRect=m,f||(f=o.options.animation),o.animate(p,x,m,f)),f&&(r=!0,n=Math.max(n,f),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},f),p.thisAnimationDuration=f)}),clearTimeout(e),r?e=setTimeout(function(){typeof a=="function"&&a()},n):typeof a=="function"&&a(),i=[]},animate:function(a,o,r,n){if(n){E(a,"transition",""),E(a,"transform","");var d=ut(this.el),f=d&&d.a,p=d&&d.d,g=(o.left-r.left)/(f||1),m=(o.top-r.top)/(p||1);a.animatingX=!!g,a.animatingY=!!m,E(a,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=Ar(a),E(a,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),E(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){E(a,"transition",""),E(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},n)}}}}function Ar(i){return i.offsetWidth}function Nr(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var rt=[],Pi={initializeByDefault:!0},Dt={mount:function(e){for(var t in Pi)Pi.hasOwnProperty(t)&&!(t in e)&&(e[t]=Pi[t]);rt.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),rt.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var r=e+"Global";rt.forEach(function(n){t[n.pluginName]&&(t[n.pluginName][r]&&t[n.pluginName][r](je({sortable:t},a)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](je({sortable:t},a)))})},initializePlugins:function(e,t,a,o){rt.forEach(function(d){var f=d.pluginName;if(!(!e.options[f]&&!d.initializeByDefault)){var p=new d(e,t,e.options);p.sortable=e,p.options=e.options,e[f]=p,Be(a,p.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var n=this.modifyOption(e,r,e.options[r]);typeof n<"u"&&(e.options[r]=n)}},getEventProperties:function(e,t){var a={};return rt.forEach(function(o){typeof o.eventProperties=="function"&&Be(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return rt.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(o=r.optionListeners[t].call(e[r.pluginName],a))}),o}};function Pr(i){var e=i.sortable,t=i.rootEl,a=i.name,o=i.targetEl,r=i.cloneEl,n=i.toEl,d=i.fromEl,f=i.oldIndex,p=i.newIndex,g=i.oldDraggableIndex,m=i.newDraggableIndex,y=i.originalEvent,w=i.putSortable,x=i.extraEventProperties;if(e=e||t&&t[ye],!!e){var S,U=e.options,J="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Ue&&!Et?S=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(a,!0,!0)),S.to=n||t,S.from=d||t,S.item=o||t,S.clone=r,S.oldIndex=f,S.newIndex=p,S.oldDraggableIndex=g,S.newDraggableIndex=m,S.originalEvent=y,S.pullMode=w?w.lastPutMode:void 0;var q=je(je({},x),Dt.getEventProperties(a,e));for(var V in q)S[V]=q[V];t&&t.dispatchEvent(S),U[J]&&U[J].call(e,S)}}var qr=["evt"],_e=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,r=wr(a,qr);Dt.pluginEvent.bind(D)(e,t,je({dragEl:v,parentEl:Q,ghostEl:k,rootEl:H,nextEl:it,lastDownEl:Rt,cloneEl:z,cloneHidden:Ve,dragStarted:vt,putSortable:ce,activeSortable:D.active,originalEvent:o,oldIndex:dt,oldDraggableIndex:yt,newIndex:De,newDraggableIndex:Ge,hideGhostForTarget:bo,unhideGhostForTarget:_o,cloneNowHidden:function(){Ve=!0},cloneNowShown:function(){Ve=!1},dispatchSortableEvent:function(d){he({sortable:t,name:d,originalEvent:o})}},r))};function he(i){Pr(je({putSortable:ce,cloneEl:z,targetEl:v,rootEl:H,oldIndex:dt,oldDraggableIndex:yt,newIndex:De,newDraggableIndex:Ge},i))}var v,Q,k,H,it,Rt,z,Ve,dt,De,yt,Ge,It,ce,st=!1,Yt=!1,Ht=[],et,Ae,qi,Mi,Za,eo,vt,nt,xt,wt=!1,At=!1,Ft,pe,Ri=[],Bi=!1,Bt=[],zt=typeof document<"u",Nt=Vi,to=Et||Ue?"cssFloat":"float",Mr=zt&&!no&&!Vi&&"draggable"in document.createElement("div"),vo=(function(){if(zt){if(Ue)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),ho=function(e,t){var a=E(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=ct(e,0,t),n=ct(e,1,t),d=r&&E(r),f=n&&E(n),p=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+ie(r).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+ie(n).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&d.float&&d.float!=="none"){var m=d.float==="left"?"left":"right";return n&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return r&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||p>=o&&a[to]==="none"||n&&a[to]==="none"&&p+g>o)?"vertical":"horizontal"},Rr=function(e,t,a){var o=a?e.left:e.top,r=a?e.right:e.bottom,n=a?e.width:e.height,d=a?t.left:t.top,f=a?t.right:t.bottom,p=a?t.width:t.height;return o===d||r===f||o+n/2===d+p/2},Fr=function(e,t){var a;return Ht.some(function(o){var r=o[ye].options.emptyInsertThreshold;if(!(!r||$i(o))){var n=ie(o),d=e>=n.left-r&&e<=n.right+r,f=t>=n.top-r&&t<=n.bottom+r;if(d&&f)return a=o}}),a},go=function(e){function t(r,n){return function(d,f,p,g){var m=d.options.group.name&&f.options.group.name&&d.options.group.name===f.options.group.name;if(r==null&&(n||m))return!0;if(r==null||r===!1)return!1;if(n&&r==="clone")return r;if(typeof r=="function")return t(r(d,f,p,g),n)(d,f,p,g);var y=(n?d:f).options.group.name;return r===!0||typeof r=="string"&&r===y||r.join&&r.indexOf(y)>-1}}var a={},o=e.group;(!o||Hi(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},bo=function(){!vo&&k&&E(k,"display","none")},_o=function(){!vo&&k&&E(k,"display","")};zt&&!no&&document.addEventListener("click",function(i){if(Yt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Yt=!1,!1},!0);var tt=function(e){if(v){e=e.touches?e.touches[0]:e;var t=Fr(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[ye]._onDragOver(a)}}},Lr=function(e){v&&v.parentNode[ye]._isOutsideThisEl(e.target)};function D(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=Be({},e),i[ye]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ho(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,d){n.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&(!bt||Vi),emptyInsertThreshold:5};Dt.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);go(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Mr,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?N(i,"pointerdown",this._onTapStart):(N(i,"mousedown",this._onTapStart),N(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(N(i,"dragover",this),N(i,"dragenter",this)),Ht.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Be(this,Ir())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(nt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,v):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,r=o.preventOnFilter,n=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,f=(d||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,g=o.filter;if(Gr(a),!v&&!(/mousedown|pointerdown/.test(n)&&e.button!==0||o.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&bt&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Me(f,o.draggable,a,!1),!(f&&f.animated)&&Rt!==f)){if(dt=ke(f),yt=ke(f,o.draggable),typeof g=="function"){if(g.call(this,e,f,this)){he({sortable:t,rootEl:p,name:"filter",targetEl:f,toEl:a,fromEl:a}),_e("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=Me(p,m.trim(),a,!1),m)return he({sortable:t,rootEl:m,name:"filter",targetEl:f,fromEl:a,toEl:a}),_e("filter",t,{evt:e}),!0}),g)){r&&e.preventDefault();return}o.handle&&!Me(p,o.handle,a,!1)||this._prepareDragStart(e,d,f)}}},_prepareDragStart:function(e,t,a){var o=this,r=o.el,n=o.options,d=r.ownerDocument,f;if(a&&!v&&a.parentNode===r){var p=ie(a);if(H=r,v=a,Q=v.parentNode,it=v.nextSibling,Rt=a,It=n.group,D.dragged=v,et={target:v,clientX:(t||e).clientX,clientY:(t||e).clientY},Za=et.clientX-p.left,eo=et.clientY-p.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,v.style["will-change"]="all",f=function(){if(_e("delayEnded",o,{evt:e}),D.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!$a&&o.nativeDraggable&&(v.draggable=!0),o._triggerDragStart(e,t),he({sortable:o,name:"choose",originalEvent:e}),Ee(v,n.chosenClass,!0)},n.ignore.split(",").forEach(function(g){uo(v,g.trim(),Fi)}),N(d,"dragover",tt),N(d,"mousemove",tt),N(d,"touchmove",tt),n.supportPointer?(N(d,"pointerup",o._onDrop),!this.nativeDraggable&&N(d,"pointercancel",o._onDrop)):(N(d,"mouseup",o._onDrop),N(d,"touchend",o._onDrop),N(d,"touchcancel",o._onDrop)),$a&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),_e("delayStart",this,{evt:e}),n.delay&&(!n.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Et||Ue))){if(D.eventCanceled){this._onDrop();return}n.supportPointer?(N(d,"pointerup",o._disableDelayedDrag),N(d,"pointercancel",o._disableDelayedDrag)):(N(d,"mouseup",o._disableDelayedDrag),N(d,"touchend",o._disableDelayedDrag),N(d,"touchcancel",o._disableDelayedDrag)),N(d,"mousemove",o._delayedDragTouchMoveHandler),N(d,"touchmove",o._delayedDragTouchMoveHandler),n.supportPointer&&N(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(f,n.delay)}else f()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&Fi(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._disableDelayedDrag),A(e,"touchend",this._disableDelayedDrag),A(e,"touchcancel",this._disableDelayedDrag),A(e,"pointerup",this._disableDelayedDrag),A(e,"pointercancel",this._disableDelayedDrag),A(e,"mousemove",this._delayedDragTouchMoveHandler),A(e,"touchmove",this._delayedDragTouchMoveHandler),A(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?N(document,"pointermove",this._onTouchMove):t?N(document,"touchmove",this._onTouchMove):N(document,"mousemove",this._onTouchMove):(N(v,"dragend",this),N(H,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(st=!1,H&&v){_e("dragStarted",this,{evt:t}),this.nativeDraggable&&N(document,"dragover",Lr);var a=this.options;!e&&Ee(v,a.dragClass,!1),Ee(v,a.ghostClass,!0),D.active=this,e&&this._appendGhost(),he({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ae){this._lastX=Ae.clientX,this._lastY=Ae.clientY,bo();for(var e=document.elementFromPoint(Ae.clientX,Ae.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ae.clientX,Ae.clientY),e!==t);)t=e;if(v.parentNode[ye]._isOutsideThisEl(e),t)do{if(t[ye]){var a=void 0;if(a=t[ye]._onDragOver({clientX:Ae.clientX,clientY:Ae.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=so(t));_o()}},_onTouchMove:function(e){if(et){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,n=k&&ut(k,!0),d=k&&n&&n.a,f=k&&n&&n.d,p=Nt&&pe&&Ja(pe),g=(r.clientX-et.clientX+o.x)/(d||1)+(p?p[0]-Ri[0]:0)/(d||1),m=(r.clientY-et.clientY+o.y)/(f||1)+(p?p[1]-Ri[1]:0)/(f||1);if(!D.active&&!st){if(a&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(k){n?(n.e+=g-(qi||0),n.f+=m-(Mi||0)):n={a:1,b:0,c:0,d:1,e:g,f:m};var y="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");E(k,"webkitTransform",y),E(k,"mozTransform",y),E(k,"msTransform",y),E(k,"transform",y),qi=g,Mi=m,Ae=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!k){var e=this.options.fallbackOnBody?document.body:H,t=ie(v,!0,Nt,!0,e),a=this.options;if(Nt){for(pe=e;E(pe,"position")==="static"&&E(pe,"transform")==="none"&&pe!==document;)pe=pe.parentNode;pe!==document.body&&pe!==document.documentElement?(pe===document&&(pe=Le()),t.top+=pe.scrollTop,t.left+=pe.scrollLeft):pe=Le(),Ri=Ja(pe)}k=v.cloneNode(!0),Ee(k,a.ghostClass,!1),Ee(k,a.fallbackClass,!0),Ee(k,a.dragClass,!0),E(k,"transition",""),E(k,"transform",""),E(k,"box-sizing","border-box"),E(k,"margin",0),E(k,"top",t.top),E(k,"left",t.left),E(k,"width",t.width),E(k,"height",t.height),E(k,"opacity","0.8"),E(k,"position",Nt?"absolute":"fixed"),E(k,"zIndex","100000"),E(k,"pointerEvents","none"),D.ghost=k,e.appendChild(k),E(k,"transform-origin",Za/parseInt(k.style.width)*100+"% "+eo/parseInt(k.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,r=a.options;if(_e("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}_e("setupClone",this),D.eventCanceled||(z=po(v),z.removeAttribute("id"),z.draggable=!1,z.style["will-change"]="",this._hideClone(),Ee(z,this.options.chosenClass,!1),D.clone=z),a.cloneId=Lt(function(){_e("clone",a),!D.eventCanceled&&(a.options.removeCloneOnHide||H.insertBefore(z,v),a._hideClone(),he({sortable:a,name:"clone"}))}),!t&&Ee(v,r.dragClass,!0),t?(Yt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(A(document,"mouseup",a._onDrop),A(document,"touchend",a._onDrop),A(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(a,o,v)),N(document,"drop",a),E(v,"transform","translateZ(0)")),st=!0,a._dragStartId=Lt(a._dragStarted.bind(a,t,e)),N(document,"selectstart",a),vt=!0,window.getSelection().removeAllRanges(),bt&&E(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,r,n,d=this.options,f=d.group,p=D.active,g=It===f,m=d.sort,y=ce||p,w,x=this,S=!1;if(Bi)return;function U(we,Qe){_e(we,x,je({evt:e,isOwner:g,axis:w?"vertical":"horizontal",revert:n,dragRect:o,targetRect:r,canSort:m,fromSortable:y,target:a,completed:q,onMove:function(Ke,ft){return Pt(H,t,v,o,Ke,ie(Ke),e,ft)},changed:V},Qe))}function J(){U("dragOverAnimationCapture"),x.captureAnimationState(),x!==y&&y.captureAnimationState()}function q(we){return U("dragOverCompleted",{insertion:we}),we&&(g?p._hideClone():p._showClone(x),x!==y&&(Ee(v,ce?ce.options.ghostClass:p.options.ghostClass,!1),Ee(v,d.ghostClass,!0)),ce!==x&&x!==D.active?ce=x:x===D.active&&ce&&(ce=null),y===x&&(x._ignoreWhileAnimating=a),x.animateAll(function(){U("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===v&&!v.animated||a===t&&!a.animated)&&(nt=null),!d.dragoverBubble&&!e.rootEl&&a!==document&&(v.parentNode[ye]._isOutsideThisEl(e.target),!we&&tt(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function V(){De=ke(v),Ge=ke(v,d.draggable),he({sortable:x,name:"change",toEl:t,newIndex:De,newDraggableIndex:Ge,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Me(a,d.draggable,t,!0),U("dragOver"),D.eventCanceled)return S;if(v.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||x._ignoreWhileAnimating===a)return q(!1);if(Yt=!1,p&&!d.disabled&&(g?m||(n=Q!==H):ce===this||(this.lastPutMode=It.checkPull(this,p,v,e))&&f.checkPut(this,p,v,e))){if(w=this._getDirection(e,a)==="vertical",o=ie(v),U("dragOverValid"),D.eventCanceled)return S;if(n)return Q=H,J(),this._hideClone(),U("revert"),D.eventCanceled||(it?H.insertBefore(v,it):H.appendChild(v)),q(!0);var L=$i(t,d.draggable);if(!L||Hr(e,w,this)&&!L.animated){if(L===v)return q(!1);if(L&&t===e.target&&(a=L),a&&(r=ie(a)),Pt(H,t,v,o,a,r,e,!!a)!==!1)return J(),L&&L.nextSibling?t.insertBefore(v,L.nextSibling):t.appendChild(v),Q=t,V(),q(!0)}else if(L&&Yr(e,w,this)){var re=ct(t,0,d,!0);if(re===v)return q(!1);if(a=re,r=ie(a),Pt(H,t,v,o,a,r,e,!1)!==!1)return J(),t.insertBefore(v,re),Q=t,V(),q(!0)}else if(a.parentNode===t){r=ie(a);var j=0,Z,ne=v.parentNode!==t,W=!Rr(v.animated&&v.toRect||o,a.animated&&a.toRect||r,w),R=w?"top":"left",ae=Ka(a,"top","top")||Ka(v,"top","top"),O=ae?ae.scrollTop:void 0;nt!==a&&(Z=r[R],wt=!1,At=!W&&d.invertSwap||ne),j=Br(e,a,r,w,W?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,At,nt===a);var $;if(j!==0){var xe=ke(v);do xe-=j,$=Q.children[xe];while($&&(E($,"display")==="none"||$===k))}if(j===0||$===a)return q(!1);nt=a,xt=j;var Te=a.nextElementSibling,me=!1;me=j===1;var Ce=Pt(H,t,v,o,a,r,e,me);if(Ce!==!1)return(Ce===1||Ce===-1)&&(me=Ce===1),Bi=!0,setTimeout(Xr,30),J(),me&&!Te?t.appendChild(v):a.parentNode.insertBefore(v,me?Te:a),ae&&fo(ae,0,O-ae.scrollTop),Q=v.parentNode,Z!==void 0&&!At&&(Ft=Math.abs(Z-ie(a)[R])),V(),q(!0)}if(t.contains(v))return q(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",tt),A(document,"mousemove",tt),A(document,"touchmove",tt)},_offUpEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._onDrop),A(e,"touchend",this._onDrop),A(e,"pointerup",this._onDrop),A(e,"pointercancel",this._onDrop),A(e,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(De=ke(v),Ge=ke(v,a.draggable),_e("drop",this,{evt:e}),Q=v&&v.parentNode,De=ke(v),Ge=ke(v,a.draggable),D.eventCanceled){this._nulling();return}st=!1,At=!1,wt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ui(this.cloneId),Ui(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),bt&&E(document.body,"user-select",""),E(v,"transform",""),e&&(vt&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),k&&k.parentNode&&k.parentNode.removeChild(k),(H===Q||ce&&ce.lastPutMode!=="clone")&&z&&z.parentNode&&z.parentNode.removeChild(z),v&&(this.nativeDraggable&&A(v,"dragend",this),Fi(v),v.style["will-change"]="",vt&&!st&&Ee(v,ce?ce.options.ghostClass:this.options.ghostClass,!1),Ee(v,this.options.chosenClass,!1),he({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),H!==Q?(De>=0&&(he({rootEl:Q,name:"add",toEl:Q,fromEl:H,originalEvent:e}),he({sortable:this,name:"remove",toEl:Q,originalEvent:e}),he({rootEl:Q,name:"sort",toEl:Q,fromEl:H,originalEvent:e}),he({sortable:this,name:"sort",toEl:Q,originalEvent:e})),ce&&ce.save()):De!==dt&&De>=0&&(he({sortable:this,name:"update",toEl:Q,originalEvent:e}),he({sortable:this,name:"sort",toEl:Q,originalEvent:e})),D.active&&((De==null||De===-1)&&(De=dt,Ge=yt),he({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){_e("nulling",this),H=v=Q=k=it=z=Rt=Ve=et=Ae=vt=De=Ge=dt=yt=nt=xt=ce=It=D.dragged=D.ghost=D.clone=D.active=null;var e=this.el;Bt.forEach(function(t){e.contains(t)&&(t.checked=!0)}),Bt.length=qi=Mi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":v&&(this._onDragOver(e),jr(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,r=a.length,n=this.options;o<r;o++)t=a[o],Me(t,n.draggable,this.el,!1)&&e.push(t.getAttribute(n.dataIdAttr)||Wr(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(r,n){var d=o.children[n];Me(d,this.options.draggable,o,!1)&&(a[r]=d)},this),t&&this.captureAnimationState(),e.forEach(function(r){a[r]&&(o.removeChild(a[r]),o.appendChild(a[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Me(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=Dt.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&go(a)},destroy:function(){_e("destroy",this);var e=this.el;e[ye]=null,A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart),A(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ht.splice(Ht.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ve){if(_e("hideClone",this),D.eventCanceled)return;E(z,"display","none"),this.options.removeCloneOnHide&&z.parentNode&&z.parentNode.removeChild(z),Ve=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ve){if(_e("showClone",this),D.eventCanceled)return;v.parentNode==H&&!this.options.group.revertClone?H.insertBefore(z,v):it?H.insertBefore(z,it):H.appendChild(z),this.options.group.revertClone&&this.animate(v,z),E(z,"display",""),Ve=!1}}};function jr(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Pt(i,e,t,a,o,r,n,d){var f,p=i[ye],g=p.options.onMove,m;return window.CustomEvent&&!Ue&&!Et?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=e,f.from=i,f.dragged=t,f.draggedRect=a,f.related=o||e,f.relatedRect=r||ie(e),f.willInsertAfter=d,f.originalEvent=n,i.dispatchEvent(f),g&&(m=g.call(p,f,n)),m}function Fi(i){i.draggable=!1}function Xr(){Bi=!1}function Yr(i,e,t){var a=ie(ct(t.el,0,t.options,!0)),o=mo(t.el,t.options,k),r=10;return e?i.clientX<o.left-r||i.clientY<a.top&&i.clientX<a.right:i.clientY<o.top-r||i.clientY<a.bottom&&i.clientX<a.left}function Hr(i,e,t){var a=ie($i(t.el,t.options.draggable)),o=mo(t.el,t.options,k),r=10;return e?i.clientX>o.right+r||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>o.bottom+r||i.clientX>a.right&&i.clientY>a.top}function Br(i,e,t,a,o,r,n,d){var f=a?i.clientY:i.clientX,p=a?t.height:t.width,g=a?t.top:t.left,m=a?t.bottom:t.right,y=!1;if(!n){if(d&&Ft<p*o){if(!wt&&(xt===1?f>g+p*r/2:f<m-p*r/2)&&(wt=!0),wt)y=!0;else if(xt===1?f<g+Ft:f>m-Ft)return-xt}else if(f>g+p*(1-o)/2&&f<m-p*(1-o)/2)return Ur(e)}return y=y||n,y&&(f<g+p*r/2||f>m-p*r/2)?f>g+p/2?1:-1:0}function Ur(i){return ke(v)<ke(i)?1:-1}function Wr(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function Gr(i){Bt.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&Bt.push(a)}}function Lt(i){return setTimeout(i,0)}function Ui(i){return clearTimeout(i)}zt&&N(document,"touchmove",function(i){(D.active||st)&&i.cancelable&&i.preventDefault()});D.utils={on:N,off:A,css:E,find:uo,is:function(e,t){return!!Me(e,t,e,!1)},extend:Cr,throttle:co,closest:Me,toggleClass:Ee,clone:po,index:ke,nextTick:Lt,cancelNextTick:Ui,detectDirection:ho,getChild:ct,expando:ye};D.get=function(i){return i[ye]};D.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(D.utils=je(je({},D.utils),a.utils)),Dt.mount(a)})};D.create=function(i,e){return new D(i,e)};D.version=Sr;var ee=[],ht,Wi,Gi=!1,Li,ji,Ut,gt;function zr(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):this.options.supportPointer?N(document,"pointermove",this._handleFallbackAutoScroll):a.touches?N(document,"touchmove",this._handleFallbackAutoScroll):N(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),io(),jt(),Or()},nulling:function(){Ut=Wi=ht=Gi=gt=Li=ji=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,r=(t.touches?t.touches[0]:t).clientX,n=(t.touches?t.touches[0]:t).clientY,d=document.elementFromPoint(r,n);if(Ut=t,a||this.options.forceAutoScrollFallback||Et||Ue||bt){Xi(t,this.options,d,a);var f=$e(d,!0);Gi&&(!gt||r!==Li||n!==ji)&&(gt&&io(),gt=setInterval(function(){var p=$e(document.elementFromPoint(r,n),!0);p!==f&&(f=p,jt()),Xi(t,o.options,p,a)},10),Li=r,ji=n)}else{if(!this.options.bubbleScroll||$e(d,!0)===Le()){jt();return}Xi(t,this.options,$e(d,!1),!1)}}},Be(i,{pluginName:"scroll",initializeByDefault:!0})}function jt(){ee.forEach(function(i){clearInterval(i.pid)}),ee=[]}function io(){clearInterval(gt)}var Xi=co(function(i,e,t,a){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,n=e.scrollSensitivity,d=e.scrollSpeed,f=Le(),p=!1,g;Wi!==t&&(Wi=t,jt(),ht=e.scroll,g=e.scrollFn,ht===!0&&(ht=$e(t,!0)));var m=0,y=ht;do{var w=y,x=ie(w),S=x.top,U=x.bottom,J=x.left,q=x.right,V=x.width,L=x.height,re=void 0,j=void 0,Z=w.scrollWidth,ne=w.scrollHeight,W=E(w),R=w.scrollLeft,ae=w.scrollTop;w===f?(re=V<Z&&(W.overflowX==="auto"||W.overflowX==="scroll"||W.overflowX==="visible"),j=L<ne&&(W.overflowY==="auto"||W.overflowY==="scroll"||W.overflowY==="visible")):(re=V<Z&&(W.overflowX==="auto"||W.overflowX==="scroll"),j=L<ne&&(W.overflowY==="auto"||W.overflowY==="scroll"));var O=re&&(Math.abs(q-o)<=n&&R+V<Z)-(Math.abs(J-o)<=n&&!!R),$=j&&(Math.abs(U-r)<=n&&ae+L<ne)-(Math.abs(S-r)<=n&&!!ae);if(!ee[m])for(var xe=0;xe<=m;xe++)ee[xe]||(ee[xe]={});(ee[m].vx!=O||ee[m].vy!=$||ee[m].el!==w)&&(ee[m].el=w,ee[m].vx=O,ee[m].vy=$,clearInterval(ee[m].pid),(O!=0||$!=0)&&(p=!0,ee[m].pid=setInterval((function(){a&&this.layer===0&&D.active._onTouchMove(Ut);var Te=ee[this.layer].vy?ee[this.layer].vy*d:0,me=ee[this.layer].vx?ee[this.layer].vx*d:0;typeof g=="function"&&g.call(D.dragged.parentNode[ye],me,Te,i,Ut,ee[this.layer].el)!=="continue"||fo(ee[this.layer].el,me,Te)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&y!==f&&(y=$e(y,!1)));Gi=p}},30),yo=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,r=e.activeSortable,n=e.dispatchSortableEvent,d=e.hideGhostForTarget,f=e.unhideGhostForTarget;if(t){var p=a||r;d();var g=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(g.clientX,g.clientY);f(),p&&!p.el.contains(m)&&(n("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function Qi(){}Qi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=ct(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:yo};Be(Qi,{pluginName:"revertOnSpill"});function Ki(){}Ki.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:yo};Be(Ki,{pluginName:"removeOnSpill"});D.mount(new zr);D.mount(Ki,Qi);var Vr=I('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="1000"/></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required="" min="0" max="1000"/></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"/></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"/></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required=""><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function $r(i,e){Wt(e,!0);let t=ro(e,"question",15);var a=Vr(),o=ge(a),r=u(o),n=c(u(r));qe(n);var d=c(n,4);te(d),s(r),s(o);var f=c(o,2),p=u(f),g=c(u(p),3);te(g),s(p),s(f);var m=c(f,2),y=u(m),w=c(u(y),3);te(w),s(y),s(m);var x=c(m,2),S=u(x),U=c(u(S),3);te(U),s(S),s(x);var J=c(x,2),q=u(J),V=c(u(q),3);te(V),s(q),s(J);var L=c(J,2),re=u(L),j=c(u(re),3),Z=u(j);Z.value=Z.__value=1;var ne=c(Z);ne.value=ne.__value=2,s(j),s(re),s(L);var W=c(L,2),R=u(W),ae=c(u(R),3);oo(ae),s(R),s(W),de(d,()=>t().label,O=>t(t().label=O,!0)),de(g,()=>t().maxLength,O=>t(t().maxLength=O,!0)),de(w,()=>t().minLength,O=>t(t().minLength=O,!0)),de(U,()=>t().placeholder,O=>t(t().placeholder=O,!0)),Mt(V,()=>t().required,O=>t(t().required=O,!0)),Fe(j,()=>t().style,O=>t(t().style=O,!0)),de(ae,()=>t().value,O=>t(t().value=O,!0)),T(i,a),Gt()}var Qr=I("<li> </li>"),Kr=I('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required="" maxlength="45"/></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required="" min="1" max="25"/></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required="" min="0" max="25"/></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"/></label></div></div>',1);function Jr(i,e){Wt(e,!0);let t=ro(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(R){a=Math.min(25,R)}},!0);var o=Kr(),r=ge(o),n=u(r),d=c(u(n));qe(d);var f=c(d,4);te(f),s(n),s(r);var p=c(r,2),g=u(p),m=c(u(g),3);te(m),s(g),s(p);var y=c(p,2),w=u(y),x=c(u(w),3);te(x),s(w),s(y);var S=c(y,2),U=u(S),J=u(U),q=c(J);qe(q);var V=c(q,4);s(U);var L=c(U,2),re=u(L);Ne(re,21,()=>t().options,Pe,(R,ae)=>{var O=Qr(),$=u(O,!0);s(O),M(()=>oe($,h(ae).label)),T(R,O)}),s(re),s(L),s(S);var j=c(S,2),Z=u(j),ne=u(Z),W=c(u(ne),3);te(W),s(ne),s(Z),s(j),M(()=>oe(J,`Options (${t().options.length??""}/25) `)),de(f,()=>t().label,R=>t(t().label=R,!0)),de(m,()=>t().maxLength,R=>t(t().maxLength=R,!0)),de(x,()=>t().minLength,R=>t(t().minLength=R,!0)),at("click",V,()=>fr.open(OptionsModal,{id:t().id})),de(W,()=>t().placeholder,R=>t(t().placeholder=R,!0)),T(i,o),Gt()}zi(["click"]);var Zr=I('<i class="fa-solid fa-spinner animate-spin"></i>'),en=I('<i class="fa-solid fa-xmark"></i>'),tn=I('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required=""><option class="p-1" default="" disabled="">Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled="" title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),an=I('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),on=I('<div class="list-group flex flex-col gap-2"></div>');function rn(i,e){Wt(e,!0);const t=()=>dr(ur,"$page",a),[a,o]=sr();let r=ze(lt({})),n=ze(null),d=ze(void 0);ao(()=>{D.create(h(d),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>K.questions.sort((m,y)=>m.order-y.order),set:g=>{g.toArray().forEach((y,w)=>K.questions.find(x=>x.id===y).order=w)}}})});const f=async g=>{if(g._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;h(r)[g.id]=!0;const w=`/api/admin/guilds/${t().params.guild}/categories/${t().params.category}/questions/${g.id}`,x=await fetch(w,{credentials:"include",method:"DELETE"});if(h(r)[g.id]=!1,!x.ok){const S=await x.json();console.log(S);return}}const m=K.questions.findIndex(y=>g.id===y.id);K.questions.splice(m,1),Se(r,!1)};var p=on();Ne(p,21,()=>K.questions,Pe,(g,m,y)=>{var w=an(),x=u(w),S=u(x),U=c(u(S),2),J=u(U),q=c(J),V=u(q);{var L=O=>{var $=Zr();T(O,$)},re=O=>{var $=en();T(O,$)};B(V,O=>{h(r)[h(m).id]?O(L):O(re,!1)})}s(q);var j=c(q,2),Z=u(j),ne=u(Z);s(Z);var W=c(Z,2);s(j),s(U),s(S);var R=c(S,2);{var ae=O=>{var $=tn(),xe=u($),Te=u(xe),me=u(Te),Ce=c(u(me));qe(Ce);var we=c(Ce,4),Qe=u(we);Qe.value=(Qe.__value=null)??"";var Xe=c(Qe);Xe.value=Xe.__value="TEXT";var Ke=c(Xe);Ke.value=Ke.__value="MENU",s(we),s(me),s(Te);var ft=c(Te,2);{var pt=Oe=>{$r(Oe,{get question(){return K.questions[y]},set question(Je){K.questions[y]=Je}})},Tt=Oe=>{Jr(Oe,{get question(){return K.questions[y]},set question(Je){K.questions[y]=Je}})};B(ft,Oe=>{h(m).type==="TEXT"?Oe(pt):h(m).type==="MENU"&&Oe(Tt,1)})}s(xe),s($),at("change",we,()=>{h(m).type==="TEXT"?h(m).maxLength=1e3:h(m).type==="MENU"&&(h(m).maxLength=1)}),Fe(we,()=>h(m).type,Oe=>h(m).type=Oe),T(O,$)};B(R,O=>{h(n)===h(m).id&&O(ae)})}s(x),s(w),M(()=>{Yi(w,"data-id",h(m).id),oe(J,`${h(m).label??""} `),q.disabled=h(r)[h(m).id],oe(ne,`Click to ${h(n)===h(m).id?"collapse":"expand"}`),qt(W,1,`fa-solid ${h(n)===h(m).id?"fa-angle-up":"fa-angle-down"} self-end text-xl`)}),at("click",q,()=>f(h(m))),at("click",j,()=>Se(n,h(n)===h(m).id?null:h(m).id,!0)),T(g,w)}),s(p),lr(p,g=>Se(d,g),()=>h(d)),T(i,p),Gt(),o()}zi(["click","change"]);var nn=I('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),ln=I("<option> </option> <hr/>",1),sn=I('<option class="p-1"> </option>'),dn=I("<!><!>",1),un=I('<option class="p-1"> </option>'),cn=I('<option class="p-1"> </option>'),fn=I('<option class="p-1">None</option><hr/><!>',1),pn=I('<label class="font-medium">Backup Category <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Alternative category to use when primary is full"></i> <select class="input form-multiselect"><!></select></label>'),mn=I('<label class="font-medium opacity-50 cursor-not-allowed">Backup Category <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Not available for Thread or Forum modes"></i> <select class="input form-multiselect opacity-50 cursor-not-allowed" disabled=""><option>Not available for this mode</option></select></label>'),vn=I("<!> <discord-mention> </discord-mention>",3),hn=I("<!> , <br/>",1),gn=I("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),bn=I("<discord-embed-footer> </discord-embed-footer>",2),_n=I("<discord-button> Edit</discord-button>",2),yn=I("<discord-button> Claim</discord-button>",2),xn=I("<discord-button> Close</discord-button>",2),wn=I('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),En=I('<option class="m-1 rounded p-1"> </option>'),Dn=I('<option class="p-1"> </option>'),Tn=I('<option class="m-1 rounded p-1"> </option>'),Sn=I('<option class="m-1 rounded p-1"> </option>'),kn=I('<option class="p-1"> </option>'),Cn=I('<option class="p-1">None</option><hr/><!>',1),On=I(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><!></select></label></div>`),In=I('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),An=I('<i class="fa-solid fa-spinner animate-spin"></i>'),Nn=I('<i class="fa-solid fa-trash"></i>'),Pn=I('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),qn=I('<i class="fa-solid fa-spinner animate-spin"></i>'),Mn=I('<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"/></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"/></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"/></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required=""/></label></div> <div><label class="font-medium"><!> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400"></i> <select class="input form-multiselect" required=""><!></select></label></div> <div><label class="font-medium">Channel Mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How should ticket channels be created?"></i> <select class="input form-multiselect"></select></label></div> <div><!></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required=""/></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"/></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"/></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"/></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required="" rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"/></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple="" required="" class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"/></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>',1);function cl(i,e){Wt(e,!0);let t=ze(!1);pr(l=>{h(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&l.cancel()}),ao(async()=>{const{applyPolyfills:l,defineCustomElements:b}=await Zo(async()=>{const{applyPolyfills:_,defineCustomElements:C}=await import("../chunks/D2-oBDD7.js").then(P=>P.i);return{applyPolyfills:_,defineCustomElements:C}},__vite__mapDeps([0,1]),import.meta.url);l().then(()=>{b()}),window.addEventListener("beforeunload",_=>{h(t)&&(_.preventDefault(),_.returnValue="")})});let a=e.data,o=lt(a.category),r=lt(a.channels),n=ze(lt(a.roles)),d=lt(a.categories),f=lt(a.url);const p=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"],g=[{value:"CHANNEL",label:"Channel (Default)"},{value:"THREAD",label:"Thread (in category channel)"},{value:"FORUM",label:"Forum Channel"}];K.questions=o.questions;let m=Si(()=>o.channelMode==="FORUM"?r.filter(l=>l.type===15):o.channelMode==="THREAD"?r.filter(l=>l.type===0):r.filter(l=>l.type===4));Se(n,h(n).filter(l=>l.name!=="@everyone").sort((l,b)=>b.rawPosition-l.rawPosition),!0),h(n).forEach(l=>{l._hexColor=l.color>0?`#${l.color.toString(16).padStart(6,"0")}`:null,l._style=l._hexColor?`color: ${l._hexColor}`:""}),o.cooldown=o.cooldown?Ii(o.cooldown):"";let y=ze(null),w=ze(!1),x=ze(!1);const S=async()=>{try{Se(w,!0);const l={...o};if(o.discordCategory==="new"&&(l.discordCategory=null),l.cooldown=o.cooldown?Ii(o.cooldown):null,l.name.length>30)throw new Error(`The name is too long (${l.name.length}>30).`);if(l.description.length>100)throw new Error(`The description is too long (${l.description.length}>100).`);l.questions=K.questions.map(C=>{if(C.type==="TEXT"){if(C.value.length>0&&C.value.length<C.minLength)throw`The value of the "${C.label}" question is shorter than the minimum length.`;if(C.value.length>C.maxLength)throw`The value of the "${C.label}" question is longer than the maximum length.`}return delete C._real,C}),l.questions.find(C=>C.id===l.customTopic)===void 0&&(l.customTopic=null);const b=await fetch(f,{method:o.id?"PATCH":"POST",body:JSON.stringify(l),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),_=await b.json();if(b.ok)Se(t,!1),window.location="./";else throw _}catch(l){Se(w,!1),Se(y,l,!0),window.scroll({top:0,behavior:"smooth"})}},U=async()=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;Se(x,!0);const b=await fetch(f,{method:"DELETE",credentials:"include"}),_=await b.json();if(b.ok)window.location="./";else throw _}catch(l){Se(x,!1),Se(y,l,!0),window.scroll({top:0,behavior:"smooth"})}},J=l=>h(n).find(b=>b.id===l);Ua(()=>{o.customTopic=K.questions.find(l=>l.id===o.customTopic)?o.customTopic:null}),Ua(()=>{o.requireTopic=K.questions.length>0?!1:o.requireTopic});var q=Mn(),V=c(ge(q),4),L=u(V);s(V);var re=c(V,2),j=u(re);{var Z=l=>{cr(l,{get error(){return h(y)}})};B(j,l=>{h(y)&&l(Z)})}var ne=c(j,2),W=Si(()=>nr(()=>S())),R=u(ne),ae=u(R),O=u(ae),$=u(O),xe=c(u($));qe(xe);var Te=c(xe,4);te(Te),s($),s(O);var me=c(O,2),Ce=u(me),we=c(u(Ce));{var Qe=l=>{qe(l)};B(we,l=>{o.id&&l(Qe)})}var Xe=c(we,4);te(Xe),Yi(Xe,"placeholder","ticket-{num}"),s(Ce);var Ke=c(Ce,2);{var ft=l=>{var b=nn(),_=c(ge(b),2),C=c(u(_),2),P=u(C);Ba(P,()=>Wa.parse(o.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,Ha("user").username).replace(/{+\s?(user)?name\s?}+/gi,Ha("user").username)),s(C),s(_),T(l,b)};B(Ke,l=>{o.channelName&&l(ft)})}s(me);var pt=c(me,2),Tt=u(pt),Oe=c(u(Tt),3);te(Oe),s(Tt),s(pt);var Je=c(pt,2),Ji=u(Je),Zi=c(u(Ji),3);te(Zi),s(Ji),s(Je);var Vt=c(Je,2),ea=u(Vt),ta=c(u(ea));qe(ta);var ia=c(ta,4);te(ia),s(ea),s(Vt);var $t=c(Vt,2),aa=u($t),oa=u(aa);{var xo=l=>{var b=ki("Discord forum channel");T(l,b)},wo=l=>{var b=ki("Discord category");T(l,b)};B(oa,l=>{o.channelMode==="FORUM"?l(xo):l(wo,!1)})}var ra=c(oa,2);qe(ra);var na=c(ra,2),Qt=c(na,2);Ci(Qt,()=>{var l=u(Qt),b=dn(),_=ge(b);{var C=X=>{var le=ln(),se=ge(le),be=u(se);s(se),se.value=se.__value="new",kt(2),M(()=>oe(be,`Create a new ${o.channelMode==="FORUM"?"forum":"category"}`)),T(X,le)};B(_,X=>{(!o.discordCategory||o.discordCategory==="new")&&X(C)})}var P=c(_);Ne(P,17,()=>h(m),Pe,(X,le)=>{var se=sn(),be=u(se,!0);s(se);var ve={};M(()=>{oe(be,h(le).name),ve!==(ve=h(le).id)&&(se.value=(se.__value=h(le).id)??"")}),T(X,se)}),T(l,b)}),s(aa),s($t);var Kt=c($t,2),la=u(Kt),Jt=c(u(la),3);Ne(Jt,21,()=>g,Pe,(l,b)=>{var _=un(),C=u(_,!0);s(_);var P={};M(()=>{oe(C,h(b).label),P!==(P=h(b).value)&&(_.value=(_.__value=h(b).value)??"")}),T(l,_)}),s(Jt),s(la),s(Kt);var Zt=c(Kt,2),Eo=u(Zt);{var Do=l=>{var b=pn(),_=c(u(b),3);Ci(_,()=>{var C=u(_),P=fn(),X=ge(P);X.value=(X.__value=null)??"";var le=c(X,2);Ne(le,17,()=>d,Pe,(se,be)=>{var ve=Ct(),fe=ge(ve);{var ot=We=>{var Re=cn(),wi=u(Re);s(Re);var Ie={};M(Ze=>{oe(wi,`${Ze??""} ${h(be).name??""}`),Ie!==(Ie=h(be).id)&&(Re.value=(Re.__value=h(be).id)??"")},[()=>Ai.get(h(be).emoji)??""]),T(We,Re)};B(fe,We=>{h(be).id!==o.id&&We(ot)})}T(se,ve)}),T(C,P)}),s(b),Fe(_,()=>o.backupCategoryId,C=>o.backupCategoryId=C),T(l,b)},To=l=>{var b=mn();T(l,b)};B(Eo,l=>{o.channelMode==="CHANNEL"?l(Do):l(To,!1)})}s(Zt);var ei=c(Zt,2),sa=u(ei),da=c(u(sa));qe(da);var ti=c(da,4),So=u(ti,!0);s(ti);var ua=c(ti,2);te(ua),s(sa),s(ei);var ii=c(ei,2),ca=u(ii),fa=c(u(ca),3);te(fa),s(ca),s(ii);var ai=c(ii,2),pa=u(ai),ma=c(u(pa),3);te(ma),s(pa),s(ai);var oi=c(ai,2),va=u(oi),ha=c(u(va),3);te(ha),s(va),s(oi);var ri=c(oi,2),ni=u(ri),ga=c(u(ni));qe(ga);var ba=c(ga,4);oo(ba),s(ni);var ko=c(ni,2);Ga(ko,()=>o.pingRoles,l=>{var b=Ct(),_=ge(b);Ga(_,()=>o.requireTopic,C=>{var P=Ct(),X=ge(P);{var le=se=>{var be=wn(),ve=c(ge(be),2);Y(ve,"no-background",!0),M(()=>Y(ve,"light-theme",e.data.theme!=="dark")),qt(ve,1,"bloc w-full border-0");var fe=u(ve);M(()=>Y(fe,"author",e.data.client.username)),M(()=>Y(fe,"avatar",e.data.client.avatar)),Y(fe,"bot",!0),M(()=>Y(fe,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),qt(fe,1,"py-2"),Y(fe,"highlight",!0);var ot=u(fe);{var We=G=>{var F=hn(),mt=ge(F);Ne(mt,17,()=>o.pingRoles,Pe,(Wo,Go,zo)=>{const Di=Si(()=>J(h(Go)));var La=Ct(),Vo=ge(La);{var $o=Ti=>{var ja=vn(),Xa=ge(ja);{var Qo=Ye=>{var Ya=ki();Ya.nodeValue=" ",T(Ye,Ya)};B(Xa,Ye=>{zo>0&&Ye(Qo)})}var St=c(Xa,2);M(()=>{var Ye;return Y(St,"color",(Ye=h(Di))==null?void 0:Ye._hexColor)}),Y(St,"type","role");var Ko=u(St,!0);s(St),M(()=>{var Ye;return oe(Ko,(Ye=h(Di))==null?void 0:Ye.name)}),T(Ti,ja)};B(Vo,Ti=>{h(Di)&&Ti($o)})}T(Wo,La)}),kt(2),T(G,F)};B(ot,G=>{var F;((F=o.pingRoles)==null?void 0:F.length)>0&&G(We)})}var Re=c(ot,2);Y(Re,"highlight",!0);var wi=u(Re,!0);s(Re);var Ie=c(Re,2);Y(Ie,"slot","embeds"),M(()=>Y(Ie,"color",e.data.settings.primaryColour)),M(()=>Y(Ie,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`)),M(()=>Y(Ie,"author-name",e.data.user.username)),M(()=>Y(Ie,"image",o.image));var Ze=u(Ie);Y(Ze,"slot","description"),qt(Ze,1,"break-words prose prose-slate prose-sm dark:prose-invert prose-a:text-blurple");var Fo=u(Ze);Ba(Fo,()=>Wa.parse(o.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),s(Ze);var qa=c(Ze,2);{var Lo=G=>{var F=gn();Y(F,"slot","fields");var mt=u(F);Y(mt,"field-title","Topic"),s(F),T(G,F)};B(qa,G=>{o.requireTopic&&G(Lo)})}var jo=c(qa,2);{var Xo=G=>{var F=bn();Y(F,"slot","footer"),M(()=>Y(F,"footer-image",e.data.client.avatar));var mt=u(F,!0);s(F),M(()=>oe(mt,e.data.settings.footer)),T(G,F)};B(jo,G=>{e.data.settings.footer&&G(Xo)})}s(Ie);var Ei=c(Ie,2);Y(Ei,"slot","components");var Ma=u(Ei),Ra=u(Ma);{var Yo=G=>{var F=_n();Y(F,"type","secondary"),T(G,F)};B(Ra,G=>{(o.requireTopic||K.questions.length>0)&&G(Yo)})}var Fa=c(Ra,2);{var Ho=G=>{var F=yn();Y(F,"type","secondary"),T(G,F)};B(Fa,G=>{o.claiming&&e.data.settings.claimButton&&G(Ho)})}var Bo=c(Fa,2);{var Uo=G=>{var F=xn();Y(F,"type","destructive"),T(G,F)};B(Bo,G=>{e.data.settings.closeButton&&G(Uo)})}s(Ma),s(Ei),s(fe),s(ve),M(()=>oe(wi,e.data.user.username)),T(se,be)};B(X,se=>{o.openingMessage&&se(le)})}T(C,P)}),T(l,b)}),s(ri);var li=c(ri,2),_a=u(li),si=c(u(_a),3);Ne(si,21,()=>h(n),Pe,(l,b)=>{var _=En(),C=u(_);s(_);var P={};M(()=>{Oi(_,h(b)._style),oe(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),P!==(P=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),T(l,_)}),s(si),s(_a),s(li);var di=c(li,2),ya=u(di),ui=c(u(ya),3),ci=u(ui);ci.value=(ci.__value=null)??"";var Co=c(ci);Ne(Co,17,()=>p,Pe,(l,b)=>{var _=Dn(),C=u(_,!0);s(_);var P={};M(X=>{oe(C,h(b)),P!==(P=X)&&(_.value=(_.__value=X)??"")},[()=>Ii(h(b))/1e3]),T(l,_)}),s(ui),s(ya),s(di);var fi=c(di,2),xa=u(fi),pi=c(u(xa),3);Ne(pi,21,()=>h(n),Pe,(l,b)=>{var _=Tn(),C=u(_);s(_);var P={};M(()=>{Oi(_,h(b)._style),oe(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),P!==(P=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),T(l,_)}),s(pi),s(xa),s(fi);var mi=c(fi,2),wa=u(mi),vi=c(u(wa),3);te(vi),s(wa),s(mi);var hi=c(mi,2),Ea=u(hi),Da=c(u(Ea));qe(Da);var gi=c(Da,4);Ne(gi,21,()=>h(n),Pe,(l,b)=>{var _=Sn(),C=u(_);s(_);var P={};M(()=>{Oi(_,h(b)._style),oe(C,`${(h(b).unicodeEmoji||"")??""}
									${h(b).name??""}`),P!==(P=h(b).id)&&(_.value=(_.__value=h(b).id)??"")}),T(l,_)}),s(gi),s(Ea),s(hi);var Ta=c(hi,2),Sa=u(Ta),ka=c(u(Sa),3);te(ka),s(Sa),s(Ta),s(ae);var Ca=c(ae,2),bi=u(Ca),Oa=u(bi),_i=u(Oa),Ia=c(u(_i),2),Oo=u(Ia);s(Ia),s(_i);var Aa=c(_i,2);{var Io=l=>{var b=On(),_=u(b),C=c(u(_),3);Ci(C,()=>{var P=u(C),X=Cn(),le=ge(X);le.value=(le.__value=null)??"";var se=c(le,2);Ne(se,17,()=>K.questions,Pe,(be,ve)=>{var fe=kn(),ot=u(fe,!0);s(fe);var We={};M(()=>{oe(ot,h(ve).label),We!==(We=h(ve).id)&&(fe.value=(fe.__value=h(ve).id)??"")}),T(be,fe)}),T(P,X)}),s(_),s(b),Fe(C,()=>o.customTopic,P=>o.customTopic=P),T(l,b)};B(Aa,l=>{K.questions.length>0&&l(Io)})}var yi=c(Aa,2),Ao=u(yi);rn(Ao,{}),s(yi);var No=c(yi,2);{var Po=l=>{var b=In(),_=u(b);s(b),at("click",_,()=>{K.questions.push({id:yr(),label:`Question ${K.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:K.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})}),T(l,b)};B(No,l=>{K.questions.length<5&&l(Po)})}s(Oa),s(bi);var Na=c(bi,2),Pa=u(Na);{var qo=l=>{var b=Pn(),_=u(b);{var C=X=>{var le=An();T(X,le)},P=X=>{var le=Nn();T(X,le)};B(_,X=>{h(x)?X(C):X(P,!1)})}kt(),s(b),M(()=>b.disabled=h(x)),at("click",b,U),T(l,b)};B(Pa,l=>{o.id&&l(qo)})}var xi=c(Pa,2),Mo=u(xi);{var Ro=l=>{var b=qn();T(l,b)};B(Mo,l=>{h(w)&&l(Ro)})}kt(),s(xi),s(Na),s(Ca),s(R),s(ne),s(re),M((l,b)=>{oe(L,`${l??""}
	${(o.name||"New category")??""}`),Xe.required=!!o.id,Yi(na,"title",o.channelMode==="FORUM"?"Which forum channel should tickets be created in?":"Which category channel should ticket channels be created under?"),oe(So,b),vi.disabled=K.questions.length>0,oe(Oo,`${K.questions.length??""}/5`),xi.disabled=h(w)},[()=>Ai.get(o.emoji)??"",()=>Ai.get(o.emoji)??""]),or("submit",ne,function(...l){var b;(b=h(W))==null||b.apply(this,l)}),at("change",ne,()=>Se(t,!0)),de(Te,()=>o.name,l=>o.name=l),de(Xe,()=>o.channelName,l=>o.channelName=l),Mt(Oe,()=>o.claiming,l=>o.claiming=l),de(Zi,()=>o.cooldown,l=>o.cooldown=l),de(ia,()=>o.description,l=>o.description=l),Fe(Qt,()=>o.discordCategory,l=>o.discordCategory=l),Fe(Jt,()=>o.channelMode,l=>o.channelMode=l),de(ua,()=>o.emoji,l=>o.emoji=l),Mt(fa,()=>o.enableFeedback,l=>o.enableFeedback=l),de(ma,()=>o.image,l=>o.image=l),de(ha,()=>o.memberLimit,l=>o.memberLimit=l),de(ba,()=>o.openingMessage,l=>o.openingMessage=l),Fe(si,()=>o.pingRoles,l=>o.pingRoles=l),Fe(ui,()=>o.ratelimit,l=>o.ratelimit=l),Fe(pi,()=>o.requiredRoles,l=>o.requiredRoles=l),Mt(vi,()=>o.requireTopic,l=>o.requireTopic=l),Fe(gi,()=>o.staffRoles,l=>o.staffRoles=l),de(ka,()=>o.totalLimit,l=>o.totalLimit=l),T(i,q),Gt()}zi(["change","click"]);export{cl as component,ul as universal};
