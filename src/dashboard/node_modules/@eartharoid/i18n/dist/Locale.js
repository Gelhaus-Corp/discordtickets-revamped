export default class Locale extends Map {
    constructor(i18n, locale_id, messages) {
        super(messages);
        this.formatters = Object
            .entries(i18n.formatters)
            .reduce((acc, [name, builder]) => {
            const locales = [new Intl.Locale(locale_id)];
            if (i18n.default_locale_id)
                locales.push(new Intl.Locale(i18n.default_locale_id));
            acc[name] = builder(locales);
            return acc;
        }, {});
        this.i18n = i18n;
        this.locale_id = locale_id;
    }
    createTranslator() {
        return this.i18n.createTranslator(this.locale_id);
    }
    t(key, args) {
        return this.i18n.t(this.locale_id, key, args);
    }
}
